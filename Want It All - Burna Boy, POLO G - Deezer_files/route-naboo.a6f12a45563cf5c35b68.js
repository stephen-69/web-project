(window.webpackJsonpDeezer=window.webpackJsonpDeezer||[]).push([[194,5],{"+A5h":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("HF1P").a.get("log_contexts"),a=function(e){return null!=e&&("number"==typeof e.ID||"string"==typeof e.ID)&&"string"==typeof e.TYPE},i=function(e,t){return String(e.ID)===String(t.ID)&&r[e.TYPE]===r[t.TYPE]}},"+NIV":function(e,t,n){e.exports={root:"_3HNuk","is-opened":"_3bf_p",isOpened:"_3bf_p"}},"+U6v":function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("GKVU"),n("q1tI")),v=n.n(m),y=(n("qePV"),n("/MKj")),g=n("shcr"),b=n("eHHa"),_=n("MST+"),E=n("Onv7"),k=n("9z3s"),O=n("rod9"),S=n("6Sps"),T=n("pHhg"),R=n("6pb3"),C=n("MvJI"),N=n("D4Tm"),x=n("LQZe"),P=n("hEHE"),w=n("ftm1"),A=n("MihO"),I=n("asCL"),j=n("i+V0"),D=n("CGCA"),L=n("zs5+"),M=n("SZ5K"),F=function(e){var t=e.children,n=e.force,r=void 0!==n&&n,a=e.href,i=e.label;return v.a.createElement(D.a,{handleClick:function(){j.default.open(a,r)}},v.a.createElement(L.a,null,t),v.a.createElement(M.a,{value:i}))},B=n("LvGN"),H=n("r+fB"),U=n("Ssqf");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var V=function(e){u()(n,e);var t=z(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"canModifyQueuelist",value:function(){var e=this.props,t=e.mediaType;return!e.playerIsRadio&&t===O.b.SONG}},{key:"renderAddToQueue",value:function(){var e=this.props,t=e.context,n=e.id;return this.canModifyQueuelist()?v.a.createElement("li",null,v.a.createElement(P.a,{context:t,ids:[n],type:k.a.Album})):null}},{key:"renderDownload",value:function(){var e=this.props,t=e.context,n=e.id;return e.userHasDownload?v.a.createElement("li",null,v.a.createElement(w.a,{context:t,id:n,type:k.a.Album})):null}},{key:"renderEditGenre",value:function(){var e=this.props.id;return g.a.isAllowed("employee_feature")?v.a.createElement("li",null,v.a.createElement(F,{href:"/lightbox/curators/update_genre/".concat(e),label:Object(b.a)("Changer les genres")},r||(r=v.a.createElement(C.a,null)))):null}},{key:"renderEditTags",value:function(){var e=this.props.id;return g.a.isAllowed("employee_feature")?v.a.createElement("li",null,v.a.createElement(A.a,{id:e,type:k.a.Album})):null}},{key:"renderGiveFeedback",value:function(){var e=this.props.id;return v.a.createElement("li",null,v.a.createElement(I.a,{id:Number(e),type:k.a.Album}))}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.id;return this.canModifyQueuelist()?v.a.createElement("li",null,v.a.createElement(B.a,{action:x.a.PLAY_NEXT,context:t,ids:[n],type:k.a.Album})):null}},{key:"renderResizeCover",value:function(){var e=this.props,t=e.data;return e.shouldHideCover?null:v.a.createElement("li",null,v.a.createElement(F,{href:"/lightbox/picture_zoom?context=ticker&type=cover&md5=".concat(t.ALB_PICTURE),label:Object(b.a)("Zoomer sur la pochette")},a||(a=v.a.createElement(N.a,null))))}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return v.a.createElement("li",null,v.a.createElement(H.a,{context:t,data:n,id:r,type:T.b.album}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id;return v.a.createElement("li",null,v.a.createElement(U.a,{context:t,id:n,type:k.a.Album}))}},{key:"render",value:function(){return v.a.createElement(S.a,null,v.a.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderToggleFavorite(),this.renderDownload(),this.renderShare(),this.renderResizeCover(),this.renderGiveFeedback(),this.renderEditGenre(),this.renderEditTags()))}}]),n}(m.Component),q=Object(R.a)(Object(y.c)((function(e,t){var n=e.player,r=e.user;return{mediaType:n.music.mediaType,playerIsRadio:n.config.isRadio,shouldHideCover:Object(E.f)(r,t.data),userHasDownload:Object(_.L)(r)}}))(V)),G=n("9mL2"),Y=n("OuPr"),W=n("3lCq");function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var K=function(e){u()(n,e);var t=Q(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(G.c)(),r}return s()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return v.a.createElement(W.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[Y.d,Y.f],usePortal:!0};return v.a.createElement(q,c,n)}))}}]),n}(m.Component);K.defaultProps={placement:"left"};t.a=K},"+ts2":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d}));n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={home:"home",loved:"loved",playlists:"playlists",albums:"albums",artists:"artists",shows:"shows",podcasts:"shows",history:"history",radios:"radios",personal_song:"personal_song",downloads:"downloads",following:"following",followers:"followers"},s=a()({},c.shows,"podcasts"),l=function(e){return o(o({},c),s)[e]},u=function(e){return c[e]},d=function(e){return c[e]&&!s[e]}},"/Axe":function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity"],"header":{"sorter":true,"add":true,"contextMenu":true},"infiniteScroll":true,"fillerHeight":true,"cover":"album"}')},"0/XF":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n("SuFq");var r,a=n("lSNA"),i=n.n(a),o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("PJYZ"),d=n.n(u),p=n("7W2i"),f=n.n(p),h=n("a1gu"),m=n.n(h),v=n("Nsbk"),y=n.n(v),g=n("YVrg"),b=n("hbEN"),_=(n("wLYn"),n("SYor"),n("q1tI")),E=n.n(_),k=(n("17x9"),n("iuhU")),O=n("eHHa"),S=n("QiwK"),T=n("hwpZ"),R=n("Tkg6"),C=n.n(R),N=n("BM6a");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var P={sm:"12",md:"14",lg:"16"},w=function(e){f()(n,e);var t=x(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).state={query:""},r._onSearch=Object(b.a)(r._onSearch.bind(d()(r)),500),r._onChangeSearch=r._onChangeSearch.bind(d()(r)),r._onCleanSearch=r._onCleanSearch.bind(d()(r)),r._onFocus=r._onFocus.bind(d()(r)),r}return l()(n,[{key:"render",value:function(){var e,t=this.state.query,n=this.props,a=n.isDisabled,o=n.placeholder,c=n.searchIcon,s=n.rounded,l=n.secondary,u=n.size,d=n.displayLoader,p=Object(k.a)("form-input-cancel",C.a.searchInputCancel,{"is-active":""!==t}),f=Object(k.a)("form-control ellipsis",C.a["search-form-control"],(e={},i()(e,C.a["is-rounded"],s),i()(e,C.a["is-secondary"],l),i()(e,C.a["has-icon"],c),e)),h=Object(k.a)("form-input-loader",C.a.searchInputLoader,{"is-active":d&&""!==t});return E.a.createElement("div",{className:Object(k.a)("btn-group",C.a["input-search-group"],C.a["input-search-group--".concat(u)])},c&&E.a.createElement(S.a,{className:C.a.inputSearchIcon,size:P[u]}),E.a.createElement("input",{className:f,value:t,placeholder:o,"aria-label":o,disabled:a,onChange:this._onChangeSearch,onFocus:this._onFocus}),E.a.createElement("div",{className:h},r||(r=E.a.createElement(N.a,{thickness:1,size:12}))),E.a.createElement("a",{role:"button",className:p,onClick:this._onCleanSearch,"aria-hidden":""===t,"aria-label":Object(O.a)("Effacer")},E.a.createElement(T.a,{size:P[u]})))}},{key:"_onChangeSearch",value:function(e){var t=this,n=e.target.value||"";this.setState({query:n},(function(){t._onSearch(n)}))}},{key:"_onSearch",value:function(e){this.props.onSearchChange(Object(g.a)(e.toLowerCase().trim()))}},{key:"_onCleanSearch",value:function(){var e=this;this.setState({query:""},(function(){e._onSearch("")}))}},{key:"_onFocus",value:function(){this.props.onFocus&&this.props.onFocus()}}]),n}(_.Component);w.defaultProps={isDisabled:!1,onFocus:null,placeholder:Object(O.a)("Rechercher"),size:"sm",searchIcon:!1,rounded:!1,secondary:!1,displayLoader:!1}},"0Bmj":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n("SuFq"),n("+2oP"),n("07d7"),n("sMBO"),n("pjDv"),n("PKPk"),n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("3bBZ"),n("J30X");var r=n("J4zp"),a=n.n(r),i=n("lwsE"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("oShl"),h=n.n(f),m=(n("TeQF"),n("E9XD"),n("tkto"),n("7npb")),v=n("N4TD");function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var _=function(e){s()(n,e);var t=b(n);function n(){return o()(this,n),t.apply(this,arguments)}return n}(h()(Error));function E(e){var t,n=e.length,r=0,i=0,o=0,c=!1,s=y(e);try{for(s.s();!(t=s.n()).done;){var l=a()(t.value,3),u=l[0],d=l[1],p=l[2];u<=30?(r+=u+300,c=!0):r+=u,o+=p,i+=d}}catch(e){s.e(e)}finally{s.f()}return r=Math.floor(r/n),o=Math.floor(o/n),c&&r<330&&(r-=300),[r,i=Math.floor(i/n),o]}function k(e){var t=document.createElement("canvas"),n=t.getContext&&t.getContext("2d");if(!n)throw new _("Cannot pick color");var r=null,i=t.height=e.naturalHeight||e.offsetHeight||e.height,o=t.width=e.naturalWidth||e.offsetWidth||e.width;n.drawImage(e,0,0);try{r=n.getImageData(0,0,o,i)}catch(e){throw new _("Cannot get image data")}var c=function(e){for(var t=function(e){switch(!0){case e<60:return 1;case e>=60&&e<160:return 2;case e>=160&&e<260:return 4;case e>=260:return 6;default:return 1}}(e.width),n=Math.floor(e.width/(t*window.devicePixelRatio)),r=e.data?e.data.length:0,a=1===t?0:Math.floor(e.height/n),i=4*e.width,o=Math.floor(i/n),c=Math.floor(a*i),s=[],l=0-o,u=0;(l+=o)<r;){var d=Object(v.b)([e.data[l],e.data[l+1],e.data[l+2]]);s.push(d);var p=l+4*o;Math.floor(p/(4*e.width))!==u&&(l+=c,u=Math.floor(l/(4*e.width)))}return s}(r),s=c.filter((function(e){return Object(m.b)(e)}));if(0===s.length)throw new _("Image is not enough colored");var l=function(e){var t,n={red:[],yellow:[],green:[],cyan:[],blue:[],pink:[]},r=y(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=a()(i,1)[0];switch(!0){case o<=30:case o>330:n.red.push(i);break;case o<=90:n.yellow.push(i);break;case o<=150:n.green.push(i);break;case o<=210:n.cyan.push(i);break;case o<=270:n.blue.push(i);break;case o<=330:n.pink.push(i)}}}catch(e){r.e(e)}finally{r.f()}return n}(s),u=Object.keys(l).reduce((function(e,t){return l[t].length>l[e].length?t:e}));return{color:E(l[u]),visiblePixelsPercentage:Math.floor(s.length/c.length*100)}}},"0I9b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var r={off:"off",on:"on",force:"force"},a={off:"off",on:"on"},i={center:!1,play:r.off,preview:r.off,favorite:r.off,contextMenu:r.off,dislike:r.off,overlay:a.off}},"0jNv":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,a,i=n("pVnL"),o=n.n(i),c=n("q1tI"),s=n.n(c),l=n("VPTF");function u(e){return s.a.createElement(l.a,o()({name:"share"},e),r||(r=s.a.createElement("path",{d:"M0 3.754C0 3.062.56 2.5 1.251 2.5H11v7.246C11 10.438 10.44 11 9.749 11H1.25A1.25 1.25 0 0 1 0 9.746V3.754zM1 3.5l1-1h9v5l-1 1.01V10H1V3.5z",fillRule:"evenodd"})),a||(a=s.a.createElement("path",{d:"M8 4.8v2.4l4-3.7L8 0v2.5c-5 0-6 2.907-6 7 0-1.63 1.03-4.7 5.636-4.7H8z",fillRule:"evenodd"})))}},"1Hxe":function(e,t,n){"use strict";n.d(t,"a",(function(){return se}));n("SuFq");var r,a,i,o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("PJYZ"),d=n.n(u),p=n("7W2i"),f=n.n(p),h=n("a1gu"),m=n.n(h),v=n("Nsbk"),y=n.n(v),g=n("lSNA"),b=n.n(g),_=(n("wLYn"),n("yq1k"),n("JTJg"),n("2B1R"),n("ma9I"),n("07d7"),n("5s+n"),n("DQNa"),n("JfAA"),n("q1tI")),E=n.n(_),k=n("/MKj"),O=n("X6oL"),S=n.n(O),T=n("iuhU"),R=n("+JhM"),C=n("OCk3"),N=n("5m/f"),x=n("OfRX"),P=function(e){return e?{id:e.ID,t:e.TYPE}:{}},w={follow:function(e,t){return new Promise((function(n,r){x.b.call({method:"friend.follow",data:{friend_id:e,ctxt:P(t)},success:function(){return n()},error:r})}))},unfollow:function(e,t){return new Promise((function(n,r){x.b.call({method:"friend.unfollow",data:{friend_id:e,ctxt:P(t)},success:function(){return n()},error:r})}))}},A=n("2iVh"),I=n("+A5h"),j=n("D7Xx"),D=n("Rzlq"),L=n("ihv3"),M=n("shcr"),F=n("rb98"),B=n("uNVz"),H=n("pVnL"),U=n.n(H),z=n("VPTF");function V(e){return E.a.createElement(z.a,U()({name:"play-circle"},e),r||(r=E.a.createElement("path",{d:"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10zm0 1A6 6 0 1 1 6 0a6 6 0 0 1 0 12zM4.937 4.017a.125.125 0 0 0-.187.108v3.75c0 .096.104.156.187.108l3.25-1.875a.125.125 0 0 0 0-.216l-3.25-1.875z"})))}function q(e){return E.a.createElement(z.a,U()({name:"shuffle"},e),i||(i=E.a.createElement("path",{d:"M9.333 9.214h-.666C6.826 9.214 5.333 7.775 5.333 6c0-1.066-.894-1.929-2-1.929H.683C.298 4.071 0 3.784 0 3.43c0-.356.298-.643.667-.729.137 0 2.65.01 2.666 0 1.841.086 3.334 1.525 3.334 3.3 0 1.065.896 1.929 2 1.929h3c.185 0 .333.143.333.321v.321L9.333 10.5V9.214zm-.666-5.143c-.367 0-.708.103-1.004.27a4.497 4.497 0 0 0-.672-1.104c.493-.28 1.062-.451 1.709-.537.013.03.51 0 .6 0V1.5L12 3.429v.321a.327.327 0 0 1-.333.321h-3zM3.333 7.93c.369 0 .709-.103 1.004-.27.168.404.4.767.672 1.104-.493.28-1.062.451-1.676.537-.018-.011-2.435 0-2.666 0C.298 9.214 0 8.927 0 8.571c0-.355.298-.642.667-.642h2.666z"})))}var G,Y=n("kUkq");var W,Q=n("u5VU"),K=n("hwpZ");function J(e){return E.a.createElement(z.a,U()({name:"follow"},e),W||(W=E.a.createElement("path",{d:"M2 5.001H0V6h2v2h1V6h2v-.999H3v-2H2v2zM8 6c1.999 0 1.999-1.895 1.999-3A2 2 0 1 0 6 3c0 1.105 0 3 2 3zm4 3.828C12 8.266 10.21 7 8 7S4 8.266 4 9.828c0 1.563 8 1.563 8 0z"})))}var X,Z,$,ee,te=n("9ae3"),ne=n("zCn5"),re=n("o9cr"),ae=n("smSd"),ie=n("9z3s");function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ce=(X={},b()(X,re.a.PLAY,{default:V,active:V,hover:function(e){return E.a.createElement(z.a,U()({name:"pause-circle"},e),a||(a=E.a.createElement("path",{d:"M6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10zM4.665 4h.67c.091 0 .165.075.165.167v3.666A.167.167 0 0 1 5.335 8h-.67a.166.166 0 0 1-.165-.167V4.167c0-.092.075-.167.165-.167zm1.835.167c0-.092.075-.167.165-.167h.67c.091 0 .165.075.165.167v3.666A.167.167 0 0 1 7.335 8h-.67a.166.166 0 0 1-.165-.167V4.167z"})))},resume:V}),b()(X,re.a.SHUFFLE,{default:q,active:q,hover:Y.a,resume:q}),b()(X,re.a.FAVORITE,{default:function(e){return E.a.createElement(z.a,U()({name:"love-outline"},e),G||(G=E.a.createElement("path",{className:"svg-path",fill:"none",strokeWidth:"1.2",d:"M6 10.77a26.815 26.815 0 0 0 2.595-2.087c.996-.913 1.78-1.8 2.267-2.612.356-.594.538-1.124.538-1.571 0-1.734-1.207-2.9-2.65-2.9-.616 0-1.17.229-1.656.619a3.006 3.006 0 0 0-.595.614L6 3.582l-.5-.75a3.006 3.006 0 0 0-.593-.613C4.42 1.829 3.867 1.6 3.25 1.6 1.807 1.6.6 2.766.6 4.5c0 .447.182.977.538 1.571.488.812 1.271 1.699 2.267 2.612A26.815 26.815 0 0 0 6 10.77z"})))},active:Q.a,hover:K.a,default_user:J,active_user:te.a,hover_user:K.a}),b()(X,re.a.FOLLOW,{default:J,active:te.a,hover:K.a}),b()(X,re.a.DOWNLOAD,{default:ne.a,active:te.a,hover:K.a}),X),se=S()()((ee=$=function(e){f()(n,e);var t=oe(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).state={hover:!1},r._onClick=r._onClick.bind(d()(r)),r._onMouseEnter=r._onMouseEnter.bind(d()(r)),r._onMouseLeave=r._onMouseLeave.bind(d()(r)),r._onPlayClick=r._onPlayClick.bind(d()(r)),r._onShuffleClick=r._onShuffleClick.bind(d()(r)),r._onFavoriteClick=r._onFavoriteClick.bind(d()(r)),r._onDownloadClick=r._onDownloadClick.bind(d()(r)),r}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.action,r=e.color,a=e.size,i=e.disabled,o=e.className;if(!M.a.isAllowed("talk")&&t===ie.a.Show&&n===re.a.FAVORITE)return null;var c=this._getStatus(),s=this._renderIcon(c);return a===re.c.LINK?E.a.createElement("button",{className:Object(T.a)("btn","btn-link",o),onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,type:"button"},this._renderContent(c)):[re.a.DOWNLOAD,re.a.FAVORITE].includes(n)&&s?E.a.createElement(R.a,{color:r,iconOnly:s,isDisabled:i,onClick:this._onClick,variant:"outlined","aria-label":this._getWording(c)}):E.a.createElement(R.a,{color:r,iconLeft:s||void 0,isDisabled:i,isFullWidth:a===re.c.BLOCK,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this._renderContent(c))}},{key:"_renderContent",value:function(e){var t=this,n=this.props,r=n.action,a=n.size,i=[re.d.DEFAULT,re.d.ACTIVE,re.d.HOVER];return r!==re.a.SHUFFLE&&r!==re.a.PLAY||i.push(re.d.RESUME),i.map((function(n){var r=Object(T.a)("states-button-action",{"is-active":n===e}),i=Object(T.a)("states-button-label",{label:a===re.c.LINK});return E.a.createElement("div",{className:r,key:n},E.a.createElement("span",{className:i},t._getWording(n)))}))}},{key:"_renderIcon",value:function(e){var t=this.props,n=t.action,r=t.color;if(e===re.d.ACTIVE&&(n===re.a.PLAY||n===re.a.SHUFFLE))return E.a.createElement("span",{className:Object(T.a)({"equalizer equalizer-12":!0,"equalizer-dark":r===re.b.DEFAULT,"equalizer-inverse":r!==re.b.DEFAULT})});var a=this.props,i=a.type,o=a.isPersisted,c=i===ie.a.User&&n===re.a.FAVORITE?"_user":"",s="".concat(e).concat(c);if(ce[n]&&ce[n][s]){var l=ce[n][s];return E.a.createElement(l,{className:Object(T.a)({"color-primary":e===re.d.ACTIVE&&r!==re.b.PRIMARY,"color-download":n===re.a.DOWNLOAD&&o&&e!==re.d.HOVER})})}return null}},{key:"_onClick",value:function(){var e=this,t=this.props,n=t.disabled,r=t.action,a=t.onClick;if(!n)return a?(a(),void this._trackClick()):void this._handleAction(r).then((function(){e._trackClick(),e.props.onToggleState&&e.props.onToggleState()}))}},{key:"_onFollowClick",value:function(){return this.props.isFollowed?w.unfollow(String(this.props.id),this.props.context):w.follow(String(this.props.id),this.props.context)}},{key:"_onMouseEnter",value:function(){this.setState({hover:!0})}},{key:"_onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"_onPlayClick",value:function(){var e=this;return new Promise((function(t){var n=e.props,r=n.context,a=n.type,i=n.id,o=n.items;if(e._hasSameContext())return L.b.intent(Object(j.a)(C.c)),C.c.control.togglePause(),void t();L.b.intent("play"),C.c.play({type:a,id:i,data:o,radio:"artist_smartradio"===r.TYPE||"profile_user_radio"===r.TYPE,context:r}),t()}))}},{key:"_onShuffleClick",value:function(){var e=this;return new Promise((function(t){var n=e.props,r=n.id,a=n.items,i=n.context;if(e._hasSameContext())return L.b.intent(Object(j.a)(C.c)),C.c.control.togglePause(),void t();L.b.intent("play"),C.c.play({type:i.TYPE,id:r,data:a,radio:!1,context:i}),t()}))}},{key:"_onFavoriteClick",value:function(){var e=this;return new Promise((function(t){var n=e.props,r=n.id,a=n.type,i=n.context;N.a.toggle({id:r,type:a,context:i}),t()}))}},{key:"_onDownloadClick",value:function(){var e=this.props,t=e.id,n=e.type,r=e.isPersisted,a=e.currentAudioQuality,i=e.addToCache,o=e.removeFromCache,c={id:t.toString(),type:n===ae.a.PersonalLoved?A.e:n,context:{}};return r?o({entity:c}):i({entity:c,quality:a})}},{key:"_handleAction",value:function(e){switch(e){case re.a.PLAY:return this._onPlayClick();case re.a.SHUFFLE:return this._onShuffleClick();case re.a.FAVORITE:return this._onFavoriteClick();case re.a.FOLLOW:return this._onFollowClick();case re.a.DOWNLOAD:return this._onDownloadClick();default:return Promise.resolve()}}},{key:"_getStatus",value:function(){var e=this.props,t=e.action,n=e.isFavorite,r=e.isPersisted,a=e.isPlayerPlaying,i=e.isPlayerPaused,o=re.d.DEFAULT;return t===re.a.FAVORITE&&n||t===re.a.FOLLOW&&this.props.isFollowed||t===re.a.DOWNLOAD&&r?o=re.d.ACTIVE:t!==re.a.PLAY&&t!==re.a.SHUFFLE||!this._hasSameContext()||(i?o=re.d.RESUME:a&&(o=re.d.ACTIVE)),o===re.d.ACTIVE&&this.state.hover&&(o=re.d.HOVER),o}},{key:"_hasSameContext",value:function(){var e=this.props,t=e.context,n=e.currentPlayerContext;return Object(I.a)(n)&&Object(I.b)(t,n)}},{key:"_getWording",value:function(e){var t=this.props,n=t.wordingType,r=t.action,a=t.type;return n===re.e.NONE?"":Object(D.a)({action:r,type:a,wording:n},e)}},{key:"_trackClick",value:function(){var e=this.props,t=e.type,n=e.action,r=e.isPlayerPlaying,a=e.isPlayerPaused,i=e.isFavorite,o=n;if(n===re.a.FAVORITE&&(o=i?"dislike":"like"),this.props.tracking&&(n!==re.a.PLAY||!r&&!a)){var c=this.props.tracking.getTrackingData(),s=c.pagecategory||c.pagename;s&&this.props.tracking.trackEvent({eventaction:"click-".concat(o,"-").concat(t),event:"click",eventcategory:s,eventlabel:"".concat(o,"-").concat(t)})}}}]),n}(_.Component),$.defaultProps={color:re.b.DEFAULT,items:[],wordingType:re.e.STANDARD,size:re.c.EMPTY,disabled:!1,isFollowed:!1},Z=ee))||Z;t.b=Object(k.c)((function(e,t){var n=e.cache,r=e.user,a=e.feedbacks,i=e.player,o={id:t.id,type:t.type===ae.a.PersonalLoved?A.e:t.type};return{isFavorite:Object(F.h)(a,String(t.id),t.type),isPersisted:Object(B.i)(n,o),currentAudioQuality:r.currentAudioQuality,currentPlayerContext:Object(I.a)(i.music.context)?i.music.context:null,isPlayerPlaying:i.control.playing,isPlayerPaused:i.control.paused}}))(se)},"1KK4":function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},"1Unx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="full",a="autocomplete"},"2F2/":function(e){e.exports=JSON.parse('{"availableOnly":true,"cells":["Play","EpisodeHeard","EpisodeTitle","Explicit","EpisodeInformation","EpisodeAdd","ShowName","Duration","EpisodeReleaseDate"],"shareType":8,"cover":"show"}')},"2Iyy":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"edit"},e),r||(r=c.a.createElement("path",{d:"M1.5 9.5l1 .998L0 12l1.5-2.5zm.5-1l7-7L10.5 3l-7 7L2 8.5zM9.9.6l.6-.6L12 1.5l-.6.618L9.9.6z"})))}},"2hFd":function(e){e.exports=JSON.parse('{"cdNumber":true,"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","FallbackLink","Lyrics","Explicit","Duration","Popularity","Checkbox"],"toolbar":{"playAll":true,"favorite":true,"shareType":1,"contextMenu":true,"download":true},"header":{"sorter":true,"add":true,"contextMenu":true},"multiArtist":true,"trackNumber":true,"sorterStorageKey":"album"}')},"2nUr":function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","EditMp3","AddToPlaylist","ContextMenu","Lyrics","Artist","Album","Duration","Checkbox"],"header":{"contextMenu":true,"remove":true},"toolbar":{"playAll":true,"upload":true},"infiniteScroll":true,"fillerHeight":true,"trackIndex":true}')},3825:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"ChevronDownIcon",paths:{16:'<path d="m8 11.5 6-6.277-.69-.723L8 10.054 2.691 4.5l-.69.723L8 11.5z"></path>',24:'<path d="m11.999 17.499-10-10.28.697-.718 9.303 9.564 9.303-9.564.697.717-10 10.28z"></path>'}})},"3H5r":function(e,t){!function(){var t,n,r,a,i,o,c,s,l,u,d,p,f,h,m,v,y,g,b,_,E,k,O,S,T,R,C,N,x,P,w,A,I,j,D,L,M,F,B,H,U,z,V,q,G,Y,W,Q,K,J,X,Z,$,ee,te,ne,re=parseInt(17/3,10),ae=null;function ie(){this.fc=0,this.dl=0}function oe(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0}function ce(e,t,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r}function se(){this.next=null,this.len=0,this.ptr=[],this.off=0}var le=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[new ce(0,0,0,0),new ce(4,4,8,4),new ce(4,5,16,8),new ce(4,6,32,32),new ce(4,4,16,16),new ce(8,16,32,32),new ce(8,16,128,128),new ce(8,32,128,256),new ce(32,128,258,1024),new ce(32,258,258,4096)];function he(e){e.next=t,t=e}function me(e){return d[32768+e]}function ve(e,t){return d[32768+e]=t}function ye(e){ae[o+i++]=e,o+i===8192&&function(){var e,a;if(0!==i){for(null!==t?(c=t,t=t.next):c=new se,c.next=null,c.len=c.off=0,e=c,null===n?n=r=e:r=r.next=e,e.len=i-o,a=0;a<e.len;a++)e.ptr[a]=ae[o+a];i=o=0}var c}()}function ge(e){e&=65535,o+i<8190?(ae[o+i++]=255&e,ae[o+i++]=e>>>8):(ye(255&e),ye(e>>>8))}function be(){m=32767&(m<<re^255&s[E+3-1]),v=me(m),d[32767&E]=v,ve(m,E)}function _e(e,t){Fe(t[e].fc,t[e].dl)}function Ee(e){return 255&(e<256?q[e]:q[256+(e>>7)])}function ke(e,t,n){return e[t].fc<e[n].fc||e[t].fc===e[n].fc&&z[t]<=z[n]}function Oe(e,t,n){var r;for(r=0;r<n&&ne<te.length;r++)e[t+r]=255&te[ne++];return r}function Se(e){var t,n,r,a,i=T,o=E,c=_,l=E>32506?E-32506:0,u=E+258,p=s[o+c-1],f=s[o+c];_>=N&&(i>>=2);do{if(s[(t=e)+c]===f&&s[t+c-1]===p&&s[t]===s[o]&&s[++t]===s[o+1]){for(o+=2,t++;o<u;){for(a=!1,r=0;r<8;r+=1)if(t+=1,s[o+=1]!==s[t]){a=!0;break}if(a)break}if(n=258-(u-o),o=u-258,n>c){if(k=e,c=n,n>=x)break;p=s[o+c-1],f=s[o+c]}}}while((e=d[32767&e])>l&&0!=--i);return c}function Te(){var e,t,n=65536-S-E;if(-1===n)n--;else if(E>=65274){for(e=0;e<32768;e++)s[e]=s[e+32768];for(k-=32768,E-=32768,h-=32768,e=0;e<32768;e++)ve(e,(t=me(e))>=32768?t-32768:0);for(e=0;e<32768;e++)t=d[e],d[e]=t>=32768?t-32768:0;n+=32768}O||((e=Oe(s,E+S,n))<=0?O=!0:S+=e)}function Re(){O||(p=0,f=0,function(){var e,t,n,r,a;if(0!==I[0].dl)return;for(D.dyn_tree=P,D.static_tree=A,D.extra_bits=le,D.extra_base=257,D.elems=286,D.max_length=15,D.max_code=0,L.dyn_tree=w,L.static_tree=I,L.extra_bits=ue,L.extra_base=0,L.elems=30,L.max_length=15,L.max_code=0,M.dyn_tree=j,M.static_tree=null,M.extra_bits=de,M.extra_base=0,M.elems=19,M.max_length=7,M.max_code=0,n=0,r=0;r<28;r++)for(G[r]=n,e=0;e<1<<le[r];e++)V[n++]=r;for(V[n-1]=r,a=0,r=0;r<16;r++)for(Y[r]=a,e=0;e<1<<ue[r];e++)q[a++]=r;for(a>>=7;r<30;r++)for(Y[r]=a<<7,e=0;e<1<<ue[r]-7;e++)q[256+a++]=r;for(t=0;t<=15;t++)F[t]=0;e=0;for(;e<=143;)A[e++].dl=8,F[8]++;for(;e<=255;)A[e++].dl=9,F[9]++;for(;e<=279;)A[e++].dl=7,F[7]++;for(;e<=287;)A[e++].dl=8,F[8]++;for(we(A,287),e=0;e<30;e++)I[e].dl=5,I[e].fc=Be(e,5);xe()}(),function(){var e;for(e=0;e<32768;e++)d[32768+e]=0;if(R=fe[C].max_lazy,N=fe[C].good_length,x=fe[C].nice_length,T=fe[C].max_chain,E=0,h=0,(S=Oe(s,0,65536))<=0)return O=!0,void(S=0);for(O=!1;S<262&&!O;)Te();for(m=0,e=0;e<2;e++)m=32767&(m<<re^255&s[e])}(),n=null,i=0,o=0,C<=3?(_=2,b=0):(b=2,g=!1),c=!1)}function Ce(e,t,r){var i;return a||(Re(),a=!0,0!==S)?(i=Ne(e,t,r))===r?r:c?i:(C<=3?function(){for(;0!==S&&null===n;){var e;if(be(),0!==v&&E-v<=32506&&(b=Se(v))>S&&(b=S),b>=3)if(e=Le(E-k,b-3),S-=b,b<=R){b--;do{E++,be()}while(0!=--b);E++}else E+=b,b=0,m=32767&((m=255&s[E])<<re^255&s[E+1]);else e=Le(0,255&s[E]),S--,E++;for(e&&(De(0),h=E);S<262&&!O;)Te()}}():function(){for(;0!==S&&null===n;){if(be(),_=b,y=k,b=2,0!==v&&_<R&&E-v<=32506&&((b=Se(v))>S&&(b=S),3===b&&E-k>4096&&b--),_>=3&&b<=_){var e;e=Le(E-1-y,_-3),S-=_-1,_-=2;do{E++,be()}while(0!=--_);g=!1,b=2,E++,e&&(De(0),h=E)}else g?(Le(0,255&s[E-1])&&(De(0),h=E),E++,S--):(g=!0,E++,S--);for(;S<262&&!O;)Te()}}(),0===S&&(g&&Le(0,255&s[E-1]),De(1),c=!0),i+Ne(e,i+t,r-i)):(c=!0,0)}function Ne(e,t,r){var a,c,s;for(a=0;null!==n&&a<r;){for((c=r-a)>n.len&&(c=n.len),s=0;s<c;s++)e[t+a+s]=n.ptr[n.off+s];var l;if(n.off+=c,n.len-=c,a+=c,0===n.len)l=n,n=n.next,he(l)}if(a===r)return a;if(o<i){for((c=r-a)>i-o&&(c=i-o),s=0;s<c;s++)e[t+a+s]=ae[o+s];a+=c,i===(o+=c)&&(i=o=0)}return a}function xe(){var e;for(e=0;e<286;e++)P[e].fc=0;for(e=0;e<30;e++)w[e].fc=0;for(e=0;e<19;e++)j[e].fc=0;P[256].fc=1,$=ee=0,Q=K=J=0,X=0,Z=1}function Pe(e,t){for(var n=B[t],r=t<<1;r<=H&&(r<H&&ke(e,B[r+1],B[r])&&r++,!ke(e,n,B[r]));)B[t]=B[r],t=r,r<<=1;B[t]=n}function we(e,t){var n,r,a=[],i=0;for(n=1;n<=15;n++)i=i+F[n-1]<<1,a[n]=i;for(r=0;r<=t;r++){var o=e[r].dl;0!==o&&(e[r].fc=Be(a[o]++,o))}}function Ae(e){var t,n,r=e.dyn_tree,a=e.static_tree,i=e.elems,o=-1,c=i;for(H=0,U=573,t=0;t<i;t++)0!==r[t].fc?(B[++H]=o=t,z[t]=0):r[t].dl=0;for(;H<2;){var s=B[++H]=o<2?++o:0;r[s].fc=1,z[s]=0,$--,null!==a&&(ee-=a[s].dl)}for(e.max_code=o,t=H>>1;t>=1;t--)Pe(r,t);do{t=B[1],B[1]=B[H--],Pe(r,1),n=B[1],B[--U]=t,B[--U]=n,r[c].fc=r[t].fc+r[n].fc,z[t]>z[n]+1?z[c]=z[t]:z[c]=z[n]+1,r[t].dl=r[n].dl=c,B[1]=c++,Pe(r,1)}while(H>=2);B[--U]=B[1],function(e){var t,n,r,a,i,o,c=e.dyn_tree,s=e.extra_bits,l=e.extra_base,u=e.max_code,d=e.max_length,p=e.static_tree,f=0;for(a=0;a<=15;a++)F[a]=0;for(c[B[U]].dl=0,t=U+1;t<573;t++)(a=c[c[n=B[t]].dl].dl+1)>d&&(a=d,f++),c[n].dl=a,n>u||(F[a]++,i=0,n>=l&&(i=s[n-l]),o=c[n].fc,$+=o*(a+i),null!==p&&(ee+=o*(p[n].dl+i)));if(0!==f){do{for(a=d-1;0===F[a];)a--;F[a]--,F[a+1]+=2,F[d]--,f-=2}while(f>0);for(a=d;0!==a;a--)for(n=F[a];0!==n;)(r=B[--t])>u||(c[r].dl!==a&&($+=(a-c[r].dl)*c[r].fc,c[r].fc=a),n--)}}(e),we(r,o)}function Ie(e,t){var n,r,a=-1,i=e[0].dl,o=0,c=7,s=4;for(0===i&&(c=138,s=3),e[t+1].dl=65535,n=0;n<=t;n++)r=i,i=e[n+1].dl,++o<c&&r===i||(o<s?j[r].fc+=o:0!==r?(r!==a&&j[r].fc++,j[16].fc++):o<=10?j[17].fc++:j[18].fc++,o=0,a=r,0===i?(c=138,s=3):r===i?(c=6,s=3):(c=7,s=4))}function je(e,t){var n,r,a=-1,i=e[0].dl,o=0,c=7,s=4;for(0===i&&(c=138,s=3),n=0;n<=t;n++)if(r=i,i=e[n+1].dl,!(++o<c&&r===i)){if(o<s)do{_e(r,j)}while(0!=--o);else 0!==r?(r!==a&&(_e(r,j),o--),_e(16,j),Fe(o-3,2)):o<=10?(_e(17,j),Fe(o-3,3)):(_e(18,j),Fe(o-11,7));o=0,a=r,0===i?(c=138,s=3):r===i?(c=6,s=3):(c=7,s=4)}}function De(e){var t,n,r,a,i;if(a=E-h,W[J]=X,Ae(D),Ae(L),r=function(){var e;for(Ie(P,D.max_code),Ie(w,L.max_code),Ae(M),e=18;e>=3&&0===j[pe[e]].dl;e--);return $+=3*(e+1)+5+5+4,e}(),(n=ee+3+7>>3)<=(t=$+3+7>>3)&&(t=n),a+4<=t&&h>=0)for(Fe(0+e,3),He(),ge(a),ge(~a),i=0;i<a;i++)ye(s[h+i]);else n===t?(Fe(2+e,3),Me(A,I)):(Fe(4+e,3),function(e,t,n){var r;for(Fe(e-257,5),Fe(t-1,5),Fe(n-4,4),r=0;r<n;r++)Fe(j[pe[r]].dl,3);je(P,e-1),je(w,t-1)}(D.max_code+1,L.max_code+1,r+1),Me(P,w));xe(),0!==e&&He()}function Le(e,t){if(u[Q++]=t,0===e?P[t].fc++:(e--,P[V[t]+256+1].fc++,w[Ee(e)].fc++,l[K++]=e,X|=Z),Z<<=1,0==(7&Q)&&(W[J++]=X,X=0,Z=1),C>2&&0==(4095&Q)){var n,r=8*Q,a=E-h;for(n=0;n<30;n++)r+=w[n].fc*(5+ue[n]);if(r>>=3,K<parseInt(Q/2,10)&&r<parseInt(a/2,10))return!0}return 8191===Q||8192===K}function Me(e,t){var n,r,a,i,o=0,c=0,s=0,d=0;if(0!==Q)do{0==(7&o)&&(d=W[s++]),r=255&u[o++],0==(1&d)?_e(r,e):(_e((a=V[r])+256+1,e),0!==(i=le[a])&&Fe(r-=G[a],i),_e(a=Ee(n=l[c++]),t),0!==(i=ue[a])&&Fe(n-=Y[a],i)),d>>=1}while(o<Q);_e(256,e)}function Fe(e,t){f>16-t?(ge(p|=e<<f),p=e>>16-f,f+=t-16):(p|=e<<f,f+=t)}function Be(e,t){var n=0;do{n|=1&e,e>>=1,n<<=1}while(--t>0);return n>>1}function He(){f>8?ge(p):f>0&&ye(p),p=0,f=0}e.exports=function(e,i){var o,c;te=e,ne=0,void 0===i&&(i=6),function(e){var i;if(e?e<1?e=1:e>9&&(e=9):e=6,C=e,a=!1,O=!1,null===ae){for(t=n=r=null,ae=[],s=[],l=[],u=[],d=[],P=[],i=0;i<573;i++)P[i]=new ie;for(w=[],i=0;i<61;i++)w[i]=new ie;for(A=[],i=0;i<288;i++)A[i]=new ie;for(I=[],i=0;i<30;i++)I[i]=new ie;for(j=[],i=0;i<39;i++)j[i]=new ie;D=new oe,L=new oe,M=new oe,F=[],B=[],z=[],V=[],q=[],G=[],Y=[],W=[]}}(i),c=[];do{o=Ce(c,c.length,1024)}while(o>0);return te=null,c},e.exports.DEFAULT_LEVEL=6}()},"3HPs":function(e,t,n){e.exports={"list-container":"_12BJl",listContainer:"_12BJl",list:"_1vot7",title:"_2yL4P",subtitle:"_3FMwp"}},"3Ii2":function(e,t,n){e.exports={root:"_6Kcup","btn-apply":"_1ybcO",btnApply:"_1ybcO",notice:"_2L88S"}},"3UQ0":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("yXPU"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("HF1P"),s=c.a.get("host_website_ssl"),l=c.a.get("host_cookie"),u="https://".concat(c.a.get("host_common_assets_ssl"),"/js/gdpr-appliance.js"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dzr-gdpr-script";if(!document.getElementById(e)){var t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.defer=!0,t.id=e,t.src=u,document.head.appendChild(t)}},p=function(){var e=a()(o.a.mark((function e(t,n){var r,a,i,c,u,d,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=n||{}).lang,i=void 0===a?"en_US":a,c=r.darkMode,u=void 0!==c&&c,d=r.onConsentUpdate,p=r.userID,f=void 0===p?"0":p,e.next=3,t({cookieDomain:l,darkMode:u,gatewayHost:s,isWebview:!1,lang:i,onConsentUpdate:d,userID:f});case 3:window.consentScreenApi=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"3lCq":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),a=Object(r.createContext)("")},"3u1L":function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity"],"toolbar":false,"share":true,"cover":"album","selectAll":false}')},"3uHE":function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return Qd}));n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=n("Fsnq"),v=(n("wLYn"),n("sMBO"),n("yq1k"),n("QWBl"),n("FZtP"),n("TeQF"),n("JTJg"),n("EVdn")),y=n.n(v),g=n("17x9"),b=n.n(g),_=n("q1tI"),E=n.n(_),k=n("/MKj"),O=n("iuhU"),S=n("X6oL"),T=n.n(S),R=n("L65Z"),C=n("i+V0"),N=n("2Hu5"),x=n("t/ok"),P=n("lNGS"),w=n("XoLw"),A=n("7stP"),I=window.sessionStorage,j={getStorageKey:function(e){return"ALERT_DISMISSED_".concat(e)},markAsDismissed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local",n=this.getStorageKey(e);"session"!==t?A.default.set(n,!0):I.setItem(n,!0)},isDismissed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local",n=this.getStorageKey(e);return"session"===t?Boolean(I.getItem(n)):A.default.isset(n)}},D=n("g48v"),L=n("j5dG"),M=n("MST+"),F=n("AwDM"),B=n("uGIE"),H=n("cWlz"),U=n("sdW4"),z=n("bkRl"),V=n("xDHF"),q=n("Rc83"),G=n("P7m1"),Y=n("4TBs"),W=n("pVnL"),Q=n.n(W),K=(n("ma9I"),n("2B1R"),n("zLVn")),J=n("wx14"),X=n("JX7q"),Z=n("dI71"),$=n("0PSK");function ee(e,t){var n=Object.create(null);return e&&_.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(_.isValidElement)(e)?t(e):e}(e)})),n}function te(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ne(e,t,n){var r=ee(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var c={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var l=a[s][r];c[a[s][r]]=n(l)}c[s]=n(s)}for(r=0;r<i.length;r++)c[i[r]]=n(i[r]);return c}(t,r);return Object.keys(a).forEach((function(i){var o=a[i];if(Object(_.isValidElement)(o)){var c=i in t,s=i in r,l=t[i],u=Object(_.isValidElement)(l)&&!l.props.in;!s||c&&!u?s||!c||u?s&&c&&Object(_.isValidElement)(l)&&(a[i]=Object(_.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:te(o,"exit",e),enter:te(o,"enter",e)})):a[i]=Object(_.cloneElement)(o,{in:!1}):a[i]=Object(_.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:te(o,"exit",e),enter:te(o,"enter",e)})}})),a}var re=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ae=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(Object(X.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(Z.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,ee(n.children,(function(e){return Object(_.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:te(e,"appear",n),enter:te(e,"enter",n),exit:te(e,"exit",n)})}))):ne(e,a,i),firstRender:!1}},n.handleExited=function(e,t){var n=ee(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(J.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(K.a)(e,["component","childFactory"]),a=this.state.contextValue,i=re(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?E.a.createElement($.a.Provider,{value:a},i):E.a.createElement($.a.Provider,{value:a},E.a.createElement(t,r,i))},t}(E.a.Component);ae.propTypes={},ae.defaultProps={component:"div",childFactory:function(e){return e}};var ie=ae,oe=n("g0AM"),ce=n("hG0x"),se=n("lSNA"),le=n.n(se),ue=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("tkto"),n("pNMO"),n("5DmW"),n("27RR"),n("HRxU"),n("eoL8"),n("eHHa"));function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({color:"secondary",message:Object(ue.a)("Votre ordinateur semble être hors ligne. Nous essayons de vous reconnecter.")},e);return E.a.createElement(ce.a,t)},fe=n("/ErL"),he=function(){var e;return e={},le()(e,fe.a,E.a.lazy((function(){return n.e(54).then(n.bind(null,"aWOc"))}))),le()(e,fe.b,pe),le()(e,fe.c,E.a.lazy((function(){return n.e(55).then(n.bind(null,"d7EG"))}))),le()(e,fe.d,E.a.lazy((function(){return n.e(56).then(n.bind(null,"YZ2I"))}))),le()(e,fe.e,E.a.lazy((function(){return n.e(57).then(n.bind(null,"7C4W"))}))),le()(e,fe.f,E.a.lazy((function(){return n.e(58).then(n.bind(null,"JyrI"))}))),le()(e,fe.g,E.a.lazy((function(){return n.e(59).then(n.bind(null,"LdH5"))}))),le()(e,fe.h,E.a.lazy((function(){return n.e(60).then(n.bind(null,"CU4d"))}))),le()(e,fe.i,E.a.lazy((function(){return n.e(61).then(n.bind(null,"zqbK"))}))),le()(e,fe.j,E.a.lazy((function(){return n.e(62).then(n.bind(null,"FG85"))}))),le()(e,fe.k,E.a.lazy((function(){return n.e(63).then(n.bind(null,"0HtC"))}))),le()(e,fe.l,E.a.lazy((function(){return n.e(64).then(n.bind(null,"uHfp"))}))),le()(e,fe.m,E.a.lazy((function(){return n.e(65).then(n.bind(null,"J7ga"))}))),e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var ve=function(e){u()(n,e);var t=me(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).alertComponents=he(),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.alerts,n={in:!0,from:{opacity:0,transform:"translate3d(0, -8px, 0)"},to:{opacity:1,transform:"translate3d(0, 0, 0)"}};return E.a.createElement(ie,{className:"page-alerts"},t.map((function(t){var r=e.alertComponents[t.id]||ce.a;return E.a.createElement(oe.a,Q()({key:t.id},n),E.a.createElement("div",{className:"alert-wrapper"},E.a.createElement(E.a.Suspense,{fallback:null},E.a.createElement(r,Q()({id:t.id},t.options)))))})))}}]),n}(E.a.PureComponent),ye=Object(k.c)((function(e){return{alerts:e.alerts}}))(ve),ge=n("yXPU"),be=n.n(ge),_e=n("o0o1"),Ee=n.n(_e);function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Oe=function(e){u()(i,e);var t,r=ke(i);function i(e){var t;return a()(this,i),(t=r.call(this,e))._onUserLoaded=t._onUserLoaded.bind(s()(t)),t}return o()(i,[{key:"componentDidMount",value:function(){this.props.isAvailable&&N.a.ready(N.a.user.loaded,this._onUserLoaded)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._appboy&&this.props.userID!==e.userID&&this._appboy.changeUser(e.userID)}},{key:"componentWillUnmount",value:function(){this._appboy&&this._appboy.destroy()}},{key:"render",value:function(){return null}},{key:"_onUserLoaded",value:(t=be()(Ee.a.mark((function e(){var t,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(215).then(n.t.bind(null,"opb8",7));case 2:return e.next=4,n.e(215).then(n.t.bind(null,"opb8",7));case 4:t=e.sent,r=t.default,this._appboy=r,e.prev=8,this._appboy.initialize(this.props.apiKey,{baseUrl:"sdk.iad-01.braze.com",enableHtmlInAppMessages:!0}),this._appboy.display.automaticallyShowNewInAppMessages(),this._appboy.openSession(),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(8),e.abrupt("return");case 17:this._appboy.changeUser(this.props.userID),this._appboy.openSession();case 21:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(){return t.apply(this,arguments)})}]),i}(_.Component),Se=Object(k.c)((function(e){var t=e.user;return{userID:t.id,apiKey:t.thirdParty.braze.apiKey,isAvailable:t.thirdParty.braze.isAvailable}}))(Oe),Te=n("AeGG"),Re=(n("TWNs"),n("JfAA"),n("ENF9"),n("gOCb"),n("4Brf"),n("+2oP"),n("E9XD"),n("uL8W"),n("cDf5")),Ce=n.n(Re),Ne=n("SksO"),xe=n.n(Ne),Pe=n("hbEN"),we=(n("SYor"),n("uqXc"),n("rB9j"),n("UxlC"),n("Ty5D")),Ae=n("BM6a"),Ie=n("uDBC"),je=n("geFH"),De=n("vVa8"),Le=n("Ye2i"),Me=n("7EGn"),Fe=n("OfRX");function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue={suggestedQueries:{query:void 0,isLoading:!1,isEmpty:!0,result:void 0},cache:[]};function ze(e){return!(e&&(e.HISTORY&&0!==e.HISTORY.length||e.SUGGESTION&&0!==e.SUGGESTION.length))}function Ve(e,t){return{query:t,isLoading:!1,isEmpty:ze(e),result:He(He({},e),{},{HISTORY:e.HISTORY.map((function(e){return{QUERY:e.QUERY}}))})}}var qe=[];function Ge(){qe.forEach(Fe.b.cancel)}var Ye=function(e){return Object(Me.a)(e,"suggestedQueries.query","")},We=function(e){return e.suggestedQueries.isEmpty},Qe=function(e){return e.suggestedQueries.isLoading},Ke=n("6pb3"),Je=n("FcjQ"),Xe=n("pk2W"),Ze=(n("B6y2"),n("b9pq")),$e=(n("yXV3"),n("1Unx")),et=n("nQb1"),tt=n("sh+/");const nt=Object(tt.a)({displayName:"ClockFillIcon",paths:{16:'<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 3.2h1v4.923l3.449 2.76-.625.78L7 8.603V3.2z"></path>',24:'<path d="M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zM11 6h1v6.214l4.358 3.486-.625.781L11 12.695V6z"></path>'}});var rt;function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var it=function(e){u()(n,e);var t=at(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props.isSelected,t=Object(O.a)("search-item",{"is-selected":e});return E.a.createElement(et.a,{className:t,to:this._getQueryUrl(),onClick:this._onClick},this._renderTitle(),this._renderIcon())}},{key:"_renderTitle",value:function(){var e=this.props,t=e.query,n=e.highlight;if(!t)return null;if(n&&n.length>0)return E.a.createElement("span",{className:"search-item-label",dangerouslySetInnerHTML:{__html:n}});var r=0===t.indexOf("+")&&t.length>1?t.substr(1,t.length):t;return E.a.createElement("span",{className:"search-item-label"},r)}},{key:"_renderIcon",value:function(){var e=this.props,t=e.query,n=e.context;return t&&n&&(n===L.j||n===L.i)?rt||(rt=E.a.createElement(nt,{className:"search-item-icon"})):null}},{key:"_onClick",value:function(){var e=this.props,t=e.query,n=e.context,r=e.index,a=e.isAuth,i=e.onSelect;Object(L.r)("",t,n,$e.b,r),i(t),a&&P.a.addSearchHistory(t)}},{key:"_getQueryUrl",value:function(){var e=this.props.query;return e?0===e.indexOf("#")&&e.length>1?"/tags/".concat(encodeURIComponent(e.slice(1))):"/search/".concat(encodeURIComponent(e)):null}}]),n}(_.Component);it.defaultProps={highlight:void 0,index:0,isSelected:!1,onSelect:function(){}};var ot=Object(k.c)((function(e){return{isAuth:e.user.isAuth}}))(it);function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var st={upArrow:38,downArrow:40},lt=function(e){u()(n,e);var t=ct(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._clearSearchHistory=r._clearSearchHistory.bind(s()(r)),r._onKeydown=r._onKeydown.bind(s()(r)),r._changeQuerySelected=r._changeQuerySelected.bind(s()(r)),r.state={indexQuerySelected:-1},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.trending,r=e.inputRef,a=t.concat(n);r&&r.current&&a&&a.length>0&&r.current.addEventListener("keydown",this._onKeydown)}},{key:"componentWillUnmount",value:function(){var e=this.props.inputRef;e&&e.current&&e.current.removeEventListener("keydown",this._onKeydown)}},{key:"render",value:function(){return E.a.createElement(E.a.Fragment,null,this._renderTags(),this._renderHistory(),this._renderTrendingQueries())}},{key:"_renderTags",value:function(){var e=this.props,t=e.tags,n=e.trending;return!t.length||n.length?null:E.a.createElement("div",{className:"search-category"},E.a.createElement("h2",{className:"search-heading"},Object(ue.a)("Tags")),E.a.createElement(Ze.a,{tags:t,overflowHidden:!1}))}},{key:"_renderTrendingQueries",value:function(){var e=this.props,t=e.trending,n=e.history,r=e.onQuerySelectedChange,a=this.state.indexQuerySelected;return t&&t.length?E.a.createElement("div",{className:"search-category"},E.a.createElement("h2",{className:"search-heading"},Object(ue.a)("Les plus recherchés")),t.map((function(e,t){return E.a.createElement(ot,{key:"query_".concat(e.QUERY),query:e.QUERY,index:t,isSelected:t===a-n.length,onSelect:r,context:L.l})}))):null}},{key:"_renderHistory",value:function(){var e=this.props,t=e.history,n=e.onQuerySelectedChange,r=this.state.indexQuerySelected;return t&&t.length?E.a.createElement("div",{className:"search-category"},E.a.createElement("h2",{className:"search-heading"},Object(ue.a)("Dernières recherches"),E.a.createElement("button",{className:"search-heading-button",onClick:this._clearSearchHistory},E.a.createElement("span",{className:"label"},Object(ue.a)("Effacer")))),t.map((function(e,t){return E.a.createElement(ot,{key:"query_".concat(e.query),query:e.query,index:t,isSelected:t===r,onSelect:n,context:L.i})}))):null}},{key:"_onKeydown",value:function(e){var t=this.props,n=t.history,r=t.trending,a=n.concat(r);if(Object.values(st).includes(e.keyCode)){e.stopPropagation(),e.preventDefault();var i=this.state.indexQuerySelected,o=-1;o=e.keyCode===st.upArrow?-1===i?a.length-1:i-1:i===a.length-1?-1:i+1,this._changeQuerySelected(o)}}},{key:"_changeQuerySelected",value:function(e){var t=this.props,n=t.history,r=t.trending,a=t.onQuerySelectedChange,i=this.state.indexQuerySelected,o=n.concat(r);"function"!=typeof a||i===e||e<-1||e>=o.length||(a(o&&o[e]&&(o[e].QUERY||o[e].query)||null),this.setState({indexQuerySelected:e}))}},{key:"_clearSearchHistory",value:function(){this.props.isAuth&&P.a.clearSearchHistory(),this.props.onHistoryClear()}}]),n}(_.Component);lt.defaultProps={inputRef:null,onHistoryClear:void 0,onQuerySelectedChange:void 0};var ut=Object(k.c)((function(e){return{isAuth:e.user.isAuth}}))(lt);function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var pt={upArrow:38,downArrow:40},ft=function(e){u()(n,e);var t=dt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onKeydown=r._onKeydown.bind(s()(r)),r._changeQuerySelected=r._changeQuerySelected.bind(s()(r)),r.state={indexQuerySelected:-1},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props.inputRef;e&&e.current&&e.current.addEventListener("keydown",this._onKeydown)}},{key:"componentWillUnmount",value:function(){var e=this.props.inputRef;e&&e.current&&e.current.removeEventListener("keydown",this._onKeydown)}},{key:"render",value:function(){var e,t,n=this.props.queries,r=this.state.indexQuerySelected,a=[],i=[];return n&&n.HISTORY&&n.HISTORY.length&&(e=r<(a=n.HISTORY.slice(0,Math.min(n.HISTORY.length,4))).length?r:-1),n&&n.SUGGESTION&&n.SUGGESTION.length&&(i=n.SUGGESTION.slice(0,Math.min(n.SUGGESTION.length,10-n.HISTORY.length)),t=r>=a.length?r-a.length:-1),this._queries=a.concat(i),E.a.createElement("div",{className:"search-category"},this._renderSuggestedHistory(a,e),this._renderSuggestedQueries(i,t))}},{key:"_renderSuggestedHistory",value:function(e,t){return e&&e.length?e.map((function(e,n){return E.a.createElement(ot,{key:"query_".concat(e.QUERY),query:e.QUERY,index:n,isSelected:n===t,context:L.j})})):null}},{key:"_renderSuggestedQueries",value:function(e,t){var n=this;return e&&e.length?e.map((function(e,r){return E.a.createElement(ot,{key:"query_".concat(e.QUERY),query:e.QUERY,highlight:e.HIGHLIGHT||null,index:r,isSelected:r===t,onSelect:n.props.onQuerySelectedChange,context:L.k})})):null}},{key:"_onKeydown",value:function(e){if(this._queries&&this._queries.length&&Object.values(pt).includes(e.keyCode)){e.stopPropagation(),e.preventDefault();var t=this.state.indexQuerySelected,n=-1;n=e.keyCode===pt.upArrow?-1===t?this._queries.length-1:t-1:t===this._queries.length-1?-1:t+1,this._changeQuerySelected(n)}}},{key:"_changeQuerySelected",value:function(e){var t=this.props.onQuerySelectedChange,n=this.state.indexQuerySelected;"function"!=typeof t||n===e||e<-1||e>=10||(this.props.onQuerySelectedChange(this._queries&&this._queries[e]&&this._queries[e].QUERY||null),this.setState({indexQuerySelected:e}))}}]),n}(_.Component);ft.defaultProps={inputRef:null};var ht=ft;function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var vt=function(e){u()(n,e);var t=mt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onHistoryChange=r._onHistoryChange.bind(s()(r)),r.state={searchHistory:P.a.data.SEARCH_HISTORY?P.a.data.SEARCH_HISTORY.data:[],userTags:P.a.data.USER_TAGS?P.a.data.USER_TAGS.data:[],trendingQueries:P.a.data.TRENDING_QUERIES?P.a.data.TRENDING_QUERIES.data:[]},r}return o()(n,[{key:"componentDidMount",value:function(){N.a.subscribe(N.a.user.updateSearchHistory,this._onHistoryChange)}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isSuggestLoading||e.isSuggestLoading)||""!==this.props.query&&""===e.query}},{key:"componentWillUnmount",value:function(){N.a.unsubscribe(N.a.user.updateSearchHistory,this._onHistoryChange)}},{key:"render",value:function(){var e=this.props,t=e.query,n=e.suggestedQuery,r=e.isSuggestEmpty,a=t.trim();return a&&a!==n||t&&r?null:E.a.createElement(Je.a,{className:"popper-search",size:this.props.size},this._renderContent())}},{key:"_renderContent",value:function(){var e=this.props,t=e.query,n=e.onClose,r=e.onQuerySelectedChange,a=e.inputRef,i=e.suggestedResult,o=this.state,c=o.searchHistory,s=o.trendingQueries,l=o.userTags,u=t?E.a.createElement(ht,{queries:i,inputRef:a,onQuerySelectedChange:r}):E.a.createElement(ut,{history:c,trending:s,tags:l,inputRef:a,onHistoryClear:n,onQuerySelectedChange:r});return E.a.createElement(Xe.a,{className:"search-container"},u)}},{key:"_onHistoryChange",value:function(){this.setState({searchHistory:P.a.data.SEARCH_HISTORY.data})}}]),n}(_.Component);vt.defaultProps={onQuerySelectedChange:void 0,inputRef:null,size:null};var yt,gt,bt,_t=Object(Ke.a)(Object(k.c)((function(e){var t,n=e.user,r=e.searchSuggest;return{isAuth:n.isAuth,suggestedQuery:Ye(r),suggestedResult:(t=r,Object(Me.a)(t,"suggestedQueries.result",null)),isSuggestLoading:Qe(r),isSuggestEmpty:We(r)}}))(vt));function Et(){Et=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,a){var i=new RegExp(e,r);return t.set(i,a||t.get(e)),xe()(i,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return u()(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==Ce()(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,o)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},Et.apply(this,arguments)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Ot="topbar-search",St=function(e){u()(n,e);var t=kt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._unlisten=null,r._inputRef=E.a.createRef(),r._fetchSuggestedQuery=Object(Pe.a)(r._fetchSuggestedQuery.bind(s()(r)),400),r._onSearchChange=r._onSearchChange.bind(s()(r)),r._onSearchSubmit=r._onSearchSubmit.bind(s()(r)),r._onSearchReset=r._onSearchReset.bind(s()(r)),r._onSearchFocus=r._onSearchFocus.bind(s()(r)),r._onSearchKeyDown=r._onSearchKeyDown.bind(s()(r)),r._changeQueryToDisplay=r._changeQueryToDisplay.bind(s()(r)),r.state={query:r._getSearchQuery(e.location)},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;this._unlisten=t.listen((function(t){e.setState({query:e._getSearchQuery(t)})}))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isSuggestLoading,n=e.dispatchCancelSearch;""===this.state.query&&t&&n()}},{key:"componentWillUnmount",value:function(){this._unlisten()}},{key:"render",value:function(){var e=this.props,t=e.isContentVisible,n=e.isSuggestLoading,r=this.state.query,a=""!==r,i=Object(ue.a)("Rechercher"),o=Object(O.a)("topbar-search-form",{"topbar-search-active":a}),c=Object(O.a)("topbar-search-clear",{"is-active":(t||n)&&a}),s={"aria-label":i,placeholder:i,value:r,onChange:this._onSearchChange,onFocus:this._onSearchFocus,onKeyDown:t?this._onSearchKeyDown:void 0,ref:this._inputRef},l={popperId:Ot,hasArrow:!1,closeOnClick:!1,isFullWidth:!0,data:{query:r,inputRef:this._inputRef,onQuerySelectedChange:this._changeQueryToDisplay}};return E.a.createElement("div",{className:"topbar-search"},E.a.createElement(_t,l,E.a.createElement("form",{className:o,autoComplete:"off",onSubmit:this._onSearchSubmit},yt||(yt=E.a.createElement("button",{className:"topbar-search-submit",type:"submit","aria-labelledby":"topbar-search"},E.a.createElement(Ie.a,{className:"topbar-search-icon",size:"16"}))),E.a.createElement("input",Q()({className:"topbar-search-input",id:"topbar-search",type:"search"},s)),this._renderLoading(),E.a.createElement("button",{className:c,type:"button",onClick:this._onSearchReset,"aria-hidden":!a,"aria-label":Object(ue.a)("Effacer")},gt||(gt=E.a.createElement(je.a,{className:"topbar-search-icon"}))))))}},{key:"_renderLoading",value:function(){return this.props.isSuggestLoading?bt||(bt=E.a.createElement("div",{className:"topbar-search-loader"},E.a.createElement(Ae.a,{thickness:1,size:24}))):null}},{key:"_onSearchFocus",value:function(){var e=this.props.suggestedQuery,t=this.state.query;""!==t&&e!==t&&this._fetchSuggestedQuery(t)}},{key:"_onSearchKeyDown",value:function(e){var t=this.props,n=t.isContentVisible,r=t.dispatchHidePopper;e&&e.keyCode&&9===e.keyCode&&n&&r(Ot)}},{key:"_onSearchChange",value:function(e){var t=this,n=this.props,r=n.isContentVisible,a=n.dispatchShowPopper,i=e.target.value;this.setState({query:i},(function(){t._fetchSuggestedQuery(i)})),r||a(Ot)}},{key:"_onSearchReset",value:function(e){var t=this;e.stopPropagation(),this.setState({query:""},(function(){t._inputRef&&t._inputRef.current&&t._inputRef.current.focus()}))}},{key:"_onSearchSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.isAuth,r=t.isContentVisible,a=t.dispatchHidePopper,i=t.history,o=t.dispatchCancelSearch,c=t.suggestedQuery,s=t.dispatchResetSearch,l=this.state.query.trim();l?(this._inputRef&&this._inputRef.current&&this._inputRef.current.blur(),o(),r&&a(Ot),n&&P.a.addSearchHistory(l),l!==c&&s(),Object(L.r)(l,"",L.e,$e.b,0,L.a),i.push(this._getSearchUrl(l))):this._onSearchReset(e)}},{key:"_fetchSuggestedQuery",value:function(e){(0,this.props.dispatchFetchSearch)(e)}},{key:"_changeQueryToDisplay",value:function(e){e&&this.setState({query:e})}},{key:"_getSearchUrl",value:function(e){return e.length>1&&0===e.lastIndexOf("#",0)?"/tags/".concat(encodeURIComponent(e.replace(/#/g,""))):"/search/".concat(encodeURIComponent(e))}},{key:"_getSearchQuery",value:function(e){var t=Et(/^\/(search|tags)\/(.*?)(\/|$)/,{type:1,query:2}).exec(e.pathname);if(null===t)return"";var n=decodeURIComponent(t.groups.query);return"tags"===t.groups.type?"#".concat(n):"+"===n.charAt(0)&&n.length>1?n.substring(1):n}}]),n}(_.Component);De.a.addReducers({searchSuggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"search/SEARCH_SUGGESTED_QUERIES_LOADING":return He(He({},e),{},{suggestedQueries:He(He({},Ue.suggestedQueries),{},{isLoading:!0})});case"search/SEARCH_SUGGESTED_QUERIES_SUCCESS":return t.data?He(He({},e),{},{suggestedQueries:t.data}):e;case"search/SEARCH_SUGGESTED_QUERIES_RESET":return He(He({},e),{},{suggestedQueries:Ue.suggestedQueries});case"search/SEARCH_SUGGESTED_UPDATE_CACHE":return t.query&&t.data?He(He({},e),{},{cache:He(He({},e.cache),{},le()({},t.query,t.data))}):e;default:return e}}});var Tt={dispatchShowPopper:Le.d,dispatchHidePopper:Le.b,dispatchFetchSearch:function(e){return function(t){return t(function(e){return function(t,n){var r=e.trim();if(r&&r.length>0){Ge(),Qe(n().searchSuggest)||t({type:"search/SEARCH_SUGGESTED_QUERIES_LOADING"});var a=Fe.b.call({method:"search_getSuggestedQueries",data:{QUERY:r},success:function(e){t({type:"search/SEARCH_SUGGESTED_QUERIES_SUCCESS",data:Ve(e,r)})},error:function(){t({type:"search/SEARCH_SUGGESTED_QUERIES_RESET"})}});qe.push(a)}}}(e))}},dispatchResetSearch:function(){return function(e){return e((function(e){e({type:"search/SEARCH_SUGGESTED_QUERIES_RESET"})}))}},dispatchCancelSearch:function(){return function(e,t){Ge(),Qe(t().searchSuggest)&&e((function(e){e({type:"search/SEARCH_SUGGESTED_QUERIES_RESET"})}))}}},Rt=Object(we.i)(Object(k.c)((function(e){var t=e.user,n=e.popper,r=e.searchSuggest;return{isAuth:t.isAuth,isContentVisible:Object(Le.c)(n,Ot),suggestedQuery:Ye(r),isSuggestLoading:Qe(r)}}),Tt)(St)),Ct=n("HYrp"),Nt=n("RIqP"),xt=n.n(Nt),Pt=(n("R5XZ"),n("M3gt")),wt=n("sH3A"),At=n("I7q+"),It=n("5El0"),jt=n("YdOI");function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Mt,Ft,Bt=function(e){u()(n,e);var t=Lt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._markAsRead=r._markAsRead.bind(s()(r)),r.state={data:e.data},r}return o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.data.NOTIFICATION_ID!==this.state.data.NOTIFICATION_ID||t.data.READ!==this.state.data.READ}},{key:"render",value:function(){var e=this.state.data,t=!e.READ,n=Object(O.a)("notifications-item",{"is-unread":t}),r=t?this._markAsRead:void 0;return E.a.createElement("li",{className:n,onMouseOver:r},E.a.createElement("div",{className:"notifications-item-container"},E.a.createElement("div",{className:"notifications-item-content"},E.a.createElement("div",{className:"notifications-item-media"},E.a.createElement("div",{className:"notifications-item-media-picture"},this._renderPicture()),E.a.createElement("div",{className:"notifications-item-media-title"},E.a.createElement("div",{className:"heading-4"},E.a.createElement(et.a,{to:e.URL},e.TITLE)),E.a.createElement("div",{className:"heading-4-sub"},e.SUBTITLE))),E.a.createElement("div",null,E.a.createElement("div",{className:"notifications-item-info"},e.QUOTATION_TITLE),E.a.createElement("div",{className:"notifications-item-comment"},e.QUOTATION_MESSAGE)),E.a.createElement("div",{className:"notifications-item-date"},e.FOOTER))))}},{key:"_renderPicture",value:function(){var e=this.state.data,t=It.a.getImageSrc(e.COVER_TYPE,e.PICTURE,56,56,null,100);return E.a.createElement(jt.a,{type:e.MEDIA_TYPE,height:56,width:56,imgSrc:t,context:"menu_panel_notification_".concat(e.MEDIA_TYPE),pageContext:At["CONTEXT_TOPBAR_POPPER_".concat(e.MEDIA_TYPE.toUpperCase())],id:e.MEDIA_ID})}},{key:"_markAsRead",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.data);e.READ||(e.READ=1,this.setState({data:e},(function(){P.a.markNotificationAsRead(e.NOTIFICATION_ID)})))}}]),n}(_.Component),Ht=Object(k.c)((function(e){var t=e.user;return{serverTimestamp:t.SERVER_TIMESTAMP,clientTimestampDelta:t.clientTimestampDelta}}))(Bt),Ut=n("iR1w");function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Vt=function(e){u()(n,e);var t=zt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._fetchNext=function(){r.state.isNextPageLoading||r.state.rows&&r.state.rows.length===r.props.totalNotifs||r.setState({isNextPageLoading:!0},(function(){setTimeout((function(){r._fetchNotificationsPage=Fe.b.call({method:"notification.list",data:{USER_ID:r.props.userId,LAST_NOTIFICATION_ID:r.state.lastNotifId,NB:20},success:function(e){if(e.data&&e.data.length>0){var t=e.data.map((function(e){return wt.a.getNormalizedData(e)}));r.setState({rows:xt()(r.state.rows).concat(t),lastNotifId:t[t.length-1].NOTIFICATION_ID,isNextPageLoading:!1})}}})}),2500)}))},r.state={rows:e.data,lastNotifId:e.data&&e.data.length>0?e.data[e.data.length-1].NOTIFICATION_ID:0,isNextPageLoading:!1},r}return o()(n,[{key:"componentWillUnmount",value:function(){Fe.b.cancel(this._fetchNotificationsPage)}},{key:"render",value:function(){var e=this.props,t=e.data;return e.isLoading?this._renderLoading():t.length>0?this._renderList():this._renderPlaceholder()}},{key:"_renderList",value:function(){var e=this.state.rows,t=function(t){var n=t.index,r=t.style;return e[n]?E.a.createElement("div",{style:r},E.a.createElement(Ht,{key:"notification_".concat(e[n].NOTIFICATION_ID),data:e[n],index:n})):null},n=function(t){var n=e[t];return n?125+(n.QUOTATION_MESSAGE?20*Math.ceil(n.QUOTATION_MESSAGE.length/100):0)+(n.QUOTATION_TITLE?20*Math.ceil(n.QUOTATION_TITLE.length/100):0):0};return E.a.createElement(Pt.a,{isItemLoaded:function(){return!1},itemCount:this.props.totalNotifs,loadMoreItems:this._fetchNext},(function(r){var a=r.onItemsRendered,i=r.ref;return E.a.createElement(Ut.b,{itemCount:e?e.length:0,onItemsRendered:a,ref:i,height:450,itemSize:n,width:"100%"},t)}))}},{key:"_renderLoading",value:function(){return E.a.createElement("div",{className:"popper-body"},E.a.createElement("div",{className:"notifications-placeholder"},Mt||(Mt=E.a.createElement("div",{className:"notifications-placeholder-image notifications-placeholder-loader animate-spin"})),E.a.createElement("div",{className:"notifications-placeholder-title"},Object(ue.a)("Chargement en cours"))))}},{key:"_renderPlaceholder",value:function(){return E.a.createElement(Xe.a,{className:"popper-body"},E.a.createElement("div",{className:"notifications-placeholder"},Ft||(Ft=E.a.createElement("div",{className:"notifications-placeholder-image notifications-placeholder-friends"})),E.a.createElement("div",{className:"notifications-placeholder-title"},Object(ue.a)("Ne restez pas dans votre coin.")),E.a.createElement("div",{className:"notifications-placeholder-social"},E.a.createElement("div",{className:"notifications-placeholder-text"},E.a.createElement(et.a,{className:"notifications-placeholder-link",to:"/profile/".concat(this.props.userId,"/following"),target:null},Object(ue.a)("Retrouvez vos amis"))))))}}]),n}(_.Component);Vt.defaultProps={isLoading:!1};var qt=Object(k.c)((function(e){return{userId:e.user.USER.USER_ID}}))(Vt);function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Yt=function(e){u()(n,e);var t=Gt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._currentList=[],r._nbDisplay=20,r._updateNotifications=r._updateNotifications.bind(s()(r)),r.state={data:xt()(P.a.data.NOTIFICATIONS),notificationCount:P.a.getNotificationCount(),nbDisplay:r._nbDisplay},r}return o()(n,[{key:"componentDidMount",value:function(){N.a.subscribe(N.a.live.notificationNew,this._updateNotifications,"popper_notifications"),N.a.subscribe(N.a.live.notificationRead,this._updateNotifications,"popper_notifications")}},{key:"shouldComponentUpdate",value:function(e,t){return e.selected!==this.props.selected||t.notificationCount!==this.state.notificationCount||t.data.length!==this.state.data.length||t.nbDisplay!==this.state.nbDisplay}},{key:"componentWillUnmount",value:function(){N.a.unsubscribeAll("popper_notifications")}},{key:"render",value:function(){var e=this.state.nbDisplay,t=this.state.data.slice(0,e),n=P.a.data.TOTAL_NOTIFICATIONS;return E.a.createElement(Je.a,{className:"popper-notifications",size:"lg"},E.a.createElement("div",{className:"popper-headings"},E.a.createElement("h2",{className:"heading-2"},Object(ue.a)("Notifications"))),E.a.createElement(qt,{data:t,totalNotifs:n,key:"notifications-list"}))}},{key:"_updateNotifications",value:function(){this.setState({notificationCount:P.a.getNotificationCount(),data:xt()(P.a.data.NOTIFICATIONS)})}}]),n}(_.Component);Yt.defaultProps={selected:null};var Wt,Qt=Object(Ke.a)(Yt),Kt=n("VPTF");function Jt(e){return E.a.createElement(Kt.a,Q()({name:"bell"},e),Wt||(Wt=E.a.createElement("path",{d:"M6.003 0C6.513 0 7.029 0 7 1c1.569.196 2.992 1.677 3 3.5.009 1.957.16 3.293.856 3.854.091.073.144.183.144.3v.961a.385.385 0 0 1-.385.385h-9.23A.385.385 0 0 1 1 9.615v-.961c0-.117.053-.227.144-.3.697-.56.847-1.897.856-3.854.009-1.99 1.23-3.342 2.999-3.5-.015-1 .494-1 1.004-1zM5 11.328L8 11l-.175.283c-.29.472-.733.717-1.305.717-.55 0-.982-.144-1.28-.437L5 11.328z"})))}var Xt,Zt=n("OuPr");function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var en,tn,nn,rn,an,on,cn=function(e){u()(n,e);var t=$t(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._updateUnseenNotifications=r._updateUnseenNotifications.bind(s()(r)),r.state={unseenNotificationCount:0},r}return o()(n,[{key:"componentDidMount",value:function(){N.a.subscribe(N.a.live.notificationNew,this._updateUnseenNotifications),N.a.subscribe(N.a.live.notificationRead,this._updateUnseenNotifications),N.a.ready(N.a.user.userReady,this._updateUnseenNotifications)}},{key:"componentWillUnmount",value:function(){N.a.unsubscribe(N.a.live.notificationNew,this._updateUnseenNotifications),N.a.unsubscribe(N.a.live.notificationRead,this._updateUnseenNotifications)}},{key:"render",value:function(){var e={popperId:"topbar-notification",trigger:[Zt.d],delay:500,isDisabled:!1};return E.a.createElement(Qt,Q()({className:"topbar-action"},e),E.a.createElement("button",{className:"topbar-notification",type:"button","aria-label":Object(ue.a)("Notifications")},Xt||(Xt=E.a.createElement(Jt,{size:"18"})),E.a.createElement(Ct.a,{className:"topbar-notification-counter",counter:this.state.unseenNotificationCount})))}},{key:"_updateUnseenNotifications",value:function(){this.setState({unseenNotificationCount:P.a.getNotificationCount()})}}]),n}(_.Component),sn=(n("zKZe"),n("brp2"),n("DQNa"),n("9z3s")),ln=n("+jAA"),un=n("Yi4D"),dn=n("shcr"),pn=n("lZio"),fn=function(){document.body.classList.add("no-transitions"),document.body.removeAttribute("data-theme"),window.requestAnimationFrame((function(){document.body.classList.remove("no-transitions")}))},hn=n("G87E"),mn=n("twse"),vn=n("XgTI"),yn=n("9+BV"),gn=n("i/No"),bn=n("S117"),_n=n("bh1+"),En=n("9Bja"),kn=n("voM9");function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Sn=T()()(en=function(e){u()(r,e);var t=On(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._onClose=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;void 0!==e.key&&"Enter"!==e.key||"function"==typeof t&&t()},e}return o()(r,[{key:"render",value:function(){return E.a.createElement(Je.a,{className:"popper-account",size:"lg"},this._renderHeader(),this._renderContent())}},{key:"_renderHeader",value:function(){var e=this.props,t=e.userId,n=e.userPicture,r=e.displayName,a={type:sn.a.User,height:40,width:40,rounded:!0,coverLink:!1,data:{USER_ID:t,USER_PICTURE:n},userID:t,alt:r};return E.a.createElement(mn.a,null,E.a.createElement(et.a,{className:"account-header animate-wobble",to:"/profile/".concat(t)},E.a.createElement("div",{className:"account-thumbnail"},E.a.createElement(jt.a,a)),E.a.createElement("div",{className:"account-heading ellipsis"},E.a.createElement("span",{className:"account-name"},this.props.displayName)),tn||(tn=E.a.createElement(vn.a,null))))}},{key:"_renderContent",value:function(){var e=this;return E.a.createElement("ul",{className:"account-menu",role:"navigation"},this._getLinks().map((function(t){return e._renderElement(t)})))}},{key:"_renderElement",value:function(e){if(e.isDisabled)return null;var t=Object(O.a)("account-item",{"is-divider":e.isDivider});return E.a.createElement("li",{className:t,key:e.id},e.isCheckbox?this._renderCheckbox(e):this._renderLink(e))}},{key:"_renderLink",value:function(e){var t=this,n={className:Object(O.a)("account-link",{"is-main":e.isMain}),to:e.to||"",onClick:function(n){return t._onClose(n,e.onClick)},target:e.isExternal?"_blank":void 0};return e.to||Object.assign(n,{role:"button",tabIndex:0,onKeyPress:function(n){return t._onClose(n,e.onClick)}}),e.isAnimated?E.a.createElement(mn.a,null,E.a.createElement(et.a,n,E.a.createElement("span",{className:"account-link-label"},e.label),"multiAccount"===e.id?this._renderWarning():null,nn||(nn=E.a.createElement(vn.a,null)))):E.a.createElement(et.a,n,e.label)}},{key:"_renderWarning",value:function(){return this.props.remainingAccountsCount<0?rn||(rn=E.a.createElement(bn.a,{className:"multi-account-warning"})):null}},{key:"_renderAnimatedIcon",value:function(e){return e.isAnimated?"ltr"===this.props.langDirection?an||(an=E.a.createElement(yn.a,{className:"animate-wobble-target"})):on||(on=E.a.createElement(gn.a,{className:"animate-wobble-target"})):null}},{key:"_renderCheckbox",value:function(e){var t=Object(O.a)("account-input-label",{"is-main":e.isMain});return E.a.createElement("div",{className:"account-input"},E.a.createElement("div",{className:t},e.label),E.a.createElement(hn.a,{className:"input-switch",type:hn.a.TYPE_SWITCH,checked:e.isChecked,onChange:e.onClick}))}},{key:"_setDarkModeOption",value:function(e){pn.a.set({global:{dark_mode:dn.a.isAllowed("dark_mode")&&e}}),this.props.tracking&&this.props.tracking.trackEvent({eventaction:"click-darkmode-toggle",event:"click",eventlabel:"darkmode-".concat(e)}),Fe.b.call({method:"log_central.log",data:{BATCH:[{channel:"feature_activation",params:{ts:Math.floor(Date.now()/1e3),state:e,feature:"darkmode-toggle",os_based:!1}}]}})}},{key:"_getLinks",value:function(){var e,t=this,r=this.props,a=r.userOfferId,i=r.darkModeOption,o=r.userLang,c=r.labsList;return[{id:"multiAccount",label:Object(ue.a)("settingspage_title_members_web"),isDisabled:this.props.isSubAccount||!this.props.isOnline||!(this.props.hasMultiAccountEnabled||this.props.hasChildAccounts),isMain:!0,isAnimated:!0,onClick:function(){return t.props.openScreen({name:En.b,data:{}})}},{id:"account",label:Object(ue.a)("Paramètres du compte"),to:"/account",isMain:!0,isAnimated:!0},{id:"exclusions",label:Object(ue.a)("banfeatures_action_managemyexclusions_web"),to:"/".concat(o,"/exclusions"),isMain:!0,isAnimated:!0},{id:"gift",label:Object(ue.a)("Activer un code"),to:"/gift",isMain:!0,isAnimated:!0,isExternal:!0,isDisabled:this.props.hasParent||this.props.userHasOffer},{id:"logout",label:Object(ue.a)("Déconnexion"),isMain:!0,onClick:(e=be()(Ee.a.mark((function e(){var t,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!un.b){e.next=15;break}return e.next=3,Promise.resolve().then(n.bind(null,"i02G"));case 3:return t=e.sent,r=t.default,e.next=7,r.logout();case 7:return e.next=9,Promise.resolve().then(n.bind(null,"7stP"));case 9:e.sent.default.set("selectedChildAccount",!1,!0),un.b.deleteLoginInfo(),e.next=16;break;case 15:ln.a.logout();case 16:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})},{id:"kid",label:Object(ue.a)("Activer Deezer Kids"),onClick:function(){return ln.a.setKidStatus()},isMain:!0,isDivider:!0,isCheckbox:!0,isChecked:this.props.isKid,isDisabled:!this.props.hasParent||this.props.isSubAccount},{id:"darkmode",label:Object(ue.a)("accountmenu_title_darkmode_web"),isMain:!0,isDivider:!0,isCheckbox:!0,isChecked:"off"!==i,isDisabled:!(window&&window.CSS&&window.CSS.supports("color","var(--primary)")&&dn.a.isAllowed("dark_mode")),onClick:function(){return t._setDarkModeOption("off"===i?"on":"off")}},{id:"labs",label:"Deezer Labs",to:"/account/labs",isAnimated:!0,isDivider:!0,isDisabled:0===c.length},{id:"support",label:Object(ue.a)("generic_title_support_web"),to:"https://support.deezer.com/",isAnimated:!0,isDivider:!1,isExternal:!0},{id:"community",label:Object(ue.a)("generic_title_communityandfeedback_web"),to:"/support",isAnimated:!0,isDivider:!1,isExternal:!0},{id:"webchat",label:Object(ue.a)("accountmenu_title_livechatassistance_web"),to:"http://v2.zopim.com/widget/livechat.html?key=2EoRGDWsHoamgid1RmhlAJDWJUqznEVY",isAnimated:!0,isExternal:!0,isDisabled:!(dn.a.isAllowed("webchat_desktop")&&a>0)},{id:"offers",label:Object(ue.a)("Offres"),to:"/offers",isAnimated:!0,isExternal:!0,isDisabled:this.props.userHasOffer},{id:"features",label:Object(ue.a)("Fonctionnalités"),to:"/features",isAnimated:!0,isExternal:!0},{id:"company",label:Object(ue.a)("À propos"),to:"/company",isAnimated:!0,isExternal:!0},{id:"jobs",label:Object(ue.a)("Jobs"),to:"https://www.deezerjobs.com/",isAnimated:!0,isExternal:!0},{id:"legal",label:Object(ue.a)("Légal"),to:"/legal/cgu",isAnimated:!0,isExternal:!0}]}}]),r}(_.Component))||en,Tn=Object(Ke.a)(Object(k.c)((function(e){return{userId:Object(M.J)(e.user),userPicture:Object(M.D)(e.user),userHasOffer:Object(M.O)(e.user),userLang:Object(M.q)(e.user),displayName:Object(M.k)(e.user),langDirection:Object(M.r)(e.user),userOfferId:Object(M.y)(e.user),darkModeOption:Object(M.h)(e.user),hasChildAccounts:Object(M.K)(e.user),hasMultiAccountEnabled:Object(M.M)(e.user),hasParent:Object(M.P)(e.user),isSubAccount:Object(M.Z)(e.user),isKid:Object(M.U)(e.user),isOnline:Object(_n.a)(e),labsList:Object(kn.a)(Object(M.W)(e.user)).visibles,childs:Object(M.c)(e.user),remainingAccountsCount:Object(M.db)(e.user)}}),{openScreen:H.c,openModal:z.c})(Sn));function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Cn=function(e){u()(n,e);var t=Rn(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.userPicture,n=e.userName,r={popperId:"topbar-profile",trigger:[Zt.d],delay:500,isDisabled:!1};return E.a.createElement(Tn,Q()({className:"topbar-action"},r),E.a.createElement("button",{className:"topbar-profile",type:"button"},E.a.createElement("img",{className:"topbar-profile-picture",src:It.a.getImageSrc("user",t,32,32),alt:n})))}}]),n}(_.Component),Nn=Object(k.c)((function(e){var t=e.user;return{userPicture:t.USER.USER_PICTURE,userName:Object(M.k)(t)}}))(Cn),xn=n("+JhM"),Pn=n("NCwu");function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var An,In=function(e){u()(n,e);var t=wn(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.conversionEntrypoints,t=e.CONVERSION_BANNER_FREE_MYMENU,n=e.CONVERSION_BANNER_TRIAL_MYMENU,r=t||n;return r?E.a.createElement(Je.a,{className:"popper-entrypoints",size:Zt.c},E.a.createElement("p",null,r.description)):null}}]),n}(_.Component),jn=Object(Ke.a)(Object(k.c)((function(e){return{conversionEntrypoints:e.user.USER.ENTRYPOINTS}}))(In)),Dn=n("sE8/"),Ln=n("voZH");function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Fn,Bn,Hn=function(e){u()(n,e);var t=Mn(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onLinkClick=r._onLinkClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props.conversionEntrypoints;if(0===Object.keys(e).length)return null;var t=e.CONVERSION_BANNER_FREE,n=e.CONVERSION_BANNER_TRIAL,r=e.CONVERSION_BANNER_FREE_MYMENU,a=e.CONVERSION_BANNER_TRIAL_MYMENU,i=e.MYMENU;if(t||n)return null;var o=r||a||i;if(!o)return null;var c={className:"topbar-entrypoints",popperId:"topbar-entrypoints",trigger:[Zt.e],delay:0,isDisabled:!o.description},s={as:"a",color:"primary",iconLeft:i?An||(An=E.a.createElement(Dn.a,null)):void 0,href:Object(Ln.a)(o.action),onClick:this._onLinkClick,target:"_blank","data-type":"offers_subscribe"};return E.a.createElement(jn,c,E.a.createElement(xn.a,s,o.label))}},{key:"_onLinkClick",value:function(e){this.tracking("menu_click",e.currentTarget)}}]),n}(_.Component),Un=Object(k.c)((function(e){return{conversionEntrypoints:e.user.USER.ENTRYPOINTS}}))(Object(Pn.a)(Hn)),zn=n("V0xF");function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var qn=function(e){u()(n,e);var t=Vn(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.locationPathname;return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"topbar-logo"},E.a.createElement("a",{href:Object(zn.c)("/"),"aria-label":"Deezer"},Fn||(Fn=E.a.createElement("span",{className:"logo logo-deezer-black"})))),Bn||(Bn=E.a.createElement(Rt,null)),E.a.createElement("div",{className:"topbar-navbar"},E.a.createElement("a",{className:"navbar-offers",href:Object(zn.c)("/offers"),onClick:this._onTrackingClick.bind(this,"plans-button")},Object(ue.a)("Offres")),E.a.createElement("a",{className:"navbar-btn navbar-btn-login",href:"/login?redirect_type=page&redirect_link=".concat(encodeURIComponent(e)),onClick:this._onTrackingClick.bind(this,"login-button")},E.a.createElement("span",{className:"navbar-btn-label"},Object(ue.a)("Connexion"))),E.a.createElement("a",{className:"navbar-btn navbar-btn-register",href:"/register?redirect_type=page&redirect_link=".concat(encodeURIComponent(e)),onClick:this._onTrackingClick.bind(this,"signup-button")},E.a.createElement("span",{className:"navbar-btn-label"},Object(ue.a)("Inscription")))))}},{key:"_onTrackingClick",value:function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"click",eventcategory:"header",eventaction:e})}}]),n}(_.Component),Gn=Object(k.c)((function(e){return{locationPathname:e.router.location.pathname}}),null)(qn),Yn=n("J4zp"),Wn=n.n(Yn),Qn=n("q0sp"),Kn=n("orQ7"),Jn=n("Fmxg"),Xn=n("QO5F"),Zn=n("aOf1"),$n=n("3Ii2"),er=n.n($n),tr=function(){var e=Object(_.useState)(!1),t=Wn()(e,2),n=t[0],r=t[1],a=Object(Zn.useDeezToolsContext)(),i=Object(Zn.useDeezToolsDispatch)();Object(_.useEffect)((function(){r(Object(Kn.f)(a))}),[a]);var o=function(){Xn.a.flush(),Object(Jn.b)(),window.location.reload()};return E.a.createElement("div",{className:er.a.root},E.a.createElement(xn.a,{onClick:function(){Object(Kn.a)({dispatch:i}),o()}},"Reset all"),n?E.a.createElement("span",{className:er.a.notice},"You have unsaved changes"):null,E.a.createElement(xn.a,{className:er.a.btnApply,color:"primary",onClick:function(){Object(Kn.h)({contextState:a,dispatch:i}),o()}},"Apply"))},nr=(n("mRH6"),n("qFqg")),rr=n.n(nr),ar=function(e){var t=e.items,n=e.activeTab,r=t.map((function(e){var t,r=Object(O.a)(rr.a.link,le()({},rr.a.isActive,n===e.id)),a=n===e.id||null===(t=e.action)||void 0===t?void 0:t.bind(null,e);return E.a.createElement("li",{key:e.id,className:rr.a.item},E.a.createElement("a",{className:r,onClick:a,role:"tab",tabIndex:0,"aria-selected":n===e.id,onKeyDown:a},e.label))}));return E.a.createElement("ul",{className:rr.a.root,role:"tablist"},r)},ir=n("FBGX"),or=n("GbZW"),cr=n.n(or),sr=function(e){var t=e.children;return t?E.a.createElement(Xe.a,{className:cr.a.root},E.a.createElement("ul",null,t)):null},lr=(n("x0AG"),n("y85T")),ur=n("pNuE"),dr=n.n(ur),pr=function(e){var t=e.name,n=e.label,r=e.items,a=e.currentValue,i=e.originalValue,o=e.onChange,c=Object(_.useState)(null!==a?a:i),s=Wn()(c,2),l=s[0],u=s[1],d=Object(_.useState)(0),p=Wn()(d,2),f=p[0],h=p[1],m=Object(_.useState)(l!==i),v=Wn()(m,2),y=v[0],g=v[1],b=Object(_.useCallback)((function(e){u(e),null==o||o(t,e)}),[t,o]);Object(_.useEffect)((function(){g(l!==i),h(r.findIndex((function(e){return e.value===l})))}),[l,r,i]);var k=r.map((function(e){var t=Object(O.a)(le()({},dr.a.isActive,l===e.value));return E.a.createElement(lr.f.Item,{key:e.label,label:e.label},E.a.createElement("a",{className:t,onClick:b.bind(null,e.value),role:"button"},e.value))})),S=Object(O.a)(dr.a.name,le()({},dr.a.isActive,y));return E.a.createElement("li",{className:Object(O.a)(dr.a.item)},E.a.createElement("span",{className:S},n||t),y?E.a.createElement("span",{className:dr.a.label},"Modified"):null,E.a.createElement(lr.f,{className:dr.a.selector,align:lr.b,selected:f},k))},fr=function(e){var t=e.className,n=e.children;return n?E.a.createElement("div",{className:Object(O.a)(dr.a.section,t)},n):null},hr=n("wynh"),mr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=Object(k.f)((function(e){var t=e.user;return Object(M.x)(t)})),a=Object(Kn.c)({itemType:hr.b.CONFIG,itemName:"media-service",context:n});return E.a.createElement(fr,null,E.a.createElement(pr,{key:"media-service",name:"media-service",label:"Media Service host",items:[{label:"dev",value:"https://dev-media.deez.re"},{label:"local",value:"https://localhost:1443"},{label:"qa",value:"https://qa-media.deezer.com"},{label:"prod",value:"https://media.deezer.com"}],currentValue:a,originalValue:r,onChange:t}))},vr=n("HF1P"),yr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=vr.a.get("host_pipe"),a=Object(Kn.c)({itemType:hr.b.CONFIG,itemName:"pipe",context:n});return E.a.createElement(fr,null,E.a.createElement(pr,{key:"pipe",name:"pipe",label:"Pipe host",items:[{label:"dev",value:"dev-pipe.deezerdev.com"},{label:"dirty",value:"pipe-dirty.preview-kube.deez.re"},{label:"prod",value:"pipe.deezer.com"}],currentValue:a,originalValue:r,onChange:t}))},gr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=vr.a.get("host_messaging"),a=Object(Kn.c)({itemType:hr.b.CONFIG,itemName:"messaging",context:n});return E.a.createElement(fr,null,E.a.createElement(pr,{name:"messaging",label:"Messaging host",items:[{label:"dev",value:"messaging.deezerdev.com"},{label:"prod",value:"messaging.deezer.com"}],currentValue:a,originalValue:r,onChange:t}))},br=n("sGoj"),_r=n("Czun");function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or=function(){function e(t){a()(this,e),this._counter=void 0,this._counter=new br.a({id:_r.a.DEEZTOOLS,tags:kr({userId:String(Object(M.J)(De.a.getState().user))},t)})}return o()(e,[{key:"log",value:function(){this._counter.increment(),this._counter.send()}}]),e}(),Sr=function(){var e=Object(Zn.useDeezToolsDispatch)(),t=function(t,n){e({type:hr.d,item:{category:hr.b.CONFIG,name:t,value:n}}),new Or({type:"config",name:t}).log()};return E.a.createElement(sr,null,E.a.createElement(mr,{key:"media-service",onChange:t}),E.a.createElement(yr,{key:"pipe",onChange:t}),E.a.createElement(gr,{key:"messaging",onChange:t}))},Tr=function(e){var t=e.name,n=e.label,r=e.currentValue,a=e.originalValue,i=e.onChange,o=Object(_.useState)(null!==r?r:a),c=Wn()(o,2),s=c[0],l=c[1],u=Object(_.useState)(!1),d=Wn()(u,2),p=d[0],f=d[1],h=Object(_.useCallback)((function(){l(!s),i&&i(t,!s)}),[s,t,i]);Object(_.useEffect)((function(){f(s!==a)}),[s,a]);var m=Object(O.a)(dr.a.name,le()({},dr.a.isActive,s));return E.a.createElement("li",{className:dr.a.item},E.a.createElement("span",{className:m},n),p?E.a.createElement("span",{className:dr.a.label},"Modified"):null,E.a.createElement(hn.a,{className:dr.a.selector,type:hn.a.TYPE_SWITCH,checked:s,onChange:h}))},Rr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=Object(Kn.c)({itemType:hr.b.FEATURE,itemName:"ForceDecryptionError",context:n});return E.a.createElement(fr,null,E.a.createElement(Tr,{key:"ForceDecryptionError",name:"ForceDecryptionError",label:"Force decryption error",currentValue:r,originalValue:!1,onChange:t}))},Cr=function(e){var t=e.name,n=e.label,r=void 0===n?t:n,a=e.onClick;return E.a.createElement("li",{className:dr.a.item},E.a.createElement("span",{className:dr.a.name},t),E.a.createElement(xn.a,{className:dr.a.selector,variant:"outlined",size:"sm",onClick:a},r))},Nr=function(){return E.a.createElement(fr,null,E.a.createElement(Cr,{name:"Force send to REC",label:"Send to REC now",onClick:Xn.a.flush}))},xr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=Object(Kn.c)({itemType:hr.b.FEATURE,itemName:"offline",context:n});return E.a.createElement(fr,null,E.a.createElement(Tr,{key:"offline",name:"offline",label:"Electron mode",currentValue:r,originalValue:!1,onChange:t}))},Pr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=Object(Kn.c)({itemType:hr.b.FEATURE,itemName:"player-logger",context:n});return E.a.createElement(fr,null,E.a.createElement(Tr,{key:"player-logger",name:"player-logger",label:"Player logger",currentValue:r,originalValue:!1,onChange:t}))},wr=function(e){var t=e.onChange,n=Object(Zn.useDeezToolsContext)(),r=Object(Kn.c)({itemType:hr.b.FEATURE,itemName:"rtl",context:n});return E.a.createElement(fr,null,E.a.createElement(Tr,{key:"rtl",name:"rtl",label:"Right To Left mode",currentValue:r,originalValue:!1,onChange:function(e,n){t(e,n),document.querySelectorAll("link[rel=stylesheet]").forEach((function(e){e.href=n?e.href.replace(".css",".rtl.css"):e.href.replace(".rtl.css",".css"),document.body.classList.replace(n?"dir-ltr":"dir-rtl",n?"dir-rtl":"dir-ltr")}))}}))},Ar=(n("T63A"),n("CLrh")),Ir=n("6T3c"),jr=n("v9NM"),Dr=n("cpkt"),Lr=n("MbCj"),Mr=n("umBM");function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Br,Hr,Ur=new(function(){function e(t,n){a()(this,e),this._logCenter=void 0,this._userContext=void 0,this._logCenter=t,this._userContext=n}return o()(e,[{key:"log",value:function(){var e=Object.entries(this._getPayload()).filter((function(e){return void 0!==Wn()(e,2)[1]})).reduce((function(e,t){var n=Wn()(t,2),r=n[0],a=n[1];return Object.assign(e,le()({},r,a))}),{});this._logCenter.log(Object(Mr.a)("playback.stream","1.0.0",e))}},{key:"_getPayload",value:function(){var e=Lr.a.get(),t=this._userContext.get(),n=t.offer_id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({user_id:t.user_id,client_ip:e,offer_id:n},{device_network:{type:Dr.a.LAN},media:{media_id:"1245679",encoding:jr.b.name,media_type:Ir.d.SONG},created_at:Math.round(Date.now()/1e3),stream_context:{context_id:"2366228282",context_type:"playlist_page"},is_restricted:!1,is_synchronized:!0,listening_duration:280,listen_type:Ir.c.MOD,linked_devices:[{type:"input",device_type:"waze",name:"waze"},{type:"output",device_type:"bluetooth",name:"My_Radio"}],player:{player_version:"a_cool_player",seek_count:1,pause_count:0,previous:!1,next:!1,repeat_type:"repeat_all",is_shuffle:!1},linked_incident:"a_bloody_incident",stream_id:"5f107527-65b9-4be5-af2e-69268eb630e2",stream_session_id:"MyStreamSession"})}}]),e}())(Xn.a,Ar.c),zr=function(){return E.a.createElement(fr,null,E.a.createElement(Cr,{name:"Playlogs",label:"Create fake log",onClick:function(){return Ur.log()}}),E.a.createElement(Cr,{name:"Playlogs",label:"Create fake log and send to REC now",onClick:function(){Ur.log(),Xn.a.flush()}}))},Vr=function(e){var t=e.updateUser,n=Object(Zn.useDeezToolsContext)(),r=Object(Zn.useDeezToolsDispatch)(),a=function(e,t){r({type:hr.c,item:{category:hr.b.FEATURE,name:e,value:t}}),new Or({type:"feature",name:e}).log()};return E.a.createElement(sr,null,E.a.createElement(Rr,{key:"forceDecryptionError",onChange:a}),Br||(Br=E.a.createElement(Nr,{key:"ForceSendToREC"})),E.a.createElement(xr,{key:"offline",onChange:a}),E.a.createElement(wr,{key:"rtl",onChange:function(e,n){a(e,n),t({DIRECTION:n?"rtl":"ltr"})}}),dn.a.isAllowed("gapless_playback")||Object(Kn.c)({itemType:hr.b.GATEKEEP,itemName:"gapless_playback",context:n})?E.a.createElement(Pr,{key:"player-logger",onChange:a}):null,Hr||(Hr=E.a.createElement(zr,{key:"playlogs"})))},qr=n("q/tY");function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wr,Qr,Kr,Jr=function(){var e,t=Object(k.f)((function(e){return e.user.__DZR_GATEKEEPS__})),n=Object(Zn.useDeezToolsDispatch)(),r=Object(Zn.useDeezToolsContext)(),a=function(e,t){n({type:hr.c,item:{category:hr.b.GATEKEEP,name:e,value:t}}),new Or({type:"gatekeep",name:e}).log()},i=(e=t,qr.reduce((function(t,n){var r;return Yr(Yr({},t),{},le()({},n,null!==(r=e[n])&&void 0!==r&&r))}),{})),o=Object.keys(i).filter((function(e){return"deeztools"!==e})).map((function(e){var t=Object(Kn.c)({itemType:hr.b.GATEKEEP,itemName:e,context:r});return E.a.createElement(Tr,{key:e,name:e,label:e,currentValue:t,originalValue:i[e],onChange:a})}));return E.a.createElement(sr,null,o)};!function(e){e.GATEKEEPS="gatekeeps",e.FEATURES="features",e.CONFIG="config"}(Wr||(Wr={}));var Xr,Zr,$r,ea,ta,na=function(e){var t,n=e.tabId,r=e.updateUser;switch(n){case Wr.CONFIG:return E.a.createElement("div",{className:rr.a.tabContent},Qr||(Qr=E.a.createElement(Sr,null)));case Wr.GATEKEEPS:return E.a.createElement("div",{className:rr.a.tabContent},Kr||(Kr=E.a.createElement(Jr,null)));case Wr.FEATURES:return E.a.createElement("div",{className:rr.a.tabContent},t||(t=E.a.createElement(Vr,{updateUser:r})));default:return E.a.createElement("div",{className:rr.a.tabContent},E.a.createElement(ir.b,{className:rr.a.placeholder,wording:"No content for the moment. Feel free to contribute!"}))}},ra=Object(Ke.a)((function(e){var t=e.updateUser,n=Object(_.useState)(Wr.GATEKEEPS),r=Wn()(n,2),a=r[0],i=r[1],o=function(e){return i(e.id)},c=[{id:Wr.GATEKEEPS,label:"Gatekeeps",action:o},{id:Wr.FEATURES,label:"Features",action:o},{id:Wr.CONFIG,label:"Config",action:o}];return E.a.createElement(Je.a,{size:"lg"},E.a.createElement("div",{className:"popper-headings"},Xr||(Xr=E.a.createElement("h2",{className:"heading-2"},"DeezTools")),E.a.createElement("h5",{className:"heading-5-sub"},"Internal dev tools for Deezer",E.a.createElement("a",{href:"https://deezer.jira.com/l/c/2G1ZV1ha",target:"_blank",rel:"noreferrer"},E.a.createElement(Qn.a,{className:dr.a.infoIcon,size:"14"})))),E.a.createElement(ar,{items:c,activeTab:a}),E.a.createElement(na,{tabId:a,updateUser:t}),Zr||(Zr=E.a.createElement(tr,null)))})),aa=n("9ae3"),ia=n("h3bK"),oa=n("Lsfk"),ca=n.n(oa);!function(e){e.IDLE="idle",e.PENDING="pending",e.ACTIVE="active"}(ta||(ta={}));var sa,la,ua=function(e){var t=e.className,n=Object(Zn.useDeezToolsContext)(),r=Object(_.useState)(ta.IDLE),a=Wn()(r,2),i=a[0],o=a[1];if(Object(_.useEffect)((function(){Object(Kn.e)()&&!Object(Kn.f)(n)?o(ta.ACTIVE):Object(Kn.f)(n)?o(ta.PENDING):o(ta.IDLE)}),[n]),i===ta.IDLE)return null;var c=Object(O.a)(ca.a.root,ca.a[i],t);return E.a.createElement("span",{className:c,"aria-hidden":!0},i===ta.ACTIVE?$r||($r=E.a.createElement(aa.a,{size:"8"})):ea||(ea=E.a.createElement(ia.a,{size:"8"})))};function da(e){return E.a.createElement(Kt.a,Q()({name:"settings"},e),sa||(sa=E.a.createElement("path",{d:"M12 6.667V5.333l-1.451-.362a4.634 4.634 0 0 0-.605-1.458l.77-1.284-.943-.943-1.284.77a4.633 4.633 0 0 0-1.458-.605L6.667 0H5.333l-.362 1.451a4.633 4.633 0 0 0-1.458.605l-1.284-.77-.943.943.77 1.284c-.279.441-.487.932-.605 1.458L0 5.333v1.334l1.451.362c.118.526.326 1.017.605 1.458l-.77 1.284.943.943 1.284-.77c.441.279.932.487 1.458.605L5.333 12h1.334l.362-1.451a4.635 4.635 0 0 0 1.458-.605l1.284.77.943-.943-.77-1.284c.279-.442.486-.932.605-1.458L12 6.667zM3.5 6a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"})))}var pa,fa,ha,ma,va,ya=function(e){var t=e.updateUser;if(!dn.a.isAllowed("deeztools")||!Object(Kn.g)())return null;var n={popperId:"topbar-deeztools",trigger:[Zt.d],delay:500,isDisabled:!1,className:"topbar-action",params:{updateUser:t}};return E.a.createElement(ra,n,E.a.createElement("button",{type:"button",className:dr.a.root,"aria-label":"DeezTools",onClick:function(){new Or({type:"display"}).log()}},la||(la=E.a.createElement(da,{size:"18"})),E.a.createElement(ua,{className:dr.a.badge})))};function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a=Object(k.c)((function(e){var t=e.user;return{isUserConnected:Object(M.Q)(t),user:t}}),(function(e){return{updateUser:function(t){return e(Object(F.u)(t))}}}))((function(e){var t=e.isUserConnected,n=e.user,r=e.updateUser;return E.a.createElement("div",{className:"page-topbar",id:"page_topbar"},t?E.a.createElement(E.a.Fragment,null,pa||(pa=E.a.createElement(Rt,null)),E.a.createElement(ya,{updateUser:function(e){return r(ba(ba({},n),e))}}),fa||(fa=E.a.createElement(Un,null)),ha||(ha=E.a.createElement(cn,null)),ma||(ma=E.a.createElement(Nn,null))):va||(va=E.a.createElement(Gn,null)))})),Ea=n("U/XI");function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Oa=function(e){u()(n,e);var t=ka(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"sidebar-header-logo"},this._isUserCusto()?E.a.createElement("div",{className:"logo-partner--container"},E.a.createElement(et.a,{className:"logo logo-deezer-small",to:"/".concat(this.props.userLang,"/"),"aria-label":"Deezer"}),this._renderLogoPartner()):E.a.createElement(et.a,{className:"logo logo-deezer-black",to:"/".concat(this.props.userLang,"/"),"aria-label":"Deezer"}))}},{key:"_renderLogoPartner",value:function(){var e=this.props,t=e.userCusto,n=e.darkMode;return E.a.createElement("a",{className:"logo-partner",href:t.logos.logo_link,target:"_blank",rel:"noreferrer"},E.a.createElement("img",{className:"logo-partner-img",src:n?t.logos.header_dark:t.logos.header}))}},{key:"_isUserCusto",value:function(){var e=this.props.userCusto;return"object"===Ce()(e)&&"object"===Ce()(e.logos)&&"string"==typeof e.logos.logo_position&&e.logos.header&&e.logos.header_dark}}]),n}(_.Component),Sa=Object(k.c)((function(e){var t=e.user;return{darkMode:Object(M.R)(t),userLang:t.SETTING_LANG,userCusto:t.CUSTO}}))(Oa);function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Ra,Ca,Na,xa,Pa,wa,Aa,Ia,ja,Da,La,Ma,Fa=function(e){u()(n,e);var t=Ta(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.conversionEntrypoints,t=e.CONVERSION_BANNER_FREE,n=e.CONVERSION_BANNER_TRIAL,r=t||n;return r?E.a.createElement("div",{className:"conversion-banner"},E.a.createElement("p",{className:"conversion-banner-description"},r.description),E.a.createElement(xn.a,{as:"a",color:"light",href:Object(Ln.a)(r.action),isFullWidth:!0,target:"_blank",variant:"outlined"},r.label)):null}}]),n}(_.Component),Ba=Object(k.c)((function(e){return{conversionEntrypoints:e.user.USER.ENTRYPOINTS}}))(Fa),Ha=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?Ra||(Ra=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M4 5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h6.1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4zm9.9 0a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1H20a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-6.1zM3 14a1 1 0 0 1 1-1h6.1a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4zm10.9-1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1H20a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-6.1z"})):Ca||(Ca=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M4 6h6.1v4H4V6zM3 6a1 1 0 0 1 1-1h6.1a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6zm10.9 0H20v4h-6.1V6zm-1 0a1 1 0 0 1 1-1H20a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6.1a1 1 0 0 1-1-1V6zm-2.8 8H4v4h6.1v-4zM4 13a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h6.1a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4zm9.9 1H20v4h-6.1v-4zm-1 0a1 1 0 0 1 1-1H20a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6.1a1 1 0 0 1-1-1v-4z"})))},Ua=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?Na||(Na=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M7 6a5 5 0 1 1 10 0v6a5 5 0 1 1-10 0v-1h3.5a.5.5 0 0 0 0-1H7V9h3.5a.5.5 0 0 0 0-1H7V7h3.5a.5.5 0 0 0 0-1H7zm-3 6h1a7 7 0 1 0 14 0h1a8 8 0 0 1-7.5 7.985V22H15v1H9v-1h2.5v-2.015A8 8 0 0 1 4 12z"})):xa||(xa=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M16 6a4 4 0 1 0-8 0h2.5a.5.5 0 0 1 0 1H8v1h2.5a.5.5 0 0 1 0 1H8v1h2.5a.5.5 0 0 1 0 1H8v1a4 4 0 0 0 8 0V6zm-4-5a5 5 0 0 0-5 5v6a5 5 0 0 0 10 0V6a5 5 0 0 0-5-5zM5 12H4a8 8 0 0 0 7.5 7.985V22H9v1h6v-1h-2.5v-2.015A8 8 0 0 0 20 12h-1a7 7 0 1 1-14 0z"})))},za=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?Pa||(Pa=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M10 3 4.75 6H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 .52-.878l6.984-3.99L10 3zm9 8h-4v1h4v-1zm-4 3h4v1h-4v-1zm-3-1a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm1 0a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"})):wa||(wa=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M10 3 4.75 6H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 .52-.878l6.984-3.99L10 3zM3 19V7h18v12H3zm16-8h-4v1h4v-1zm-4 3h4v1h-4v-1zm-3-1a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm1 0a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"})))},Va=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?Aa||(Aa=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M21 2 8 4v12.9c-.635-.555-1.52-.9-2.5-.9C3.567 16 2 17.343 2 19s1.567 3 3.5 3S9 20.657 9 19V8.846l11-1.692V14.9c-.635-.555-1.52-.9-2.5-.9-1.933 0-3.5 1.343-3.5 3s1.567 3 3.5 3 3.5-1.343 3.5-3V2z"})):Ia||(Ia=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M9 7.834V4.858l11-1.692v2.976L9 7.834zm11-.68L9 8.846V19c0 1.657-1.567 3-3.5 3S2 20.657 2 19s1.567-3 3.5-3c.98 0 1.865.345 2.5.9V4l12-1.846L21 2v15c0 1.657-1.567 3-3.5 3S14 18.657 14 17s1.567-3 3.5-3c.98 0 1.865.345 2.5.9V7.154zM17.5 15c1.53 0 2.5 1.035 2.5 2 0 .965-.97 2-2.5 2S15 17.965 15 17c0-.965.97-2 2.5-2zM8 19c0-.965-.97-2-2.5-2S3 18.035 3 19c0 .965.97 2 2.5 2S8 19.965 8 19z"})))},qa=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?ja||(ja=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M11.381 20.41c.402.385.619.59.619.59s3.475-3.276 8.34-8.338c4.694-4.98-1.427-13.749-7.66-7.493a11.246 11.246 0 0 0-.68.744l-.043-.05c-.212-.25-.425-.48-.637-.693-6.233-6.25-12.354 2.608-7.66 7.492a279.09 279.09 0 0 0 7.72 7.747z"})):Da||(Da=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"m12 7.463-.764-.905c-1.497-1.773-2.903-2.437-4.028-2.53-1.117-.092-2.127.363-2.893 1.18-1.573 1.676-1.948 4.666.066 6.761a301.42 301.42 0 0 0 5.974 6.047c.692.68 1.249 1.22 1.645 1.601.396-.381.953-.921 1.645-1.6a301.444 301.444 0 0 0 5.97-6.044 4.963 4.963 0 0 0 .072-6.8c-.763-.809-1.771-1.258-2.89-1.16-1.127.1-2.535.77-4.033 2.545L12 7.463zM12 21s-3.475-3.276-8.34-8.338C-1.034 7.778 5.087-1.08 11.32 5.17c.226.227.453.474.68.743a12.9 12.9 0 0 1 .68-.744c6.233-6.256 12.354 2.513 7.66 7.493C15.475 17.724 12 21 12 21z"})))},Ga=function(e){return E.a.createElement(Kt.a,{size:"24",viewBox:"0 0 24 24"},e.isActive||e.isHover?La||(La=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M16 5.935A8.963 8.963 0 0 0 12 5a8.963 8.963 0 0 0-4 .935 4 4 0 0 1 8 0zm3.985 8.565a7.967 7.967 0 0 1-1.986 4.792l2.355 2.354-.708.708-2.354-2.355a7.967 7.967 0 0 1-4.792 1.986V11h-1v10.985a7.967 7.967 0 0 1-4.792-1.986l-2.354 2.355-.708-.707 2.355-2.355A7.967 7.967 0 0 1 4.015 14.5H1v-1h3.015a7.967 7.967 0 0 1 1.986-4.792L3.646 6.354l.708-.708 2.354 2.355A7.97 7.97 0 0 1 12 6a7.97 7.97 0 0 1 5.292 2l2.354-2.354.708.708-2.355 2.354a7.967 7.967 0 0 1 1.986 4.792H23v1h-3.015z"})):Ma||(Ma=E.a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M14.948 6.56a3 3 0 1 0-5.895 0A7.979 7.979 0 0 1 12 6c1.041 0 2.036.199 2.948.56zM8 6c0 .345.044.68.126.999-.51.282-.985.619-1.418 1.002L4.354 5.646l-.708.708 2.355 2.354A7.967 7.967 0 0 0 4.015 13.5H1v1h3.015a7.967 7.967 0 0 0 1.986 4.792l-2.355 2.354.708.708 2.354-2.355A7.97 7.97 0 0 0 12 22a7.97 7.97 0 0 0 5.292-2l2.354 2.354.708-.708-2.355-2.354a7.967 7.967 0 0 0 1.986-4.792H23v-1h-3.015a7.967 7.967 0 0 0-1.986-4.792l2.355-2.354-.708-.708-2.354 2.355a8.02 8.02 0 0 0-1.418-1.002A4 4 0 1 0 8 6zm4 1a7 7 0 0 1 .5 13.982V11h-1v9.982A7 7 0 0 1 12 7z"})))};function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Wa,Qa=function(e){u()(n,e);var t=Ya(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={isHover:!1},r._onMouseEnter=r._onMouseEnter.bind(s()(r)),r._onMouseLeave=r._onMouseLeave.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.isMain,n=e.isActive,r=e.to,a=e.onClick,i={className:Object(O.a)("sidebar-nav-link",{"is-main":t,"is-active":n}),to:r||"",onClick:a};return r||Object.assign(i,{role:"button",tabIndex:0,onKeyPress:a}),E.a.createElement("li",{className:"sidebar-nav-item",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},E.a.createElement(et.a,i,this._renderIcon(),this._renderLabel(),this._renderBadge()))}},{key:"_renderLabel",value:function(){return E.a.createElement("span",{className:"sidebar-nav-label"},this.props.label)}},{key:"_renderIcon",value:function(){var e=this.props,t=e.icon,n=e.isActive,r=this.state.isHover;return t?E.a.createElement(t,{isActive:n,isHover:r}):null}},{key:"_renderBadge",value:function(){var e=this.props.badge;return e?E.a.createElement(Ct.a,{type:"info",counter:e}):null}},{key:"_onMouseEnter",value:function(){this.setState({isHover:!0})}},{key:"_onMouseLeave",value:function(){this.setState({isHover:!1})}}]),n}(_.Component),Ka=n("+ts2");function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Xa,Za,$a,ei,ti=function(e){u()(n,e);var t=Ja(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._updateHistoryState=r._updateHistoryState.bind(s()(r)),r.state={canGoBack:!1,canGoForward:!1},r}return o()(n,[{key:"componentDidMount",value:function(){un.b&&un.b.on(un.a.HISTORY_UPDATED,this._updateHistoryState)}},{key:"componentWillUnmount",value:function(){un.b&&un.b.off(un.a.HISTORY_UPDATED,this._updateHistoryState)}},{key:"render",value:function(){return E.a.createElement("div",{className:"page-sidebar",id:"page_sidebar"},this._renderHeader(),this._renderNav())}},{key:"_renderHeader",value:function(){return Wa||(Wa=E.a.createElement("div",{className:"sidebar-header"},E.a.createElement(Sa,null),E.a.createElement(Ba,null)))}},{key:"_renderNav",value:function(){var e=this;return E.a.createElement(Xe.a,{className:"sidebar-nav"},E.a.createElement("ul",{className:"sidebar-nav-list",role:"navigation","aria-label":Object(ue.a)("Menu principal")},this._getNavLinks().map((function(t){return e._renderNavLink(t)}))))}},{key:"_renderNavLink",value:function(e){if(e.isDisabled)return null;var t=!1;if(e.to){var n=Object(we.f)(e.to,this.props.location.pathname);t=!!n&&n.isExact}var r={to:e.to,onClick:e.onClick,label:e.label,isMain:e.isMain,icon:e.icon,isActive:t};return E.a.createElement(Qa,Q()({},r,{key:e.id}))}},{key:"_updateHistoryState",value:function(e,t){var n=t.canGoBack,r=t.canGoForward;this.setState({canGoBack:n,canGoForward:r})}},{key:"_getNavLinks",value:function(){var e=this.props,t=e.userID,n=e.userHasDownload,r=e.userLang,a=e.userIsKid;return[{id:"home",icon:Va,label:Object(ue.a)("Musique"),to:"/".concat(r,"/"),isMain:!0},{id:"shows",icon:Ua,label:Object(ue.a)("Podcasts"),to:"/".concat(r,"/podcasts"),isMain:!0,isDisabled:!dn.a.isAllowed("talk")},{id:"radio",icon:za,label:Object(ue.a)("generic_title_radio_web"),to:"/".concat(r,"/radio"),isMain:!0,isDisabled:!dn.a.isAllowed("livestream_page")},{id:"explore",icon:Ha,label:Object(ue.a)("Parcourir"),to:"/".concat(r,"/channels/explore"),isMain:!0,isDisabled:a},{id:"bugreport",icon:Ga,label:"Report a bug",onClick:function(){return Object(Ea.a)("https://deezer.jira.com/servicedesk/customer/portal/7")},isMain:!0,isDisabled:!dn.a.isAllowed("employee_feature")},{id:"profile",icon:qa,label:Object(ue.a)("menu_title_favorites_web"),to:"/".concat(r,"/profile/").concat(t),isMain:!0},{id:"loved",label:Object(ue.a)("Coups de cœur"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.loved)),isMain:!1},{id:"downloads",label:Object(ue.a)("desktopapp_title_downloads_web"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.downloads)),isDisabled:!n,isMain:!1},{id:"playlists",label:Object(ue.a)("Playlists"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.playlists)),isMain:!1},{id:"albums",label:Object(ue.a)("Albums"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.albums)),isMain:!1},{id:"artists",label:Object(ue.a)("Artistes"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.artists)),isMain:!1},{id:"podcasts",label:Object(ue.a)("Podcasts"),to:"/".concat(r,"/profile/").concat(t,"/").concat(Object(Ka.c)(Ka.a.shows)),isDisabled:!dn.a.isAllowed("talk"),isMain:!1}]}}]),n}(_.Component),ni=Object(we.i)(Object(k.c)((function(e){var t=e.user;return{userID:t.id,userLang:t.SETTING_LANG,userLangDirection:t.DIRECTION,userHasDownload:Object(M.L)(t),userIsKid:Object(M.U)(t)}}))(ti)),ri=n("OCk3"),ai=n("YQcN"),ii=n("WSIf"),oi=n("xaQd"),ci=n("KwjQ"),si=n("NsrU"),li=n("h3fg"),ui=(n("YGK4"),n("Onv7")),di=n("fhKP"),pi=n("9bjC"),fi=n("beqJ"),hi=n("cI/O"),mi=n("H2c4"),vi=n("i21D"),yi=n("rb98"),gi=n("Nwl0"),bi=n("Rzlq"),_i=n("vSc+"),Ei=n("j77k"),ki=n("ARQ0"),Oi=n("MPQr");function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Ti=function(e){u()(n,e);var t=Si(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._onClick=function(){var t=e.props,n=t.type,r=t.id,a=t.isDisliked,i=t.context,o=t.onClick,c={id:r,type:n,context:i};a?gi.a.remove(c):gi.a.add(c),o&&o()},e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.isDisliked,r=e.className,a=Object(bi.a)({type:t,action:"dislike"},n?"hover":"add","full"),i=Object(O.a)(r,"dislike-extended");return E.a.createElement("button",{className:i,onClick:this._onClick},E.a.createElement("span",{className:"icon"},this._getIcon(t,n)),E.a.createElement("span",{className:"label"},a))}},{key:"_getIcon",value:function(e,t){return e?e===sn.a.Artist&&t?Xa||(Xa=E.a.createElement(_i.a,{size:"24"})):e!==sn.a.Artist||t?e===sn.a.Song&&t?$a||($a=E.a.createElement(ki.a,{size:"24"})):e!==sn.a.Song||t?null:ei||(ei=E.a.createElement(Oi.a,{size:"24"})):Za||(Za=E.a.createElement(Ei.a,{size:"24"})):null}}]),n}(_.Component);Ti.defaultProps={className:"",onClick:function(){}};var Ri=Object(k.c)((function(e,t){var n=e.feedbacks;return{isDisliked:Object(yi.g)(n,t.id,t.type)}}))(Ti);const Ci=Object(tt.a)({displayName:"RocketIcon",paths:{16:'<path d="M4.89 8.249 2.67 6.717c.816-.54 1.672-.806 2.702-.762l.46.02.314-.337c2.223-2.383 4.706-3.428 7.824-3.61-.187 3.129-1.265 5.637-3.663 7.855l-.333.308.013.454a4.481 4.481 0 0 1-.76 2.692l-1.513-2.234-.353-.099c-.694-.194-1.187-.486-1.548-.854-.362-.369-.64-.866-.826-1.548l-.096-.353zm-.868.615c.442 1.625 1.408 2.637 3.069 3.103L9.145 15c.25-.25.477-.51.68-.778.78-1.032 1.201-2.204 1.161-3.604C13.62 8.18 14.788 5.393 14.973 2c.018-.328.027-.66.027-1-.34 0-.673.008-1 .026-3.379.179-6.141 1.31-8.585 3.93-1.43-.062-2.577.38-3.622 1.156-.27.201-.533.425-.793.668l3.022 2.084zm-.125 4.796c.634-.64.793-1.479.357-1.918-.581-.52-1.453-.116-1.925.36-.467.457-.772 1.105-.998 1.767-.131.383-.236.771-.331 1.13.362-.097.748-.2 1.128-.33.661-.225 1.303-.528 1.769-1.009zm-1.273-.285c.125-.23.26-.417.405-.559l.005-.005.005-.005c.124-.125.29-.23.432-.28a1.18 1.18 0 0 1-.284.43l-.01.01a2.302 2.302 0 0 1-.553.409z"></path>',24:'<path d="M7.186 12.62 3.64 10.174c1.376-1.048 2.823-1.6 4.624-1.523l.46.02.314-.337C12.412 4.716 16.21 3.203 20.98 3.02c-.189 4.786-1.755 8.62-5.393 11.986l-.333.308.013.454c.05 1.781-.484 3.268-1.525 4.606l-2.418-3.57-.352-.098c-1.05-.295-1.825-.745-2.402-1.333-.578-.59-1.008-1.369-1.288-2.4l-.096-.353zm-.869.616c.631 2.321 2.011 3.766 4.384 4.433L13.636 22c.247-.248.478-.5.693-.76 1.293-1.558 1.999-3.34 1.937-5.5C20.14 12.157 21.793 8.043 21.982 3c.012-.328.018-.662.018-1-.337 0-.67.007-1 .019-5.022.182-9.099 1.779-12.693 5.633C6.1 7.557 4.366 8.3 2.777 9.58c-.262.212-.52.439-.777.679l4.317 2.978zm-.179 6.851c.907-.913 1.134-2.113.51-2.74-.83-.744-2.075-.166-2.749.513-.783.766-1.247 1.907-1.585 3.018A31.26 31.26 0 0 0 2 22c.362-.097.74-.199 1.12-.314 1.112-.338 2.239-.793 3.018-1.599zm-2.65.424a9.36 9.36 0 0 1 .132-.343c.27-.668.59-1.212.978-1.593l.006-.005.005-.005c.237-.24.57-.448.87-.53.253-.07.386-.032.474.033.028.04.072.14.031.358-.05.265-.22.618-.556.957l-.009.01c-.481.497-1.154.839-1.93 1.118z"></path>'}});var Ni;function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Pi=function(e){u()(n,e);var t=xi(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._onClick=function(){e.props.hide()},e}return o()(n,[{key:"render",value:function(){return E.a.createElement(Je.a,{className:"popper-player-user-feedback"},this._renderHeader(),E.a.createElement("ul",{className:"menu"},this._renderDislikeTrack(),this._renderDislikeArtist(),this._renderChangeMood(),this._renderManageDisliked()))}},{key:"_renderHeader",value:function(){return E.a.createElement("div",{className:"header"},E.a.createElement("div",{className:"header-label ellipsis"},Object(ue.a)("banfeatures_title_nothappywithyourmix_web")))}},{key:"_renderDislikeTrack",value:function(){var e=this.props,t=e.trackID,n=e.context;return E.a.createElement("li",{className:"item-container item ellipsis"},E.a.createElement(Ri,{id:t,type:sn.a.Song,context:n,onClick:this._onClick}))}},{key:"_renderDislikeArtist",value:function(){var e=this.props,t=e.artistID,n=e.context;return"0"===t?null:E.a.createElement("li",{className:"item-container item ellipsis"},E.a.createElement(Ri,{id:t,type:sn.a.Artist,context:n,onClick:this._onClick}))}},{key:"_renderChangeMood",value:function(){return E.a.createElement("li",{className:"item-container"},E.a.createElement(et.a,{className:"link",to:"/channels/mixes",onClick:this._onClick},E.a.createElement("div",{className:"item ellipsis"},Ni||(Ni=E.a.createElement("span",{className:"icon"},E.a.createElement(Ci,{size:"24"}))),E.a.createElement("span",{className:"label"},Object(ue.a)("banfeatures_title_changemood_web")))))}},{key:"_renderManageDisliked",value:function(){return E.a.createElement("li",{className:"item-container item ellipsis"},E.a.createElement(et.a,{className:"link",to:"/exclusions",onClick:this._onClick},E.a.createElement("div",{className:"item ellipsis"},E.a.createElement("span",{className:"label"},Object(ue.a)("banfeatures_action_managemyexclusions_web")))))}}]),n}(_.Component),wi={hide:Le.b},Ai=Object(Ke.a)(Object(k.c)(null,wi)(Pi)),Ii=n("3825"),ji=n("xpVx"),Di=n("vx5L"),Li=n("4Rq0");const Mi=Object(tt.a)({displayName:"AngryIcon",paths:{16:'<path d="M3.347 7a2.312 2.312 0 0 1 1.532.298c.29.167.552.358.788.572a.954.954 0 1 0 1.369.504.5.5 0 0 0-.046-.534 5.375 5.375 0 0 0-1.612-1.408 3.31 3.31 0 0 0-2.175-.422.5.5 0 1 0 .144.99zm4.701 3.928c-1.004 0-1.959.636-2.864 1.909 1.196-.392 2.15-.588 2.864-.588.713 0 1.668.196 2.863.588-.905-1.273-1.86-1.91-2.863-1.91zM9.105 8.7a.955.955 0 1 0 1.446-.818c.24-.22.506-.414.8-.584.487-.28.992-.377 1.533-.299a.5.5 0 0 0 .144-.99 3.31 3.31 0 0 0-2.175.423A5.376 5.376 0 0 0 9.24 7.84a.5.5 0 0 0-.064.496.952.952 0 0 0-.072.365z"></path><path d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0zm-1 0A6 6 0 1 0 2 8a6 6 0 0 0 12 0z"></path>',24:'<path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10zm1 0c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM4.654 10.194c.904-.13 1.75.033 2.56.5.499.286.95.619 1.352.996a1.5 1.5 0 1 0 1.769.596.548.548 0 0 0-.11-.394A8.212 8.212 0 0 0 7.763 9.74a4.967 4.967 0 0 0-3.266-.634.55.55 0 1 0 .158 1.088zm7.421 6.407c-1.578 0-3.078 1-4.5 3 1.88-.616 3.38-.923 4.5-.923 1.121 0 2.621.307 4.5.923-1.422-2-2.922-3-4.5-3zm1.662-3.5a1.5 1.5 0 1 0 2.045-1.398 7.35 7.35 0 0 1 1.367-1.01 3.868 3.868 0 0 1 2.56-.498.55.55 0 0 0 .158-1.09 4.967 4.967 0 0 0-3.266.635 8.211 8.211 0 0 0-2.463 2.152.547.547 0 0 0-.113.325 1.493 1.493 0 0 0-.289.884z"></path>'}});var Fi=n("UQbt"),Bi=n("ikOQ"),Hi=n("smSd"),Ui=n("gEhp"),zi=n("Ef1d");function Vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var qi,Gi=function(e){u()(n,e);var t=Vi(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onUpNextToggle=r._onUpNextToggle.bind(s()(r)),r._nbDisplayTracks=0,r}return o()(n,[{key:"shouldComponentUpdate",value:function(e){return!!(this.props.index!==e.index&&e.isRadio||this.props.isUpnext!==e.isUpnext||this.props.hasUpNext!==e.hasUpNext)}},{key:"render",value:function(){return E.a.createElement("div",{className:"queuelist-upnext"},this._renderUpNextToggle(),this._renderRecommendations())}},{key:"_renderUpNextToggle",value:function(){var e=this.props,t=e.isAuth,n=e.isUpnext,r=e.playerUI,a=e.hasUpNext;return t&&(r.upnext||n)?E.a.createElement("div",{className:"queuelist-upnext-heading"},E.a.createElement("span",{className:"queuelist-title"},Object(ue.a)("Recommandations automatiques")),E.a.createElement(hn.a,{type:hn.a.TYPE_SWITCH,checked:a,onChange:this._onUpNextToggle})):null}},{key:"_renderRecommendations",value:function(){var e=this.props,t=e.context,n=e.userId,r=e.isUpnext,a=e.recommendations,i=e.trackListLength,o=e.maxPlayedIndex;if(!r)return null;var c=a.slice(0,o-i+1);return E.a.createElement(Bi.a,{id:n,type:Hi.a.Queuelist,context:t,items:c,options:{isRadio:!0,changeOrder:!1}})}},{key:"_onUpNextToggle",value:function(e){this.props.updateSettings({global:{has_up_next:e}}),!1===e&&ri.c.clearRecommendationsTrackList()}}]),n}(_.Component),Yi=Object(k.c)((function(e){return{userId:e.user.id,isAuth:e.user.isAuth,hasUpNext:e.user.hasUpNext,index:e.player.music.index,context:{ID:e.user.id,TYPE:"queuelist"},currentPlayerContext:e.player.music.context,recommendations:e.player.music.recommendations,trackListLength:e.player.music.list.length,maxPlayedIndex:e.player.music.maxPlayedIndex,isRadio:e.player.config.isRadio,isUpnext:e.player.config.isUpnext,playerUI:Object(pi.a)(e)}}),{updateSettings:F.s})(Gi);function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Qi,Ki,Ji,Xi,Zi,$i,eo,to,no=le()({},zi.a.PODCAST,Hi.a.QueuelistPodcast),ro=function(e){u()(n,e);var t=Wi(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._scrollerRef=null,r._onScroll=Object(Pe.a)(r._onScroll.bind(s()(r)),100),r._onScrollEnd=r._onScrollEnd.bind(s()(r)),r.state={nbDisplayTracks:40},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isRadio,n=e.index;this._scrollerRef&&(t?this._scrollerRef.scrollToBottom():this._scrollerRef.scrollTop(n*Ui.w))}},{key:"render",value:function(){var e=this,t={shadow:Fi.b,onScroll:this._onScroll,onScrollEnd:this._onScrollEnd,ref:function(t){return e._scrollerRef=t}};return E.a.createElement(Xe.a,Q()({className:"queuelist-datagrid"},t),this._renderDatagrid(),this._renderUpnext())}},{key:"_renderDatagrid",value:function(){var e=this.props,t=e.userID,n=e.isRadio,r=e.isUpnext,a=e.uiType,i=n&&!r,o=no[a]||Hi.a.Queuelist,c={ID:t,TYPE:o};return E.a.createElement(Bi.a,{id:t,type:o,context:c,items:this._getListToRender(),options:{isRadio:i}})}},{key:"_renderUpnext",value:function(){return this._isFullyRendered()?qi||(qi=E.a.createElement(Yi,null)):null}},{key:"_onScroll",value:function(){this.props.dispatchHidePopper()}},{key:"_onScrollEnd",value:function(){this._isFullyRendered()||this.setState({nbDisplayTracks:this.state.nbDisplayTracks+40})}},{key:"_isFullyRendered",value:function(){var e=this.props,t=e.list;return!!e.isRadio||this.state.nbDisplayTracks>=t.length}},{key:"_getListToRender",value:function(){var e=this.props,t=e.list,n=e.isRadio,r=e.maxPlayedIndex,a=this.state.nbDisplayTracks;return n?t.slice(0,r+1):t.slice(0,a)}}]),n}(_.Component),ao={dispatchHidePopper:Le.b},io=Object(k.c)((function(e){return{userID:e.user.id,list:e.player.music.list,index:e.player.music.index,maxPlayedIndex:e.player.music.maxPlayedIndex,isRadio:e.player.config.isRadio,isUpnext:e.player.config.isUpnext,playerUI:Object(pi.a)(e),uiType:Object(pi.b)(e)}}),ao)(ro),oo=(n("qePV"),function(e){var t=e.playerUI.title,n=e.track;return t&&t.url&&t.id&&Number(n[t.id])&&n.RIGHTS&&Object.entries(n.RIGHTS).length>0?t.url+n[t.id]:null}),co=function(e,t){var n=e.playerUI.subTitle,r=t.ART_ID,a=void 0===r?0:r;return n&&n.url&&Number(a)?n.url+a:null},so=n("BXM7"),lo=n("VAna"),uo=n("8Ftv");function po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var fo,ho=function(e){u()(n,e);var t=po(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onPlayerClose=r._onPlayerClose.bind(s()(r)),r._onLyricsClick=r._onLyricsClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"player-wrapper player-queuelist"},this._renderHeader(),this._renderContainer())}},{key:"_renderHeader",value:function(){return E.a.createElement("div",{className:"player-header"},E.a.createElement("div",{className:"player-close"},E.a.createElement(mi.a,{text:Object(ue.a)("Fermer"),position:"bottom"},E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",onClick:this._onPlayerClose,"aria-label":Object(ue.a)("generic_action_closepanel_web")},Qi||(Qi=E.a.createElement(Ii.a,null))))))}},{key:"_renderContainer",value:function(){return E.a.createElement("div",{className:"player-container"},this._renderCover(),this._renderContent())}},{key:"_renderCover",value:function(){return E.a.createElement("div",{className:"queuelist-cover"},this._renderCoverPicture(),this._renderCoverActions(),this._renderCoverTitle(),this._renderCoverSubTitle(),this._renderLabel())}},{key:"_renderCoverPicture",value:function(){var e=this.props,t=e.uiType,n=e.track,r=e.trackTitle,a=e.isSponsored,i=le()({},zi.a.PODCAST,sn.a.Episode);return E.a.createElement("div",{className:"queuelist-cover-thumbnail"},E.a.createElement(jt.a,{type:i[t]||sn.a.Album,height:380,width:380,data:n,coverLink:!1,isSponsored:a,alt:r}),this._renderCoverExplicit(),this._renderCoverSticker())}},{key:"_renderLabel",value:function(){var e;switch(this.props.uiType){case zi.a.AD:e=Object(ue.a)("PUBLICITÉ");break;default:return null}return E.a.createElement("span",{className:"queuelist-cover-label"},E.a.createElement("span",{className:"label"},e))}},{key:"_renderCoverTitle",value:function(){var e=this.props,t=e.trackTitle,n=t;if(e.uiType===zi.a.AD){var r=window.sasAudioConfig||{},a=r.text,i=decodeURIComponent(r.url);n=E.a.createElement("a",{className:"queuelist-cover-link",href:i,onClick:function(e){e.preventDefault(),e.stopPropagation(),/^http/.test(i)&&Object(Ea.a)(i)}},a)}else null!==oo(this.props)&&(n=E.a.createElement(et.a,{className:"queuelist-cover-link",to:oo(this.props)},t));return E.a.createElement("div",{className:"queuelist-cover-title"},this._renderExplicit(),n)}},{key:"_renderCoverSubTitle",value:function(){var e=this,t=this.props,n=t.trackArtists;return t.uiType===zi.a.AD?null:E.a.createElement("div",{className:"queuelist-cover-subtitle"},n.map((function(t,n){return[n>0?", ":"",null===co(e.props,t)?t.ART_NAME:E.a.createElement(et.a,{className:"queuelist-cover-link",key:t.ART_ID,to:co(e.props,t)},t.ART_NAME)]})))}},{key:"_renderExplicit",value:function(){return this.props.isExplicit?Ki||(Ki=E.a.createElement(vi.a,{type:"small"})):null}},{key:"_renderCoverExplicit",value:function(){return this.props.shouldHideCoverForUser?null:this.props.isExplicit?Ji||(Ji=E.a.createElement("div",{className:"explicit-container"},E.a.createElement(vi.a,null))):null}},{key:"_renderCoverSticker",value:function(){var e;switch(this.props.audioQuality){case uo.b.LOSSLESS:e=Object(ue.a)("HiFi");break;case uo.b.HIGH:e="HQ";break;default:return null}return E.a.createElement("span",{className:"queuelist-cover-sticker sticker"},e)}},{key:"_renderCoverActions",value:function(){return E.a.createElement("div",{className:"queuelist-cover-actions"},E.a.createElement("ul",{className:"svg-icon-group"},this._renderActionLyrics(),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderActionContextMenu("addToPlaylist")),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderActionLike()),this._renderActionUserFeedback(),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderActionContextMenu())))}},{key:"_renderActionLyrics",value:function(){var e=this.props,t=e.playerUI,n=e.isOnline;if(!t.lyrics||!this.props.hasLyrics||!n)return null;var r=Object(ue.a)("Afficher les paroles");return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(mi.a,{text:r},E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",onClick:this._onLyricsClick,"aria-label":r},Xi||(Xi=E.a.createElement(ji.a,null)))))}},{key:"_renderActionLike",value:function(){var e=this.props,t=e.playerUI,n=e.id,r=e.track;if(!t.like)return null;var a=String(r.SNG_ID_ORIGIN||n);return E.a.createElement(fi.a,{className:"svg-icon-group-btn",type:"song",context:{ID:a,TYPE:"player"},tooltip:!0,id:a})}},{key:"_renderActionContextMenu",value:function(e){var t=this.props,n=t.track,r=t.index,a=t.id,i=t.context,o=t.playerUI,c=t.userId;if(!o.contextMenu)return null;var s="addToPlaylist"===e,l={anchor:E.a.createElement("button",{className:"svg-icon-group-btn",type:"button"},s?Zi||(Zi=E.a.createElement(Di.a,null)):$i||($i=E.a.createElement(Li.a,null))),context:{ID:c,TYPE:"queuelist"},data:{INDEX:r,SONG:n,PLAYLIST_ID:i.ID},forceShowPlaylists:s,id:a,placement:"right"};return E.a.createElement(hi.a,l)}},{key:"_renderActionUserFeedback",value:function(){var e=this.props,t=e.playerUI,n=e.id,r=e.track,a=e.trackArtists,i=e.context,o=e.isRadio,c=e.openedPopperId;if(!t.userFeedback||!i.TYPE||!o&&vr.a.get("log_contexts")[i.TYPE]!==sn.a.Smarttracklist)return null;var s={popperId:"player-queuelist-user-feedback",trigger:[Zt.d],placement:"right",context:i,tooltip:{text:Object(ue.a)("banfeatures_title_nothappywithyourmix_web")},data:{trackID:String(r.SNG_ID_ORIGIN||n),artistID:a.length>0?a[0].ART_ID:"0",context:i}};return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(Ai,s,E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-haspopup":"true","aria-expanded":c===s.popperId,"aria-label":Object(ue.a)("banfeatures_title_nothappywithyourmix_web")},eo||(eo=E.a.createElement(Mi,null)))))}},{key:"_renderContent",value:function(){return E.a.createElement("div",{className:"queuelist-content"},E.a.createElement("div",{className:"queuelist-header"},E.a.createElement("div",{className:"queuelist-heading"},this._renderTitle(),this._renderSubTitle()),this._renderSaveAsPlaylist()),to||(to=E.a.createElement(io,null)))}},{key:"_renderTitle",value:function(){var e=this.props,t=e.isRadio,n=e.isFlow,r=e.isUpnext,a=Object(ue.a)("File d'attente");return t&&!r&&(a=n?Object(ue.a)("Derniers titres écoutés sur Flow"):Object(ue.a)("Derniers titres écoutés dans le mix")),E.a.createElement("span",{className:"queuelist-title"},a)}},{key:"_renderSubTitle",value:function(){var e=this.props,t=e.list,n=e.isRadio,r=e.tracklistDuration;if(n)return null;var a=Object(ue.c)("%s titre","%s titres",{sprintf:[Object(so.a)(t.length)],count:t.length});return E.a.createElement("span",{className:"queuelist-subtitle"}," ","· ",a," · ",Object(lo.a)(r))}},{key:"_renderSaveAsPlaylist",value:function(){var e=this.props.playerUI.saveAsPlaylist,t=this.props,n=t.list,r=t.userId;if(!e)return null;var a=this._getTrack(),i=1===a.length?{SONG:n[0]}:{},o={anchor:E.a.createElement(xn.a,null,Object(ue.a)("Ajouter à une playlist")),context:{ID:r,TYPE:"queuelist"},data:i,forceShowPlaylists:!0,id:a};return E.a.createElement(hi.a,o)}},{key:"_onPlayerClose",value:function(){this.props.setPlayerFull(!1)}},{key:"_onLyricsClick",value:function(){this.props.playerLyrics?this.props.setPlayerFull(!1):this.props.setPlayerLyrics(!0),ri.c.isPaused()||ri.c.isPlaying()||ri.c.control.play()}},{key:"_getTrack",value:function(){var e=this.props,t=e.isUpnext,n=e.isRadio,r=e.list,a=e.recommendations,i=e.index,o=r;return t?o=o.concat(a.slice(0,i-r.length+1)):n&&(o=o.slice(0,i+1)),xt()(new Set(o.map((function(e){return e.SNG_ID||e.UPLOAD_ID}))))}}]),n}(_.Component),mo=Object(k.c)((function(e){return{id:e.player.music.id,track:e.player.music.track,list:e.player.music.list,index:e.player.music.index,context:e.player.music.context,isExplicit:e.player.music.isExplicit,isSponsored:e.player.music.isSponsored,recommendations:e.player.music.recommendations,tracklistDuration:e.player.music.tracklistDuration,trackTitle:e.player.music.trackTitle,trackArtists:e.player.music.trackArtists,shouldHideCoverForUser:Object(ui.f)(e.user,e.player.music.track),isRadio:e.player.config.isRadio,isFlow:e.player.config.isFlow,isUpnext:e.player.config.isUpnext,playerLyrics:e.player.config.playerLyrics,userId:e.user.id,isOnline:e.app.online,hasLyrics:Object(di.r)(e),playerUI:Object(pi.a)(e),uiType:Object(pi.b)(e),audioQuality:Object(di.j)(e),openedPopperId:e.popper.popperId}}),{setPlayerFull:si.a,setPlayerLyrics:si.b})(ho),vo=(n("4l63"),function(e){var t=e.player.lyrics.list;return t.length?parseInt(t[0].milliseconds,10)/1e3:0}),yo=(n("EnZy"),n("NGRw"));function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bo=!1;var _o=function(e,t){return function(n){return new Promise((function(r,a){t&&!bo&&(bo=!0,fo=Fe.b.call({method:"song.getLyrics",data:{sng_id:e.id},success:function(a){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:yo.a,id:e.id,isLoading:!1,hasLyrics:t&&""!==a.LYRICS_TEXT,lyricsId:a.LYRICS_ID,lyricsText:a.LYRICS_TEXT},function(e){var t=!!e.LYRICS_SYNC_JSON,n=[];if(t){var r=e.LYRICS_SYNC_JSON||[];if(r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a];o&&o.line&&o.milliseconds&&n.push(o)}}else n=e.LYRICS_TEXT.split(/\r\n|\r|\n/g);return{metadata:{copyrights:e.LYRICS_COPYRIGHTS||"",writers:e.LYRICS_WRITERS||""},list:n,isSync:t}}(a))),bo=!1,r()},error:function(e){bo=!1,a(e)}})),n({type:yo.b,isLoading:t,hasLyrics:t})}))}};var Eo,ko,Oo,So=function(e){return{type:yo.c,autoScroll:e.autoScroll}},To=n("rod9"),Ro=function(e,t,n){if(t<=1)return 0;var r=Math.floor(Math.random()*(t-e))+e;return void 0!==n&&r===n?r===t-1?--r:++r:r},Co=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.max>=0?e.strokeDasharray:0;e.max>0&&e.now<=e.max&&(n=e.now>0?e.strokeDasharray/(e.max/e.now):0);var r=t?t.strokeDashoffset:null,a=e.strokeDasharray-n,i=!(0===a||a===e.strokeDasharray||null!==r&&a>=r);return{strokeDashoffset:e.strokeDasharray-n,hasTransition:i,now:e.now}};function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var xo=function(e){u()(n,e);var t=No(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state=Co(e),r}return o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return-1===e.max||e.now<=e.max||t.strokeDashoffset>=0&&0!==this.state.strokeDashoffset}},{key:"render",value:function(){var e,t,n,r,a,i=this.props,o=i.max,c=i.now,s=i.strokeDasharray,l=this.state,u=l.strokeDashoffset,d=l.hasTransition;o>0&&(e=0,n=c<(t=o)?c:t,r=Math.floor(t-n),a=Object(ue.c)("%s seconde","%s secondes",{sprintf:[r],count:r}));var p={className:Object(O.a)("lyrics-spinner-starter",{"has-transition":d}),role:"timer","aria-describedby":"starter-message","aria-valuemin":e,"aria-valuemax":t,"aria-valuenow":n,"aria-valuetext":a,strokeDasharray:s,strokeDashoffset:u};return E.a.createElement("div",{className:"lyrics-spinner"},E.a.createElement("svg",{className:"lyrics-spinner-svg",height:"100",width:"100",x:"0",y:"0"},Eo||(Eo=E.a.createElement("g",{className:"lyrics-spinner-background"},E.a.createElement("circle",{cx:"50",cy:"50",r:"45"}))),E.a.createElement("g",p,ko||(ko=E.a.createElement("circle",{cx:"50",cy:"50",r:"45"})))),Oo||(Oo=E.a.createElement("div",{className:"lyrics-spinner-icon"},E.a.createElement(ji.a,{size:"24"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.now!==t.now?Co(e,t):null}}]),n}(_.Component);xo.defaultProps={message:"",strokeDasharray:300};var Po=Object(k.c)((function(e){return{max:vo(e)}}))(xo);function wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Ao=function(e){u()(n,e);var t=wo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={},r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.placeholders,n=e.explanations,r=this.state,a=r.placeholderIndex,i=r.explanationIndex,o=t[a],c=n[i],s=Object(ue.a)("(Mal) entendu dans %1$s <em>de %2$s</em>",{sprintf:[o.title,o.artist]}),l=Object(O.a)("lyrics-placeholder-image",le()({},"lyrics-placeholder-image-".concat(a+1),!0));return E.a.createElement("div",{className:"lyrics-placeholder",role:"alert"},E.a.createElement("div",{className:l}),E.a.createElement("div",{className:"lyrics-placeholder-quote"},o.quote),E.a.createElement("div",{className:"lyrics-placeholder-track",dangerouslySetInnerHTML:{__html:s}}),E.a.createElement("div",{className:"lyrics-placeholder-message"},c))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.trackId!==t.trackId){var n=e.placeholders,r=e.explanations,a=n.length,i=t.placeholderIndex||null,o=t.explanationIndex||null,c="fr"===e.settingLang?a:a-1;return{placeholderIndex:Ro(0,c,i),explanationIndex:Ro(0,r.length,o),trackId:e.trackId}}return null}}]),n}(_.Component);Ao.defaultProps={placeholders:[{title:"You Oughta Know",artist:"Alanis Morissette",quote:"It's not fair, to deny me of the cross-eyed bear that you gave to me"},{title:"Rock the Casbah",artist:"The Clash",quote:"Shareef don't like it. Rock the cat box, rock the cat box"},{title:"Sweet Dreams",artist:"Eurythmics",quote:"Sweet dreams are made of cheese"},{title:"Bad Moon Rising",artist:"Creedence Clearwater Revival",quote:"Don't go around tonight, it's bound to take your life, there's a bathroom on the right"},{title:"Smells Like Teen Spirit",artist:"Nirvana",quote:"Here we are now, in containers"},{title:"Message in a Bottle",artist:"The Police",quote:"Mon opinel a dû mal couper !"}],explanations:[Object(ue.a)("OK... Nous n'avons pas les paroles de cette chanson."),Object(ue.a)("Pas tout à fait... On donne tout pour trouver les paroles de cette chanson."),Object(ue.a)("Presque... On se dépêche de vous trouver les paroles de cette chanson.")]};var Io=Object(k.c)((function(e){return{settingLang:e.user.SETTING_LANG||""}}),null)(Ao);function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Do=function(e){u()(n,e);var t=jo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.milliseconds,n=e.line,r=e.isActive,a=e.oneLine,i=-1!==t,o=n?n.trim():"",c=Object(O.a)("lyrics-line",{"is-active":i&&r&&!a,"is-oneline":a});return i?E.a.createElement("a",{className:c,onClick:this._onClick,role:"button","data-milliseconds":String(t),"data-index":this.props.index},o):E.a.createElement("div",{className:c},o)}},{key:"_onClick",value:function(){var e=this.props,t=e.milliseconds,n=e.seek,r=e.trackDuration,a=e.playing,i=e.index,o=e.onClick;n?ri.c.control.seek(t/1e3/r):(o(i),a||ri.c.control.play()),this.props.setAutoScroll({autoScroll:!0})}}]),n}(_.PureComponent);Do.defaultProps={milliseconds:-1,index:0,seek:!0,oneLine:!1,onClick:function(){}};var Lo=Object(k.c)((function(e){return{playing:e.player.control.playing,trackDuration:e.player.music.trackDuration}}),{setAutoScroll:So})(Do);function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Fo=function(e){u()(n,e);var t=Mo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._linesRef=[],r}return o()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.activeIndex,r=t.synchro,a=t.lyrics;return e.activeIndex!==n||e.synchro!==r||e.lyrics.length!==a.length}},{key:"getLine",value:function(e){return this._linesRef[e]}},{key:"render",value:function(){var e=this.props,t=e.lyrics,n=e.synchro,r=Object(O.a)("lyrics-content",{"lyrics-synchro":n});return E.a.createElement("div",{className:r,itemProp:"text"},t.map(this._renderLine.bind(this)))}},{key:"_renderLine",value:function(e,t){var n=this,r=this.props,a=r.activeIndex,i=r.synchro,o=t===a,c=e.line?e.line:e,s=i?Number(e.milliseconds):-1,l="lyrics_line_".concat(t);return i&&!c?null:E.a.createElement("div",{className:"lyrics-item",key:l,ref:function(e){return n._linesRef.push(e)}},E.a.createElement(Lo,{index:t,line:c,milliseconds:s,isActive:o}))}}]),n}(_.Component);Fo.defaultProps={lyrics:[]};var Bo,Ho,Uo,zo=Fo;function Vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var qo=function(e){u()(n,e);var t=Vo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._scrollerRef=null,r._lyricsRef=null,r._rafId=null,r._autoScrollTimeout=null,r._autoScrollDelay=100,r._onLyricsScroll=r._onLyricsScroll.bind(s()(r)),r._onLyricsClose=r._onLyricsClose.bind(s()(r)),r._onPositionChanged=r._onPositionChanged.bind(s()(r)),r.state={error:null,isLoading:!0,position:0,activeLyricIndex:r._getActiveIndex(ri.c.getPosition())},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loadLyrics({id:Number(this.props.trackId)},ri.c.hasLyrics()).then((function(){return e.tracking("lyrics")})).catch((function(t){return e.setState({error:t})})),N.a.subscribe(N.a.player.position,this._onPositionChanged)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,a=r.trackId,i=r.playerType,o=r.isLoading,c=this.state.activeLyricIndex;a!==e.trackId&&this.props.loadLyrics({id:Number(a)},ri.c.hasLyrics()).then((function(){return n.tracking("lyrics")})).then((function(){return n.setState({error:null})})).catch((function(e){return n.setState({error:e.name})})),i===To.d.ADS&&this._onLyricsClose(),t.activeLyricIndex===c||o||this._scrollToLine(c)}},{key:"componentWillUnmount",value:function(){bo&&Fe.b.cancel(fo),bo=!1,this._clearAutoScroll(),N.a.unsubscribe(N.a.player.position,this._onPositionChanged)}},{key:"getTrackingParams",value:function(){return{action:{type:"display"},container:"panel",sng:this.props.trackId,type:this.props.isSync?"synchro":"full_text"}}},{key:"render",value:function(){return E.a.createElement("div",{className:"player-wrapper player-lyrics"},this._renderHeader(),this._renderContainer())}},{key:"_renderHeader",value:function(){return E.a.createElement("div",{className:"player-header"},this._renderHeaderTitle(),this._renderHeaderClose())}},{key:"_renderHeaderTitle",value:function(){var e,t=this,n=this.props,r=n.hasLyrics,a=n.autoScroll,i=n.isSync,o=n.list,c=this.state,s=c.activeLyricIndex,l=c.error,u=Object(ue.a)("PAROLES");return l||(r&&i&&!a&&-1!==s&&(e=o[s]),e&&(u=E.a.createElement(Lo,{line:e.line,milliseconds:Number(e.milliseconds),index:s,isActive:!0,seek:!1,oneLine:!0,onClick:function(e){return t._scrollToLine(e,!0)}}))),E.a.createElement("div",{className:"player-heading"},u)}},{key:"_renderHeaderClose",value:function(){return E.a.createElement("div",{className:"player-close"},E.a.createElement(xn.a,{onClick:this._onLyricsClose,"aria-label":Object(ue.a)("generic_action_closepanel_web")},Object(ue.a)("Fermer")))}},{key:"_renderContainer",value:function(){var e=this.state,t=e.error,n=e.isLoading;return t?E.a.createElement("div",{className:"naboo-offline"},Bo||(Bo=E.a.createElement("div",{className:"error","aria-hidden":"true"},"!")),E.a.createElement("div",{className:"title"},Object(ue.a)("Erreur")),E.a.createElement("div",{className:"description"},Object(ue.a)("Une erreur est survenue, merci de réessayer plus tard."))):n?null:E.a.createElement("div",{className:"player-container",itemScope:!0,itemType:"http://data-vocabulary.org/MusicRecording"},this._renderPlaceholder(),this._renderContent(),this._renderGradients())}},{key:"_renderPlaceholder",value:function(){var e=this.props,t=e.hasLyrics,n=e.trackId;return t?null:E.a.createElement(Io,{trackId:n})}},{key:"_renderContent",value:function(){var e=this,t=this.props,n=t.autoScroll,r=t.hasLyrics,a=t.isSync;if(!r)return null;var i={className:"lyrics-container",shadow:Fi.b,onScroll:n&&a?this._onLyricsScroll:null,ref:function(t){return e._scrollerRef=t}};return a&&Object.assign(i,{role:"marquee","aria-live":n?"assertive":"polite"}),E.a.createElement(Xe.a,i,this._renderSpinner(),this._renderLyrics(),this._renderFooter())}},{key:"_renderSpinner",value:function(){var e=this.props.isSync,t=this.state.position;return e?E.a.createElement(Po,{now:t}):null}},{key:"_renderLyrics",value:function(){var e=this,t=this.props,n=t.isSync,r=t.list,a=this.state.activeLyricIndex;return E.a.createElement(zo,{synchro:n,lyrics:r,activeIndex:a,ref:function(t){return e._lyricsRef=t}})}},{key:"_renderFooter",value:function(){var e=this.props,t=e.hasLyrics,n=e.metadata;return t?E.a.createElement("div",{className:"lyrics-footer",role:"complementary"},E.a.createElement("p",null,Object(ue.a)("Licence et autorisation données par LyricFind")),E.a.createElement("p",null,"© ",n.copyrights),E.a.createElement("p",null,n.writers)):null}},{key:"_renderGradients",value:function(){return this.props.hasLyrics?[Ho||(Ho=E.a.createElement("div",{className:"lyrics-gradient is-top",key:"gradient-top"})),Uo||(Uo=E.a.createElement("div",{className:"lyrics-gradient is-bottom",key:"gradient-bottom"}))]:null}},{key:"_onLyricsScroll",value:function(){var e=this.props,t=e.isSync,n=e.autoScroll;t&&n&&!this._isAutoScrolling()&&this.props.setAutoScroll({autoScroll:!1})}},{key:"_onLyricsClose",value:function(){this.props.playerQueuelist?this.props.setPlayerLyrics(!1):this.props.setPlayerFull(!1)}},{key:"_onPositionChanged",value:function(e,t){this.setState({position:t,activeLyricIndex:this._getActiveIndex(t)})}},{key:"_scrollToLine",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props,a=r.autoScroll,i=r.hasLyrics;if(n||i&&a&&-1!==e){var o=this._lyricsRef.getLine(e);if(o){this._clearAutoScroll();var c=this._scrollerRef.getClientHeight(),s=this._scrollerRef.getScrollHeight(),l=o.getBoundingClientRect().height,u=o.offsetTop,d=Math.round(u+l/2-c/2),p=10,f=Math.max(Math.round(Math.abs((this._scrollerRef.getScrollTop()-d)/p)),p),h=function e(){if(t._scrollerRef){var n,r=t._scrollerRef.getScrollTop();r-d>0?(n=r-f)<d&&(n=d):(n=r+f)>d&&(n=d),t._scrollerRef.scrollTop(n),n===d||s<=n+c?t._autoScrollTimeout=window.setTimeout((function(){t._clearAutoScroll()}),t._autoScrollDelay):t._rafId=window.requestAnimationFrame(e)}};this._rafId=window.requestAnimationFrame(h)}}}},{key:"_clearAutoScroll",value:function(){this._isAutoScrolling()&&window.cancelAnimationFrame(this._rafId),this._autoScrollTimeout&&window.clearTimeout(this._autoScrollTimeout),this._rafId=null,this._autoScrollTimeout=null}},{key:"_isAutoScrolling",value:function(){return null!==this._rafId}},{key:"_getActiveIndex",value:function(e){var t=this.props,n=t.list,r=t.isSync,a=t.timeToFirstLyric,i=Math.round(1e3*e);if(i<1e3*a||!r)return-1;var o=n[n.length-1];if(i>Number(o.milliseconds))return n.length-1;for(var c=0,s=0,l=n.length;c!==l;)s=Math.floor((c+l)/2),Number(n[s].milliseconds)<=i?c=s+1:l=s;return 0===c?c:c-1}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isLoading!==t.isLoading?{isLoading:e.isLoading}:null}}]),n}(_.Component);qo.defaultProps={lyricsPanelEntryPoint:null};var Go,Yo,Wo=Object(k.c)((function(e){return{trackId:e.player.music.id,playerType:e.player.config.playerType,playerQueuelist:e.player.config.playerQueuelist,autoScroll:e.player.lyrics.autoScroll,hasLyrics:e.player.lyrics.hasLyrics,list:e.player.lyrics.list,isSync:e.player.lyrics.isSync,isLoading:e.player.lyrics.isLoading,metadata:e.player.lyrics.metadata,lyricsPanelEntryPoint:e.user.USER.ENTRYPOINTS.LYRICS_PANEL,timeToFirstLyric:vo(e)}}),{loadLyrics:function(e,t){return function(n){return n(_o(e,t))}},setAutoScroll:So,setPlayerFull:si.a,setPlayerLyrics:si.b})(Object(Pn.a)(qo));function Qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Ko=function(e){u()(n,e);var t=Qo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onClose=r._onClose.bind(s()(r)),r._onBackToQueuelist=r._onBackToQueuelist.bind(s()(r)),r._onKeyUp=r._onKeyUp.bind(s()(r)),r}return o()(n,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this._onKeyUp)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this._onClose()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this._onKeyUp)}},{key:"render",value:function(){var e=this,t=this.props,n=t.playerFull,r=t.playerQueuelist,a=t.playerLyrics;if(!r&&!a)return null;var i={from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"},easing:"ease-in-out",in:n,duration:500,mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return Object(li.a)(!1)},onExiting:function(){return Object(li.a)(!0)},onExited:function(){e.props.setPlayerQueuelist(!1),e.props.setPlayerLyrics(!1)}};return E.a.createElement(oe.a,i,E.a.createElement("div",{className:"player-full"},r&&!a?Go||(Go=E.a.createElement(mo,null)):Yo||(Yo=E.a.createElement(Wo,null))))}},{key:"_onBackToQueuelist",value:function(){this.props.setPlayerLyrics(!1)}},{key:"_onClose",value:function(){this.props.setPlayerFull(!1)}},{key:"_onKeyUp",value:function(e){"Escape"===e.key&&(this.props.playerLyrics&&this.props.playerQueuelist?this.props.setPlayerLyrics(!1):this.props.setPlayerFull(!1))}}]),n}(_.Component),Jo=Object(we.i)(Object(k.c)((function(e){var t=e.player;return{playerFull:t.config.playerFull,playerQueuelist:t.config.playerQueuelist,playerLyrics:t.config.playerLyrics}}),{setPlayerFull:si.a,setPlayerQueuelist:si.c,setPlayerLyrics:si.b})(Ko)),Xo=(n("OM9Z"),n("TJrt")),Zo=n("ihv3"),$o=n("LFSw");function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var tc=function(e){u()(n,e);var t=ec(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._containerRef=null,r._containerWidth=0,r._wrapperRef=null,r._childrenRef=null,r._gradientRef=null,r._scrollOffset=0,r._scrollWidth=0,r._frameId=null,r._isLastLoop=!1,r._onResize=Object(Pe.a)(r._measureText.bind(s()(r)),100),r.state={isTruncated:!1},r}return o()(n,[{key:"componentDidMount",value:function(){this._measureText(),window.addEventListener("resize",this._onResize,!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=this;this.setState({isTruncated:!1},(function(){e._measureText()}))}},{key:"componentWillUnmount",value:function(){this._clear(),window.removeEventListener("resize",this._onResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.langDirection,r=t.isCentered,a=this.state.isTruncated,i={className:Object(O.a)("marquee-wrapper",{"is-centered":r&&!a}),ref:function(t){return e._wrapperRef=t}};return a&&(i.onMouseEnter=function(){return e._start()},i.onMouseLeave=function(){return e._stop()},i.style=this._getWrapperStyle(0)),E.a.createElement("div",{className:"marquee",dir:n,ref:function(t){return e._containerRef=t}},E.a.createElement("div",i,this._renderContent(),this._renderContent(!1)),this._renderGradient("left"),this._renderGradient("right"))}},{key:"_renderContent",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.props,r=n.children,a=n.langDirection,i=this.state.isTruncated;if(!t&&!i)return null;if(t)return E.a.createElement("div",{className:"marquee-content",ref:function(t){return e._childrenRef=t}},r);var o={paddingLeft:"ltr"===a?"".concat(24,"px"):null,paddingRight:"rtl"===a?"".concat(24,"px"):null};return E.a.createElement("div",{className:"marquee-content",style:o},r)}},{key:"_renderGradient",value:function(e){if(!this.state.isTruncated)return null;var t=Object(O.a)("marquee-gradient",{"marquee-gradient-left":"left"===e,"marquee-gradient-right":"right"===e});return E.a.createElement("span",{className:t,ref:this._getGradientRef(e)})}},{key:"_measureText",value:function(){var e=this;if(this._childrenRef&&this._containerRef){var t=this._childrenRef.offsetWidth>this._containerRef.offsetWidth;this.state.isTruncated!==t&&this.setState({isTruncated:t},(function(){e._clear()}))}}},{key:"_start",value:function(){var e=this.props.onScrollStart;this._isLastLoop&&(this._isLastLoop=!1),this._isScrolling()||(this._scrollWidth=this._childrenRef.offsetWidth,this._containerWidth=this._containerRef.offsetWidth,"function"==typeof e&&e(),this._frameId=window.requestAnimationFrame(this._move.bind(this)))}},{key:"_stop",value:function(){this._isScrolling()&&(this._isLastLoop=!0)}},{key:"_move",value:function(){if(this._frameId=window.requestAnimationFrame(this._move.bind(this)),this._scrollOffset=Math.ceil(this._scrollOffset+.8),this._scrollOffset>this._scrollWidth+24&&(this._scrollOffset=0),this._moveTo(this._scrollOffset),0===this._scrollOffset&&this._isLastLoop){var e=this.props.onScrollEnd;"function"==typeof e&&e(),this._clear()}}},{key:"_moveTo",value:function(e){this._wrapperRef&&this._gradientRef&&(this._setStyle(this._wrapperRef,this._getWrapperStyle(this._getTranslateOffset(e))),this._setStyle(this._gradientRef,{opacity:this._isScrolling()&&(!this._isLastLoop||e>0&&e<this._scrollWidth)?null:0}))}},{key:"_clear",value:function(){this._isScrolling()&&window.cancelAnimationFrame(this._frameId),this._moveTo(0),this._frameId=null,this._isLastLoop=!1,this._scrollOffset=0}},{key:"_setStyle",value:function(e,t){e.style&&Object.assign(e.style,t)}},{key:"_getWrapperStyle",value:function(e){return{transform:"translate3d(".concat(e,"px, 0px, 0px)"),willChange:"transform"}}},{key:"_getGradientRef",value:function(e){var t=this,n=this.props.langDirection;return"ltr"===n&&"left"===e||"rtl"===n&&"right"===e?function(e){return t._gradientRef=e}:null}},{key:"_getTranslateOffset",value:function(e){var t=this.props.langDirection;return 0!==e&&"ltr"===t?e-2*e:e}},{key:"_isScrolling",value:function(){return null!==this._frameId}}]),n}(_.Component);tc.defaultProps={isCentered:!1,onScrollStart:function(){},onScrollEnd:function(){}};var nc,rc=Object(k.c)((function(e){return{langDirection:e.user.DIRECTION}}))(tc);function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}!function(e){e.TYPE_PREV="prev",e.TYPE_NEXT="next"}(nc||(nc={}));var ic=nc.TYPE_PREV,oc=nc.TYPE_NEXT,cc=function(e){u()(n,e);var t=ac(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return E.a.createElement(Je.a,{className:"popper-player-preview",size:"lg"},this._renderThumbnail(),this._renderInfos(),this._renderAction())}},{key:"_renderThumbnail",value:function(){var e,t=this.props,n=t.type,r=t.trackPrev,a=t.trackNext,i=t.mediaType;e=n===nc.TYPE_PREV?r:a;var o=le()({},To.b.EPISODE,sn.a.Episode);return E.a.createElement("div",{className:"preview-thumbnail"},E.a.createElement(jt.a,{type:o[i]||sn.a.Album,height:40,width:40,data:e,coverLink:!1}))}},{key:"_renderInfos",value:function(){return E.a.createElement("div",{className:"preview-heading"},E.a.createElement(rc,null,this._renderTitle()," · ",this._renderSubTitle()))}},{key:"_renderAction",value:function(){return E.a.createElement("div",{className:"preview-action"},E.a.createElement("ul",{className:"svg-icon-group"},this._renderLike()))}},{key:"_renderTitle",value:function(){var e,t,n=this.props,r=n.type,a=n.trackPrev,i=n.trackNext,o=n.prevTrackTitle,c=n.nextTrackTitle,s=n.ui;r===nc.TYPE_PREV?(e=a,t=o):(e=i,t=c);var l=oo({playerUI:s,track:e});return null===l?t:E.a.createElement(et.a,{className:"preview-link",to:l},t)}},{key:"_renderSubTitle",value:function(){var e=this.props,t=e.type,n=e.prevTrackArtists,r=e.nextTrackArtists,a=e.ui;return(t===nc.TYPE_PREV?n:r).map((function(e,t){var n=co({playerUI:a},e);return[t>0?", ":"",null===n?e.ART_NAME:E.a.createElement(et.a,{className:"preview-link",key:e.ART_ID,to:n},e.ART_NAME)]}))}},{key:"_renderLike",value:function(){var e=this.props,t=e.ui,n=e.type,r=e.trackPrev,a=e.trackNext;if(!t.like)return null;var i=n===nc.TYPE_PREV?r:a,o=i.SNG_ID_ORIGIN||i[ri.c.getMediaId(i)];return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(fi.a,{className:"svg-icon-group-btn",type:"song",context:"player",tooltip:!0,id:String(o)}))}}]),n}(_.Component),sc=Object(Ke.a)(Object(k.c)((function(e){return{trackPrev:e.player.music.trackPrev,trackNext:e.player.music.trackNext,mediaType:e.player.music.mediaType,prevTrackTitle:Object(di.i)(e),prevTrackArtists:Object(di.h)(e),nextTrackTitle:Object(di.g)(e),nextTrackArtists:Object(di.f)(e),ui:Object(pi.a)(e)}}))(cc)),lc=n("exAA");const uc=Object(tt.a)({displayName:"StepBackwardIcon",paths:{16:'<path d="M15 0v16L2 8.802V16H1V0h1v7.198L15 0z"></path>',24:'<path d="M3 2h1v9.609L21 2v20L4 12.391V22H3V2z"></path>'}}),dc=Object(tt.a)({displayName:"Backward30Icon",paths:{16:'<path d="M8.025 0 5.55 2.475 8.025 4.95V2.975C11.276 2.99 14 5.967 14 9.2c0 3.158-2.655 5.774-6 5.774-3.219 0-5.799-2.423-5.989-5.42H1.01c.19 3.577 3.247 6.42 6.99 6.42 3.866 0 7-3.033 7-6.774 0-3.734-3.12-7.211-6.975-7.226V0zM5.108 9.406h.626c.553 0 .895.27.895.707 0 .427-.366.711-.889.711-.53 0-.885-.267-.916-.684h-.987c.044.933.803 1.542 1.917 1.542 1.114 0 1.928-.612 1.928-1.477 0-.66-.417-1.097-1.104-1.196v-.065c.53-.13.906-.523.909-1.121.003-.721-.605-1.326-1.699-1.326-1.11 0-1.811.612-1.845 1.52h.953c.034-.44.342-.696.841-.696.482 0 .772.28.772.649 0 .403-.317.68-.786.68h-.615v.756zm5.216 2.276c1.22 0 1.959-.967 1.959-2.598 0-1.637-.749-2.587-1.959-2.587-1.213 0-1.958.95-1.958 2.584 0 1.637.738 2.6 1.958 2.6zm0-.84c-.564 0-.913-.592-.913-1.761 0-1.159.353-1.74.913-1.74.564 0 .913.578.913 1.74 0 1.169-.345 1.76-.913 1.76z"></path>',24:'<path d="M11.536 0 8 3.536l3.536 3.535V4.013A8.1 8.1 0 0 1 12 4c4.92 0 9 4.477 9 9.323C21 18.084 17.002 22 12 22c-4.762 0-8.615-3.55-8.973-8H2.024c.36 5.029 4.689 9 9.976 9 5.523 0 10-4.333 10-9.677C22 7.978 17.523 3 12 3c-.155 0-.31.004-.464.012V0zM8.282 13.271h.804c.712 0 1.152.348 1.152.91 0 .55-.47.914-1.143.914-.68 0-1.138-.343-1.177-.879h-1.27c.057 1.2 1.032 1.982 2.465 1.982 1.433 0 2.478-.786 2.478-1.898 0-.848-.536-1.41-1.42-1.538v-.084c.682-.167 1.165-.672 1.17-1.441.004-.927-.778-1.705-2.184-1.705-1.428 0-2.33.786-2.373 1.955H8.01c.044-.567.44-.896 1.08-.896.62 0 .994.36.994.835 0 .518-.409.874-1.01.874h-.792v.971zm6.707 2.927c1.568 0 2.518-1.243 2.518-3.34 0-2.105-.963-3.326-2.519-3.326-1.56 0-2.518 1.221-2.518 3.322 0 2.105.95 3.344 2.518 3.344zm0-1.08c-.726 0-1.174-.761-1.174-2.264 0-1.49.453-2.237 1.174-2.237.725 0 1.173.743 1.173 2.237 0 1.503-.444 2.263-1.173 2.263z"></path>'}}),pc=Object(tt.a)({displayName:"StepForwardIcon",paths:{16:'<path d="M1 1v14l11-6.217V15h1V1h-1v6.217L1 1z"></path>',24:'<path d="M20 11.609 3 2v20l17-9.609V22h1V2h-1v9.609z"></path>'}}),fc=Object(tt.a)({displayName:"Forward30Icon",paths:{16:'<path clip-rule="evenodd" fill-rule="evenodd" d="M8.025.42 10.5 2.895 8.025 5.37V3h-.017C4.74 3 2 5.986 2 9.226 2 12.383 4.658 15 8.008 15c3.073 0 5.563-2.2 5.955-5h1.009c-.398 3.377-3.364 6-6.964 6C4.138 16 1 12.967 1 9.226S4.138 2 8.008 2h.017V.42zM5.108 9.85h.626c.553 0 .895.27.895.708 0 .427-.366.711-.888.711-.53 0-.886-.267-.916-.684h-.988c.044.934.803 1.542 1.917 1.542 1.114 0 1.928-.612 1.928-1.477 0-.66-.417-1.097-1.104-1.196V9.39c.53-.13.906-.523.91-1.12.003-.722-.606-1.327-1.7-1.327-1.11 0-1.811.612-1.845 1.521h.953c.034-.441.342-.697.841-.697.482 0 .773.28.773.65 0 .402-.318.68-.787.68h-.615v.755zm5.216 2.277c1.22 0 1.959-.967 1.959-2.598 0-1.637-.749-2.587-1.959-2.587-1.213 0-1.958.95-1.958 2.584 0 1.637.738 2.601 1.958 2.601zm0-.84c-.564 0-.912-.592-.912-1.761 0-1.159.352-1.74.912-1.74.564 0 .913.578.913 1.74 0 1.169-.345 1.76-.913 1.76z"></path>',24:'<path clip-rule="evenodd" fill-rule="evenodd" d="m11.5 0 3.536 3.536L11.5 7.07V4.015C6.807 4.305 3 8.643 3 13.323 3 18.084 6.998 22 12 22c4.762 0 8.615-3.55 8.973-8h1.003c-.36 5.029-4.688 9-9.976 9-5.523 0-10-4.333-10-9.677 0-5.183 4.21-10.02 9.5-10.31V0zM8.282 13.271h.804c.712 0 1.152.348 1.152.91 0 .55-.47.914-1.143.914-.681 0-1.138-.343-1.178-.879h-1.27c.057 1.2 1.033 1.982 2.466 1.982 1.432 0 2.478-.786 2.478-1.898 0-.848-.536-1.41-1.42-1.538v-.084c.682-.167 1.165-.672 1.17-1.441.004-.927-.778-1.705-2.184-1.705-1.429 0-2.33.786-2.373 1.955H8.01c.044-.567.439-.896 1.08-.896.62 0 .994.36.994.835 0 .518-.409.874-1.01.874h-.792v.971zm6.706 2.927c1.57 0 2.518-1.243 2.518-3.34 0-2.105-.962-3.326-2.518-3.326-1.56 0-2.518 1.221-2.518 3.322 0 2.105.95 3.344 2.518 3.344zm0-1.08c-.725 0-1.173-.761-1.173-2.264 0-1.49.453-2.237 1.173-2.237.725 0 1.174.743 1.174 2.237 0 1.503-.444 2.263-1.174 2.263z"></path><path d="m11.5 0 3.536 3.536L11.5 7.07V4.015C6.807 4.305 3 8.643 3 13.323 3 18.084 6.998 22 12 22c4.762 0 8.615-3.55 8.973-8h1.003c-.36 5.029-4.688 9-9.976 9-5.523 0-10-4.333-10-9.677 0-5.183 4.21-10.02 9.5-10.31V0zM8.282 13.271h.804c.712 0 1.152.348 1.152.91 0 .55-.47.914-1.143.914-.681 0-1.138-.343-1.178-.879h-1.27c.057 1.2 1.033 1.982 2.466 1.982 1.432 0 2.478-.786 2.478-1.898 0-.848-.536-1.41-1.42-1.538v-.084c.682-.167 1.165-.672 1.17-1.441.004-.927-.778-1.705-2.184-1.705-1.429 0-2.33.786-2.373 1.955H8.01c.044-.567.439-.896 1.08-.896.62 0 .994.36.994.835 0 .518-.409.874-1.01.874h-.792v.971zm6.706 2.927c1.57 0 2.518-1.243 2.518-3.34 0-2.105-.962-3.326-2.518-3.326-1.56 0-2.518 1.221-2.518 3.322 0 2.105.95 3.344 2.518 3.344zm0-1.08c-.725 0-1.173-.761-1.173-2.264 0-1.49.453-2.237 1.173-2.237.725 0 1.174.743 1.174 2.237 0 1.503-.444 2.263-1.174 2.263z"></path>'}});var hc=n("paHo");const mc=Object(tt.a)({displayName:"StopIcon",paths:{16:'<path d="M1 1h14v14H1V1z"></path>',24:'<path d="M3 3h18v18H3V3z"></path>'}}),vc=Object(tt.a)({displayName:"PauseIcon",paths:{16:'<path d="M6 0H2v16h4V0zm8 0h-4v16h4V0z"></path>',24:'<path d="M10 2H5v20h5V2zm9 0h-5v20h5V2z"></path>'}});var yc,gc,bc,_c,Ec,kc,Oc,Sc,Tc;function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Cc,Nc,xc,Pc,wc=T()()(yc=function(e){u()(n,e);var t=Rc(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onTogglePlay=r._onTogglePlay.bind(s()(r)),r._onSkipBackwards=r._onSkipBackwards.bind(s()(r)),r._onSkipForwards=r._onSkipForwards.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"player-controls"},E.a.createElement("ul",{className:"svg-icon-group"},E.a.createElement("li",{className:"svg-icon-group-item"},this._renderPrev()),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderSkipBackwards()),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderPlayButton()),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderSkipForwards()),E.a.createElement("li",{className:"svg-icon-group-item"},this._renderNext())))}},{key:"_renderPrev",value:function(){if(!this.props.playerUI.prev)return null;var e=Object(ue.a)("Précédent"),t=ri.c.getPrevSong()&&this.props.repeat!==To.e.SINGLE&&!ri.c.isRadio(),n={popperId:"player-preview-prev",trigger:[Zt.e],delay:500,isDisabled:!this.props.hasPrev||!t,data:{type:ic}},r={disabled:!this.props.hasPrev,onClick:ri.c.control.prevSong,"aria-label":e};return E.a.createElement(sc,n,E.a.createElement("button",Q()({className:"svg-icon-group-btn",type:"button"},r),gc||(gc=E.a.createElement(uc,null))))}},{key:"_renderSkipBackwards",value:function(){if(!this.props.playerUI.skipBackwards)return null;var e=Object(ue.a)("Retour rapide de 30 secondes");return E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-label":e,onClick:this._onSkipBackwards},bc||(bc=E.a.createElement(dc,null)))}},{key:"_renderNext",value:function(){if(!this.props.playerUI.next)return null;var e=Object(ue.a)("Suivant"),t=ri.c.getNextSong()&&this.props.repeat!==To.e.SINGLE&&!ri.c.isRadio(),n={popperId:"player-preview-next",trigger:[Zt.e],delay:500,isDisabled:!this.props.hasNext||!t,data:{type:oc}},r={disabled:!this.props.hasNext,onClick:ri.c.control.nextSong,"aria-label":e};return E.a.createElement(sc,n,E.a.createElement("button",Q()({className:"svg-icon-group-btn",type:"button"},r),_c||(_c=E.a.createElement(pc,null))))}},{key:"_renderSkipForwards",value:function(){if(!this.props.playerUI.skipForwards)return null;var e=Object(ue.a)("Avance rapide de 30 secondes");return E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-label":e,onClick:this._onSkipForwards},Ec||(Ec=E.a.createElement(fc,null)))}},{key:"_renderPlayButton",value:function(){var e=this.props,t=e.loading,n=e.playerUI.stop?Object(ue.a)("Stop"):Object(ue.a)("Pause"),r=this._isPaused()?Object(ue.a)("Play"):n;return E.a.createElement("button",{className:"svg-icon-group-btn is-highlight",type:"button",disabled:!this.props.canPause||!this.props.canPlay||t,"aria-label":r,onClick:this._onTogglePlay},this._renderPlayIcon())}},{key:"_renderPlayIcon",value:function(){var e=this.props,t=e.loading,n=e.isChromecastCasting,r=e.playerUI;return n&&t?kc||(kc=E.a.createElement(lc.a,{className:"animate-spin",size:"auto"})):this._isPaused()?Oc||(Oc=E.a.createElement(hc.a,{size:"24"})):r.stop?Sc||(Sc=E.a.createElement(mc,{size:"24"})):Tc||(Tc=E.a.createElement(vc,{size:"24"}))}},{key:"_onSkipBackwards",value:function(){var e=this.props.trackDuration,t=(ri.c.getPosition()-30)/e;ri.c.control.seek(t)}},{key:"_onSkipForwards",value:function(){var e=this.props.trackDuration,t=(ri.c.getPosition()+30)/e;t>=1?ri.c.control.nextSong():ri.c.control.seek(t)}},{key:"_onTogglePlay",value:function(){var e=this.props.playerUI;if(this._isPaused()?ri.c.control.play():e.pause?ri.c.control.pause():ri.c.control.stop(),Zo.b.intent(this._isPaused()?Zo.b.TIME_TO_PLAY:Zo.b.TIME_TO_PAUSE),!this.props.isConnected&&this._isPaused()){var t=$o.a.getPageName();this.props.tracking.trackEvent({eventaction:"click-play-".concat(t,"_").concat(ri.c.getMediaType()),event:"click",eventcategory:t,eventlabel:"deezer-player"})}}},{key:"_isPaused",value:function(){var e=this.props,t=e.playing,n=e.paused;return n&&!t||!n&&!t}}]),n}(_.Component))||yc,Ac=Object(k.c)((function(e){return{isConnected:Object(M.Q)(e.user),trackDuration:e.player.music.trackDuration,playing:e.player.control.playing,paused:e.player.control.paused,loading:e.player.control.loading,repeat:e.player.control.repeat,hasPrev:e.player.control.hasPrev,hasNext:e.player.control.hasNext,isChromecastCasting:e.player.chromecast.casting,canPause:Object(Xo.a)(e),canPlay:Object(Xo.b)(e),playerUI:Object(pi.a)(e)}}))(wc);function Ic(e){return E.a.createElement(Kt.a,Q()({name:"chromecast"},e),Cc||(Cc=E.a.createElement("path",{d:"M0 9.5V11h1.5c0-.83-.67-1.5-1.5-1.5zM0 7.5v1A2.5 2.5 0 0 1 2.5 11h1c0-1.935-1.565-3.5-3.5-3.5z"})),Nc||(Nc=E.a.createElement("path",{d:"M0 5.5v1A4.5 4.5 0 0 1 4.5 11h1A5.5 5.5 0 0 0 0 5.5z"})),xc||(xc=E.a.createElement("path",{d:"M2 3v1.815A6.517 6.517 0 0 1 6.185 9H10V3H2z"})),Pc||(Pc=E.a.createElement("path",{d:"M1 1c-.55 0-1 .45-1 1v2h1V2h10v8H7v1h4c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1H1z"})))}const jc=Object(tt.a)({displayName:"RepeatOneIcon",paths:{16:'<path clip-rule="evenodd" fill-rule="evenodd" d="M5.2 5H9L5 2v2H4a4 4 0 1 0 0 8h1.2v-1H4a3 3 0 0 1 0-6h1.2zm6.8 6H7l4 3v-2h1a4.002 4.002 0 0 0 3.874-3h-1.045A3.001 3.001 0 0 1 12 11zm4-6a3 3 0 1 0-6 0 3 3 0 0 0 6 0zm-3 2h1V3h-1.002l-1.275.946v.96l1.21-.833H13V7z"></path>',24:'<path d="M13 8 8 4v3H7a5 5 0 0 0 0 10h1v-1H7a4 4 0 0 1 0-8h6zm7.874 5A4.002 4.002 0 0 1 17 16h-6l5 4v-3h1a5.002 5.002 0 0 0 4.9-4h-1.026zM22 8a4 4 0 1 0-8 0 4 4 0 0 0 8 0zm-5.5-1.128c.935-.374 1.122-.748 1.308-1.122h.935v4.486h-.934v-2.99c-.188.186-.561.373-1.309.56v-.934z"></path>'}}),Dc=Object(tt.a)({displayName:"RepeatIcon",paths:{16:'<path d="M9 5H4a3 3 0 0 0 0 6h1.2v1H4a4 4 0 0 1 0-8h1V2l4 3zm3 6a3 3 0 0 0 0-6h-1.2V4H12a4 4 0 0 1 0 8h-1v2l-4-3h5z"></path>',24:'<path d="M13 8H7a4 4 0 1 0 0 8h1v1H7A5 5 0 0 1 7 7h1V4l5 4zm4 8a4 4 0 0 0 0-8h-1V7h1a5 5 0 0 1 0 10h-1v3l-5-4h6z"></path>'}}),Lc=Object(tt.a)({displayName:"ShuffleIcon",paths:{16:'<path d="m16 5-4-3v2h-2v1h6zm-12.553.007c.377-.015 1.169-.044 1.935.231.434.156.83.403 1.12.787.285.38.498.938.498 1.774 0 1.009.248 1.805.673 2.422.423.614.996 1.013 1.59 1.272.976.426 2.054.492 2.737.502V14l4-3h-2v-.003h-1.647c-.627 0-1.74-.005-2.69-.42-.465-.203-.873-.497-1.167-.924C8.204 9.23 8 8.64 8 7.8c0-1.014-.262-1.793-.7-2.375-.435-.579-1.013-.923-1.58-1.127-.982-.353-2.02-.304-2.34-.29-.04.003-.07.004-.086.004H0v1h3.294l.153-.004zM5 12H0v-1h5v1z"></path>',24:'<path d="m23 8-5-4v3h-3v1h8zM5.513 8l.154-.004c.475-.016 1.687-.057 2.859.348.657.227 1.27.585 1.717 1.143.443.551.757 1.336.757 2.48 0 1.35.316 2.424.84 3.27.525.844 1.241 1.433 2 1.84 1.503.808 3.208.923 4.083.923H18v3l5-4h-5.077c-.817 0-2.324-.113-3.61-.803-.635-.341-1.207-.819-1.623-1.488-.414-.667-.69-1.554-.69-2.742 0-1.34-.373-2.355-.977-3.106-.599-.746-1.392-1.194-2.17-1.463-1.378-.476-2.813-.418-3.236-.402L5.513 7H1v1h4.513zM8 18H1v-1h7v1z"></path>'}}),Mc=Object(tt.a)({displayName:"VolumeMuteIcon",paths:{16:'<path d="M5.894 9.8H2V6.2h3.894L9 3.301V12.7L5.894 9.8zM1 10.8h4.5L10 15V1L5.5 5.2H1v5.6zm10-4.467L12.667 8 11 9.667l.833.833L13.5 8.833l1.667 1.667.833-.833L14.333 8 16 6.333l-.833-.833L13.5 7.167 11.833 5.5 11 6.333z"></path>',24:'<path d="M9.414 15H4V9h5.414L14 4.415v15.171L9.414 15zM3 8v8h6l6 6V2L9 8H3zm13.904 5.063 1.669-1.668-1.584-1.584.707-.707 1.584 1.584 1.584-1.585.708.708-1.585 1.584 1.67 1.67-.708.706-1.669-1.669-1.668 1.669-.707-.708z"></path>'}}),Fc=Object(tt.a)({displayName:"VolumeIcon",paths:{16:'<path d="M5.894 9.8H2V6.2h3.894L9 3.301V12.7L5.894 9.8zM1 10.8h4.5L10 15V1L5.5 5.2H1v5.6zm14-3.145a5.117 5.117 0 0 1-1.504 3.63l-.687-.728A4.118 4.118 0 0 0 14 7.655a4.116 4.116 0 0 0-1.013-2.71l.708-.708A5.112 5.112 0 0 1 15 7.655zm-2.094.108c0 .784-.33 1.49-.857 1.99l-.687-.727a1.734 1.734 0 0 0 .036-2.491l.707-.707a2.73 2.73 0 0 1 .801 1.935z"></path>',24:'<path d="M9.414 15H4V9h5.414L14 4.414v15.172L9.414 15zM3 8v8h6l6 6V2L9 8H3zm16.152-1.43.709-.708A8.468 8.468 0 0 1 22 11.5a8.472 8.472 0 0 1-2.403 5.923l-.688-.728A7.475 7.475 0 0 0 21 11.5a7.471 7.471 0 0 0-1.848-4.93zM19 11.5a4.492 4.492 0 0 1-1.683 3.51l-.69-.73A3.494 3.494 0 0 0 18 11.5a3.491 3.491 0 0 0-1.168-2.61l.708-.708A4.488 4.488 0 0 1 19 11.5z"></path>'}}),Bc=Object(tt.a)({displayName:"SlidersIcon",paths:{16:'<path d="M5.937 4a2 2 0 0 1-3.874 0H0V3h2.063a2 2 0 0 1 3.874 0H16v1H5.937zM5 3.5a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm.937 9.5H16v1H5.937a2 2 0 0 1-3.874 0H0v-1h2.063a2 2 0 0 1 3.874 0zM5 13.5a1 1 0 1 0-2 0 1 1 0 0 0 2 0zM13.937 8H16v1h-2.063a2 2 0 0 1-3.874 0H0V8h10.063a2 2 0 0 1 3.874 0zM13 8.5a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"></path>',24:'<path d="M9.95 6a2.5 2.5 0 0 1-4.9 0H2V5h3.05a2.5 2.5 0 0 1 4.9 0H22v1H9.95zM9 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zM9.95 17a2.5 2.5 0 0 0-4.9 0H2v1h3.05a2.5 2.5 0 0 0 4.9 0H22v-1H9.95zM7.5 19a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm12.45-8H22v1h-2.05a2.5 2.5 0 0 1-4.9 0H2v-1h13.05a2.5 2.5 0 0 1 4.9 0zm-.95.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"></path>'}});var Hc=function(e){return E.a.cloneElement(e.children,{className:Object(O.a)(e.children.props.className,"mousetrap")})};Hc.propType={children:b.a.element.isRequired};var Uc,zc=Hc,Vc=n("AhR9");function qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Gc=function(e){u()(n,e);var t=qc(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onKeyUp=r._onKeyUp.bind(s()(r)),r._onMouseDown=r._onMouseDown.bind(s()(r)),r._onMouseUp=r._onMouseUp.bind(s()(r)),r._onChange=r._onChange.bind(s()(r)),r._showTooltip=r._showTooltip.bind(s()(r)),r._hideTooltip=r._hideTooltip.bind(s()(r)),r.isDragging=!1,r.state={position:!1,isActive:!1,tooltipOffset:null,tooltipValue:0},r._sliderTrackRef=E.a.createRef(),r}return o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.value!==this.props.value||!1!==t.position||t.isActive!==this.state.isActive||t.tooltipOffset!==this.state.tooltipOffset||t.tooltipValue!==this.state.tooltipValue}},{key:"render",value:function(){var e=this,t=this.props,n=t.max,r=t.min,a=t.value,i=t.step,o=t.disabled,c=t.tooltip,s=t.autoHide,l=t.tone,u=this.state,d=u.position,p=u.isActive,f=Number(this.isDragging&&!1!==d?d:a),h=100*(f-r)/(n-r)||0,m={className:Object(O.a)("slider",{"slider-autohide":s,"is-active":p}),onMouseEnter:s?function(){return e._setActive(!0)}:null,onMouseLeave:s?function(){return e._setActive(!1)}:null,onFocus:s?function(){return e._setActive(!0)}:null,onBlur:s?function(){return e._setActive(!1)}:null},v=this._getSliderTrackStyle(h),y="slider-track-active gradient-".concat(l);return E.a.createElement("div",m,this._renderCurrentValue(f),E.a.createElement("div",{className:"slider-track",ref:this._sliderTrackRef},Uc||(Uc=E.a.createElement("div",{className:"slider-track-default"})),E.a.createElement("div",{className:y,style:v}),E.a.createElement(zc,null,E.a.createElement("input",{className:"slider-track-input",type:"range",step:i,min:r,max:n,value:f,disabled:o,"aria-valuemin":r,"aria-valuemax":n,"aria-valuenow":f,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onKeyUp:this._onKeyUp,onChange:this._onChange,onMouseMove:c?this._showTooltip:null,onMouseOut:c?this._hideTooltip:null}))),this._renderMaxValue(),this._renderTooltip())}},{key:"_renderCurrentValue",value:function(e){if(!1===this.props.counter)return null;var t=this._formatValue(e);return E.a.createElement("div",{className:"slider-counter slider-counter-current"},t)}},{key:"_renderMaxValue",value:function(){var e=this.props,t=e.counter,n=e.max;if(!1===t)return null;var r=this._formatValue(n);return E.a.createElement("div",{className:"slider-counter slider-counter-max"},r)}},{key:"_renderTooltip",value:function(){var e=this.state,t=e.tooltipOffset,n=e.tooltipValue;if(null===t)return null;var r=this._formatValue(n),a=this._getTooltipStyle(t);return E.a.createElement("div",{className:"slider-tooltip",style:a},r)}},{key:"_onMouseDown",value:function(){this.isDragging=!0}},{key:"_onMouseUp",value:function(e){var t=this;this.props.onChange(e.target.value);var n={position:!1};if(this.props.tooltip){var r=e.target.getBoundingClientRect(),a=Math.floor(r.left),i=Math.floor(r.width);(e.clientX<a||e.clientX>a+i)&&(n.tooltipOffset=null)}this.setState(n,(function(){t.isDragging=!1}))}},{key:"_onKeyUp",value:function(e){-1!==[33,34,35,36,37,38,39,40].indexOf(e.keyCode)&&(this.props.onChange(e.target.value),this.setState({position:!1}))}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onProgress(t),(this.isDragging||Number(t)!==this.props.min&&Number(t)!==this.props.max)&&this.setState({position:t})}},{key:"_showTooltip",value:function(e){var t=this._sliderTrackRef.current.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.width),a=e.clientX-n;a<0&&(a=0),a>r&&(a=r);var i=this._getValueByCursorPosition(e.clientX);null!==this.state.tooltipOffset&&i===this.state.tooltipValue||this.setState({tooltipOffset:a,tooltipValue:i})}},{key:"_hideTooltip",value:function(){this.setState({tooltipOffset:null})}},{key:"_formatValue",value:function(e){var t=this.props.counter;return"function"==typeof t?t(e):e}},{key:"_setActive",value:function(e){this.setState({isActive:e})}},{key:"_getSliderTrackStyle",value:function(e){return{width:"".concat(e,"%"),willChange:"width"}}},{key:"_getTooltipStyle",value:function(e){return{transform:"translate3d(".concat(e,"px, 0px, 0px)"),WebkitTransform:"translate3d(".concat(e,"px, 0px, 0px)"),willChange:"transform"}}},{key:"_getValueByCursorPosition",value:function(e){var t=this.props,n=t.min,r=t.max,a=t.step,i=this._sliderTrackRef.current.getBoundingClientRect(),o=Math.floor(i.left),c=Math.floor(i.width),s=e-o;s<0&&(s=0),s>c&&(s=c);var l=s/c*100/100,u=Math.round(l*(r*a/a)+n-l*n);return a>1&&u%a!=0?u-u%a:u}}]),n}(_.Component);Gc.defaultProps={min:0,max:100,value:0,step:1,tone:Object(Vc.b)(),disabled:!1,counter:!0,tooltip:!1,autoHide:!1,onChange:function(){},onProgress:function(){}};var Yc=Gc;function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Qc,Kc,Jc,Xc,Zc=function(e){u()(n,e);var t=Wc(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onChangeVolume=r._onChangeVolume.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.volume,n=e.mute;return E.a.createElement(Je.a,{className:"popper-player-volume"},E.a.createElement(Yc,{min:0,max:100,step:1,value:n?0:t,counter:!1,onProgress:this._onChangeVolume}))}},{key:"_onChangeVolume",value:function(e){ri.c.control.setVolume(Number(e/100),!0)}}]),n}(_.Component),$c=Object(Ke.a)(Object(k.c)((function(e){var t=e.player;return{volume:Math.round(100*t.control.volume),mute:t.control.mute}}))(Zc));function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var ts=function(e){u()(n,e);var t=es(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onAudioQualityUpdate=r._onAudioQualityUpdate.bind(s()(r)),r._onNormalizedUpdate=r._onNormalizedUpdate.bind(s()(r)),r._onTriforceUpdate=r._onTriforceUpdate.bind(s()(r)),r._onDiscoverClick=r._onDiscoverClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return E.a.createElement(Je.a,{className:"popper-player-settings"},this._renderAudioQuality(),E.a.createElement("ul",{className:"setting-menu"},this._renderNormalized(),this._renderTriforce()))}},{key:"_renderAudioQuality",value:function(){var e=!0===this.props.isCasting?Object(ue.a)("hificast_title_audioqualityondevices_web"):Object(ue.a)("Qualité Audio");return E.a.createElement("ul",{className:"setting-menu"},E.a.createElement("li",{className:"setting-item"},E.a.createElement("div",{className:"setting-label-text"},e)),this._renderAudioQualityStandard(),this._renderAudioQualityHigh(),this._renderAudioQualityLossless())}},{key:"_renderAudioQualityStandard",value:function(){var e=this._getCurrentAudioQuality();return E.a.createElement("li",{className:"setting-item"},E.a.createElement("label",{className:"setting-label"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("Standard")),Qc||(Qc=E.a.createElement("div",{className:"setting-label-info"},"128kb/s")),E.a.createElement("div",{className:"setting-label-control"},E.a.createElement(hn.a,{as:"span",type:hn.a.TYPE_RADIO,value:uo.b.STANDARD,checked:e===uo.b.STANDARD,onChange:this._onAudioQualityUpdate}))))}},{key:"_renderAudioQualityHigh",value:function(){var e=this._getCurrentAudioQuality(),t=this.props,n=t.hasHqAudioRight,r=t.conversionEntrypoints;return!(!n&&!r.AUDIO_SETTING_PREMIUM)&&E.a.createElement("li",{className:"setting-item"},E.a.createElement("label",{className:"setting-label"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("Supérieure")),Kc||(Kc=E.a.createElement("div",{className:"setting-label-info"},"320kb/s")),E.a.createElement("div",{className:"setting-label-control"},n?E.a.createElement(hn.a,{as:"span",type:hn.a.TYPE_RADIO,value:uo.b.HIGH,checked:e===uo.b.HIGH,onChange:this._onAudioQualityUpdate}):E.a.createElement(mn.a,null,E.a.createElement(et.a,{className:"setting-discover-link",to:Object(Ln.a)(r.AUDIO_SETTING_PREMIUM.action),target:"_blank"},r.AUDIO_SETTING_PREMIUM.label,Jc||(Jc=E.a.createElement(vn.a,{size:"10"})))))))}},{key:"_renderAudioQualityLossless",value:function(){var e=this._getCurrentAudioQuality(),t=this.props,n=t.conversionEntrypoints,r=t.hasLosslessAudioRight;return n.AUDIO_SETTING_HIFI||r?ri.c.html5.flac?E.a.createElement("li",{className:"setting-item"},E.a.createElement("label",{className:"setting-label"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("audioquality_title_highfidelity_web")),E.a.createElement("div",{className:"setting-label-control"},r?E.a.createElement(hn.a,{as:"span",type:hn.a.TYPE_RADIO,value:uo.b.LOSSLESS,checked:e===uo.b.LOSSLESS,onChange:this._onAudioQualityUpdate}):E.a.createElement(mn.a,null,E.a.createElement(et.a,{className:"setting-discover-link",to:Object(Ln.a)(n.AUDIO_SETTING_HIFI.action),target:"_blank"},n.AUDIO_SETTING_HIFI.label,Xc||(Xc=E.a.createElement(vn.a,null)))))),E.a.createElement("div",{className:"setting-notice"},Object(ue.a)("audiosettings_text_highfidelitydescription_web"))):E.a.createElement("li",{className:"setting-item disabled"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("audioquality_title_highfidelity_web")),E.a.createElement("div",{className:"setting-notice"},Object(ue.a)("infomessage_text_notsupportedbybrowserusechromefirefoxedge_web"))):null}},{key:"_renderNormalized",value:function(){return dn.a.isAllowed("volume_normalization")?E.a.createElement("li",{className:"setting-item"},E.a.createElement("label",{className:"setting-label"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("audiosettings_title_normalizeaudio_web")),E.a.createElement("div",{className:"setting-label-control"},E.a.createElement(hn.a,{as:"span",type:hn.a.TYPE_SWITCH,checked:this.props.isNormalized,onChange:this._onNormalizedUpdate}))),E.a.createElement("div",{className:"setting-notice"},Object(ue.a)("audiosettings_text_normalizeaudiodescription_web"))):null}},{key:"_renderTriforce",value:function(){return dn.a.isAllowed("triforce_queuelist_ui")&&this.props.isPremium?E.a.createElement("li",{className:"setting-item"},E.a.createElement("label",{className:"setting-label"},E.a.createElement("div",{className:"setting-label-text"},Object(ue.a)("Synchronisation de la file d'attente")),E.a.createElement("div",{className:"setting-label-control"},E.a.createElement(hn.a,{as:"span",type:hn.a.TYPE_SWITCH,checked:this.props.isTriforceEnabled,onChange:this._onTriforceUpdate}))),E.a.createElement("div",{className:"setting-notice"},Object(ue.a)("Le contenu de votre file d'attente reste le même sur tous les appareils où vous utilisez Deezer."))):null}},{key:"_onAudioQualityUpdate",value:function(e){var t={site:{player_hq:e===uo.b.HIGH||e===uo.b.LOSSLESS}};!0===this.props.isCasting?t.site.cast_audio_quality=e:t.site.player_audio_quality=e,this.props.updateSettings(t),ri.c.control.setAudioQuality(e)}},{key:"_onNormalizedUpdate",value:function(e){ri.c.control.setNormalized(e),pn.a.set({site:{player_normalize:e}}),Fe.b.call({method:"log_central.log",data:{BATCH:[{channel:"feature_activation",params:{ts:Math.floor(Date.now()/1e3),state:e?"on":"off",feature:"normalization",os_based:!1}}]}})}},{key:"_onTriforceUpdate",value:function(e){this.props.updateSettings({site:{triforce:e}})}},{key:"_onDiscoverClick",value:function(e){e.preventDefault(),Object(Ea.a)(e.target.href)}},{key:"_getCurrentAudioQuality",value:function(){return this.props.isCasting?this.props.currentCastAudioQuality:this.props.currentAudioQuality}}]),n}(_.Component),ns={updateSettings:F.s},rs=Object(Ke.a)(Object(k.c)((function(e){var t=e.user,n=e.player;return{conversionEntrypoints:t.USER.ENTRYPOINTS,currentAudioQuality:t.currentAudioQuality,currentCastAudioQuality:t.currentCastAudioQuality,hasHqAudioRight:t.hasHqAudioRight,hasLosslessAudioRight:t.hasLosslessAudioRight,isPremium:Object(M.W)(t),isTriforceEnabled:Object(M.cb)(t),isCasting:n.chromecast.casting,isNormalized:Object(Xo.f)({player:n})}}),ns)(ts));const as=Object(tt.a)({displayName:"ChromecastIcon",paths:{16:'<path d="M15 2H1v3H0V1h16v13H9v-1h6V2zM0 8a6 6 0 0 1 6 6H5a5 5 0 0 0-5-5V8zm4 6a4 4 0 0 0-4-4v1a3 3 0 0 1 3 3h1zm-4-2v2h2a2 2 0 0 0-2-2z"></path>',24:'<path d="M21 5H3v3H2V4h20v16h-8v-1h7V5zM2 12a8 8 0 0 1 8 8H9a7 7 0 0 0-7-7v-1zm5 8a5 5 0 0 0-5-5v1a4 4 0 0 1 4 4h1zm-5-2a2 2 0 0 1 2 2H2v-2z"></path>'}});var is,os,cs,ss=n("R+m1");function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var us,ds,ps,fs=function(e){u()(n,e);var t=ls(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={hasSelected:!1},r}return o()(n,[{key:"componentWillUnmount",value:function(){!1===this.state.hasSelected&&"function"==typeof window.__DZR_CAST_REQUEST_SESSION_PROMISE_REJECT__&&window.__DZR_CAST_REQUEST_SESSION_PROMISE_REJECT__()}},{key:"render",value:function(){return E.a.createElement(Je.a,{className:"popper-player-chromecast"},is||(is=E.a.createElement("div",{className:"chromecast-header"},"Cast to")),E.a.createElement(Xe.a,{className:"chromecast-wrapper"},E.a.createElement("ul",{className:"chromecast-receiver-list"},this._renderReceiversList(),this._renderStopCastingButton())))}},{key:"_renderReceiversList",value:function(){var e=this,t=window.__DZR_CAST_RECEIVERS__||[],n=ri.c.chromecast.getSession(),r=void 0!==n.receiver&&n.receiver;return t.map((function(t){var n=r&&r.service_fullname===t.service_fullname,a=Object(O.a)("chromecast-receiver-link",{"is-active":n});return E.a.createElement("li",{className:"chromecast-receiver-item",key:t.label},E.a.createElement("a",{className:a,role:"button",onClick:function(){return e._onSelectReceiver(t)}},os||(os=E.a.createElement("span",{className:"chromecast-receiver-icon"},E.a.createElement(as,null))),E.a.createElement("span",{className:"chromecast-receiver-label"},t.friendlyName),n?cs||(cs=E.a.createElement("span",{className:"chromecast-receiver-icon"},E.a.createElement(ss.a,null))):null),e._renderStopCastingButton(n))}))}},{key:"_renderStopCastingButton",value:function(e){var t=this;return this.props.active&&e?E.a.createElement("div",{className:"chromecast-receiver-btn"},E.a.createElement(xn.a,{isFullWidth:!0,onClick:function(){return t._onChromecastStop()}},"Stop casting")):null}},{key:"_onSelectReceiver",value:function(e){var t=this.props.onClose;this.setState({hasSelected:!0},(function(){window.__DZR_CAST_REQUEST_SESSION_PROMISE_RESOLVE__(e),t()}))}},{key:"_onChromecastStop",value:function(){ri.c.chromecast._stopReceiver(),this.props.onClose()}}]),n}(_.Component);Object(Ke.a)(Object(k.c)((function(e){return{active:e.player.dzPlayer.chromecast.active}}))(fs));function hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var ms=function(e){u()(n,e);var t=hs(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onCycleRepeat=r._onCycleRepeat.bind(s()(r)),r._onToggleShuffle=r._onToggleShuffle.bind(s()(r)),r._onToggleQueuelist=r._onToggleQueuelist.bind(s()(r)),r._onToggleMute=r._onToggleMute.bind(s()(r)),r._onToggleChromecast=r._onToggleChromecast.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"player-options"},E.a.createElement("ul",{className:"option-list"},E.a.createElement("li",{className:"option-item"},E.a.createElement("ul",{className:"svg-icon-group"},this._renderChromecast(),this._renderRepeat(),this._renderShuffle(),this._renderVolume(),this._renderSettings())),this._renderInformations()))}},{key:"_renderChromecast",value:function(){var e=this.props.liveStreamData,t=this.props.chromecast,n=t.available,r=t.connecting,a=t.casting,i=t.active;if(!n||0!==Object.keys(e).length)return null;var o=Object(O.a)({"is-connecting":r,active:a||i}),c=E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-label":"Chromecast",onClick:this._onToggleChromecast},E.a.createElement(Ic,{className:o,size:"auto"}));return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(mi.a,{text:"Chromecast"},c))}},{key:"_renderRepeat",value:function(){var e=this.props,t=e.repeat,n=e.playerUI,r="";if(n.repeat)switch(r=Object(ue.a)("Répéter"),t){case To.e.OFF:r=Object(ue.a)("Réécouter tous les titres");break;case To.e.ALL:r=Object(ue.a)("Réécouter ce titre");break;case To.e.SINGLE:r=Object(ue.a)("Désactiver la fonction Répéter")}var a=!n.repeat,i=t>0&&n.repeat?"primary":"default",o=E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",disabled:a,"aria-label":r,onClick:this._onCycleRepeat},t===To.e.SINGLE?E.a.createElement(jc,{color:i}):E.a.createElement(Dc,{color:i}));return a?E.a.createElement("li",{className:"svg-icon-group-item"},o):E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(mi.a,{text:r},o))}},{key:"_renderShuffle",value:function(){var e=this.props,t=e.shuffle,n=e.playerUI,r="";n.shuffle&&(r=t?Object(ue.a)("Désactiver le mode aléatoire"):Object(ue.a)("Activer le mode aléatoire"));var a=n.chromecastActive||!n.shuffle,i=t&&n.shuffle?"primary":"default",o=E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",disabled:a,"aria-label":r,onClick:this._onToggleShuffle},E.a.createElement(Lc,{color:i}));return a?E.a.createElement("li",{className:"svg-icon-group-item"},o):E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(mi.a,{text:r},o))}},{key:"_renderVolume",value:function(){var e=this.props,t=e.mute,n=e.playerUI,r={popperId:"player-volume",trigger:[Zt.e],isDisabled:!n.volume},a="volume-".concat(t?"mute":"unmute");return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement($c,r,E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",disabled:!n.volume,onClick:this._onToggleMute,"data-testid":a},t?us||(us=E.a.createElement(Mc,null)):ds||(ds=E.a.createElement(Fc,null)))))}},{key:"_renderSettings",value:function(){var e={popperId:"player-settings",trigger:[Zt.d],tooltip:{text:Object(ue.a)("Audio")}};return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(rs,e,E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-haspopup":"true","aria-expanded":this.props.openedPopperId===e.popperId,"aria-label":Object(ue.a)("Audio")},ps||(ps=E.a.createElement(Bc,null)))))}},{key:"_renderInformations",value:function(){var e=this.props,t=e.playerUI,n=e.uiType,r=e.track,a=e.list,i=e.playerFull,o=e.playerQueuelist,c=e.liveStreamData,s=e.trackTitle;if(t.queuelist){var l=le()({},zi.a.PODCAST,sn.a.Episode),u=Boolean(a.length),d=Object(O.a)("queuelist",{"is-available":u,"is-active":i&&o});return E.a.createElement("li",{className:"option-item"},E.a.createElement("button",{className:d,disabled:!u,type:"button",onClick:this._onToggleQueuelist},t.cover?E.a.createElement(jt.a,{type:l[n]||sn.a.Album,height:28,width:28,data:r,coverLink:!1,alt:s}):null,E.a.createElement("div",{className:"queuelist-label"},Object(ue.a)("File d'attente"))))}return n===zi.a.LIVESTREAM?E.a.createElement("li",{className:"option-item"},E.a.createElement("div",{className:"queuelist"},E.a.createElement(jt.a,{type:sn.a.Livestream,height:28,width:28,data:c,coverLink:!1,alt:c.LIVESTREAM_TITLE}),E.a.createElement("div",{className:"queuelist-label"},c.LIVESTREAM_TITLE===s?"":c.LIVESTREAM_TITLE))):null}},{key:"_onCycleRepeat",value:function(){ri.c.control.setRepeat(this.props.repeat===To.e.SINGLE?To.e.OFF:this.props.repeat+1)}},{key:"_onToggleShuffle",value:function(){ri.c.control.setShuffle(!this.props.shuffle)}},{key:"_onToggleQueuelist",value:function(){this.props.playerQueuelist?this.props.setPlayerFull(!this.props.playerFull):this.props.setPlayerQueuelist(!0)}},{key:"_onToggleMute",value:function(){ri.c.control.mute(!this.props.mute)}},{key:"_onToggleChromecast",value:function(){ri.c.chromecast.requestSession()}}]),n}(_.Component),vs=Object(k.c)((function(e){return{volume:e.player.control.volume,shuffle:e.player.control.shuffle,repeat:e.player.control.repeat,mute:e.player.control.mute,track:e.player.music.track,list:e.player.music.list,liveStreamData:e.player.music.liveStreamData,trackTitle:e.player.music.trackTitle,playerFull:e.player.config.playerFull,playerQueuelist:e.player.config.playerQueuelist,openedPopperId:e.popper.popperId,playerUI:Object(pi.a)(e),uiType:Object(pi.b)(e),chromecast:e.player.chromecast}}),{setPlayerFull:si.a,setPlayerQueuelist:si.c})(ms),ys=n("NwUt"),gs=n("ou1I"),bs=n("/b9r");function _s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Es,ks,Os,Ss,Ts,Rs,Cs,Ns=function(e){u()(n,e);var t=_s(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={position:0},e._onPositionChanged=function(t,n){e.setState({position:n})},e._onSeek=function(t){var n=e.props.duration;t>=n?ri.c.control.nextSong():ri.c.isPlaying()||ri.c.isPaused()?ri.c.control.seek(t/n):(ri.c.getTrackList()[0].OFFSET=t/n*n,ri.c.control.play())},e}return o()(n,[{key:"componentDidMount",value:function(){N.a.subscribe(N.a.player.position,this._onPositionChanged)}},{key:"componentWillUnmount",value:function(){N.a.unsubscribe(N.a.player.position,this._onPositionChanged)}},{key:"render",value:function(){var e=this.state.position,t=this.props,n=t.playerUI,r=t.duration,a=t.seekAllowed,i=t.tone;return n.seek?E.a.createElement(Yc,{max:r,value:e,counter:bs.a,onChange:this._onSeek,disabled:!a,tooltip:!0,autoHide:!0,tone:i}):null}}]),n}(_.Component),xs=Object(k.c)((function(e){return{duration:e.player.music.trackDuration,playerUI:Object(pi.a)(e),seekAllowed:Object(Xo.c)(e),tone:(t=e,t.player.ui.tone)};var t}))(Ns);function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var ws=function(e){u()(n,e);var t=Ps(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onLyricsClick=r._onLyricsClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"player-track"},E.a.createElement("div",{className:"track-container"},this._renderHeading(),this._renderSeekbar()))}},{key:"_renderHeading",value:function(){var e=this.props,t=e.trackArtists,n=e.playerFull,r=e.playerLyrics,a=Object(O.a)("track-heading",{"is-hidden":n&&!r});return E.a.createElement("div",{className:a},this._renderLabel(),this._renderExplicit(),E.a.createElement("div",{className:"track-title"},E.a.createElement(rc,null,this._renderTitle(),t.length?" · ":null,this._renderSubTitle(),this._renderSponsored())),this._renderTrackActions())}},{key:"_renderSeekbar",value:function(){return Es||(Es=E.a.createElement("div",{className:"track-seekbar"},E.a.createElement(xs,null)))}},{key:"_renderLabel",value:function(){var e=this.props,t=e.playerUI,n=e.uiType,r=e.isFlow,a=e.isSponsored,i=e.isUpnext;if(!t.label)return null;var o=Object(ue.a)("MIX");return n===zi.a.AD||n===zi.a.TRITON_AD?o=Object(ue.a)("PUBLICITÉ"):a?o=Object(ue.a)("SPONSORISÉ"):n===zi.a.LIVESTREAM?o=Object(ue.a)("EN DIRECT"):i?o=Object(ue.a)("RECOMMANDÉ"):r&&(o=Object(ue.a)("FLOW")),E.a.createElement("span",{className:"track-label"},o)}},{key:"_renderExplicit",value:function(){return this.props.isExplicit&&this.props.uiType!==(zi.a.AD||zi.a.TRITON_AD)?ks||(ks=E.a.createElement(vi.a,{type:"small"})):null}},{key:"_renderTitle",value:function(){var e=this.props,t=e.playerUI,n=e.trackTitle,r=e.uiType,a=e.audioBreakData;if(!t.title)return null;if(r===zi.a.AD){var i=window.sasAudioConfig||{},o=i.text,c=decodeURIComponent(i.url),s=function(e){e.preventDefault(),e.stopPropagation(),/^http/.test(c)&&Object(Ea.a)(c)};return o?/^http/.test(c)?E.a.createElement("a",{className:"track-link",href:c,onClick:s},o):E.a.createElement(et.a,{className:"track-link",to:c,onClick:s},o):null}if(r===zi.a.TRITON_AD){return E.a.createElement(et.a,{className:"track-link",to:a.cta.url,onClick:function(e){e.preventDefault(),e.stopPropagation(),/^http/.test(a.cta.url)&&Object(Ea.a)(a.cta.url)}},null!==a.content.title?a.content.title:Object(ue.a)("En savoir plus"))}return null===oo(this.props)?n:E.a.createElement(et.a,{className:"track-link",to:oo(this.props)},n)}},{key:"_renderSubTitle",value:function(){var e=this,t=this.props,n=t.trackArtists;return t.playerUI.subTitle?n.map((function(t,n){return[n>0?", ":"",null===co(e.props,t)?t.ART_NAME:E.a.createElement(et.a,{className:"track-link",key:t.ART_ID,to:co(e.props,t)},t.ART_NAME)]})):null}},{key:"_renderSponsored",value:function(){var e=this.props,t=e.isSponsored,n=e.sponsoredData;return t&&n.CTA_TEXT?E.a.createElement(E.a.Fragment,null,Os||(Os=E.a.createElement("span",null," · ")),E.a.createElement(mn.a,null,E.a.createElement("a",{className:"track-link",onClick:function(){return Object(ys.b)(n)},role:"button"},n.CTA_TEXT,Ss||(Ss=E.a.createElement(vn.a,{size:"8"}))))):null}},{key:"_renderTrackActions",value:function(){return""===this.props.mediaType?null:E.a.createElement("div",{className:"track-actions"},E.a.createElement("ul",{className:"svg-icon-group"},this._renderLyrics(),this._renderContextMenu(),this._renderLike(),this._renderUserFeedback()))}},{key:"_renderLyrics",value:function(){var e=this.props,t=e.playerUI,n=e.isOnline;if(!t.lyrics||!this.props.hasLyrics||!n)return null;var r=Object(ue.a)("Afficher les paroles");return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(mi.a,{text:r},E.a.createElement("button",{className:"svg-icon-group-btn",type:"button",onClick:this._onLyricsClick,"aria-label":Object(ue.a)("Afficher les paroles")},Ts||(Ts=E.a.createElement(ji.a,null)))))}},{key:"_renderUserFeedback",value:function(){var e=this.props,t=e.playerUI,n=e.id,r=e.track,a=e.trackArtists,i=e.context,o=e.isRadio,c=e.openedPopperId;if(!t.userFeedback||!i.TYPE||!o&&vr.a.get("log_contexts")[i.TYPE]!==sn.a.Smarttracklist)return null;var s={popperId:"player-user-feedback",trigger:[Zt.d],context:i,tooltip:{text:Object(ue.a)("banfeatures_title_nothappywithyourmix_web")},data:{trackID:String(r.SNG_ID_ORIGIN||n),artistID:a.length>0?a[0].ART_ID:"0",context:i}};return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(Ai,s,E.a.createElement("button",{className:"svg-icon-group-btn",type:"button","aria-haspopup":"true","aria-expanded":c===s.popperId,"aria-label":Object(ue.a)("banfeatures_title_nothappywithyourmix_web")},Rs||(Rs=E.a.createElement(Mi,null)))))}},{key:"_renderLike",value:function(){var e=this.props,t=e.playerUI,n=e.id,r=e.mediaType,a=e.track;if(!t.like)return null;if(r===To.b.LIVE_STREAM&&a.EXTERNAL)return null;var i=String(a.SNG_ID_ORIGIN||n);return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(fi.a,{className:"svg-icon-group-btn",type:sn.a.Song,context:{ID:i,TYPE:"player"},tooltip:!0,id:i}))}},{key:"_renderContextMenu",value:function(){var e=this.props,t=e.track,n=e.id,r=e.context,a=e.playerUI,i=e.mediaType,o=e.userId;if(!a.contextMenu)return null;if(i===To.b.LIVE_STREAM&&t.EXTERNAL)return null;var c={anchor:Cs||(Cs=E.a.createElement("button",{className:"svg-icon-group-btn",type:"button"},E.a.createElement(Di.a,null))),context:{ID:o,TYPE:"player"},data:{SONG:t,PLAYLIST_ID:r.ID},forceShowPlaylists:!0,id:n,placement:"top"};return E.a.createElement("li",{className:"svg-icon-group-item"},E.a.createElement(hi.a,c))}},{key:"_onLyricsClick",value:function(){this.props.playerLyrics?this.props.setPlayerFull(!1):this.props.setPlayerLyrics(!0),ri.c.isPaused()||ri.c.isPlaying()||ri.c.control.play()}}]),n}(_.Component);ws.defaultProps={audioBreakData:{}},De.a.addReducers({audioBreak:gs.a});var As=Object(k.c)((function(e){return{id:e.player.music.id,track:e.player.music.track,context:e.player.music.context,isExplicit:e.player.music.isExplicit,mediaType:e.player.music.mediaType,sponsoredData:e.player.music.sponsoredData,trackTitle:e.player.music.trackTitle,trackArtists:e.player.music.trackArtists,isFlow:e.player.config.isFlow,isRadio:e.player.config.isRadio,isSponsored:e.player.music.isSponsored,isUpnext:e.player.config.isUpnext,playerFull:e.player.config.playerFull,playerLyrics:e.player.config.playerLyrics,openedPopperId:e.popper.popperId,userId:e.user.id,isOnline:e.app.online,hasLyrics:Object(di.r)(e),playerUI:Object(pi.a)(e),uiType:Object(pi.b)(e),audioBreakData:e.audioBreak}}),{setPlayerFull:si.a,setPlayerLyrics:si.b})(ws),Is=Object(k.c)((function(e){var t=e.user,n=t.USER.SETTING.site.labs;return{actives:Object(kn.a)(Object(M.W)(t),n).actives.map((function(e){return e.id}))}}))((function(e){var t=e.id,n=e.actives,r=e.params;if(!n.includes(t))return null;var a=Object(kn.b)(t);return a?E.a.createElement(a,r):null})),js=n("A/Px"),Ds=n("fvjX"),Ls=n("FvhZ"),Ms=n("Xn2y"),Fs=n("VH4h");function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Us={buffer:0,volume:0,repeat:0,shuffle:!1,mute:!1,playing:!1,paused:!1,loading:!1,skipRadioAllowed:!1,hasPrev:!1,hasNext:!1,hasRepeat:!1,hasShuffle:!1,normalized:!0};var zs=n("9Fz5");function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gs={available:!1,connecting:!1,casting:!1,loading:!1,active:!1,chunksInfo:{},skipLimited:!1};var Ys=n("FE7k");function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ks={isRadio:!1,isUpnext:!1,isFlow:!1,isMyFlow:!1,isBlindTestMode:!1,playerType:"",playerFull:!1,playerQueuelist:!1,playerLyrics:!1};var Js=n("oaNE");function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $s,el={autoScroll:!0,hasLyrics:!1,metadata:{},isSync:!1,isLoading:!1,list:[]};!function(e){e.SET_TONE="components/Player/ui/SET_TONE"}($s||($s={}));var tl={tone:Object(Vc.b)()},nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $s.SET_TONE:return{tone:t.tone};default:return e}},rl=n("flYr"),al=n("fshp"),il=n("9FBO"),ol=n("H4bv"),cl=n("onH1"),sl=n("5k03"),ll=!1;var ul=function(e,t){var n=e.getState,r=e.dispatch,a=t?t.offset:Math.floor(ri.c.getPosition()),i=t?t.id:ri.c.getSongId(),o=t?t.type:ri.c.getMediaType(),c=t?t.duration:ri.c.getDuration();if(i&&o&&c){var s=Object(il.a)(String(o));if(null!==s){var l=Object(cl.a)(n().bookmarks,s,String(i));(l?Object(al.d)(l,a,c):Object(al.a)(s,String(i),a,c)).then((function(e){r(Object(ol.a)(e))}))}}},dl=function(e){return function(t){return function(n){n.type===Ms.a&&function(e){ll||(N.a.subscribe(N.a.player.seekCompleted,(function(){ul(e)}),"bookmarking_middleware"),N.a.subscribe(N.a.player.paused,(function(t,n){!0===n&&ul(e)}),"bookmarking_middleware"),N.a.subscribe(N.a.player.trackChange,(function(t,n){ul(e,{id:n.previousTrack.id,type:n.previousTrack.type,offset:n.previousTrack.offset,duration:n.previousTrack.duration})}),"bookmarking_middleware"),ll=!0)}(e);var r=t(n);if(n.type!==sl.a.MARK_AS_PLAYED&&n.type!==sl.a.MARK_AS_NOT_PLAYED)return r;var a=ri.c.getSongId(),i=ri.c.getMediaType();if(!a||!i||!function(e){return{}.hasOwnProperty.call(e,"bookmark")}(n))return r;var o=Object(il.a)(String(i)),c=n.bookmark;return null===o||c.type===o&&c.id===a&&ri.c.control.stop(),r}}},pl=n("SfGk"),fl=n("Muja"),hl=(n("LKBx"),n("pjDv"),n("hByQ"),n("aMzX"));var ml=function(){function e(){a()(this,e),Object(hl.a)(this).list=[]}return o()(e,[{key:"add",value:function(e){var t=Object(hl.a)(this);return t.list=t.list.filter((function(t){return t.name!==e.name})),t.list.push(e),this}},{key:"clear",value:function(){return Object(hl.a)(this).list.length=0,this}},{key:"has",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(Object(hl.a)(this).list.filter((function(t){return Object.keys(e).reduce((function(n,r){return n&&t[r]===e[r]}),!0)})).length)}},{key:"pause",value:function(){return Object(hl.a)(this).paused=!0,this}},{key:"prioritize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(hl.a)(this),n=t.list.filter((function(t){return Object.keys(e).reduce((function(n,r){return n&&t[r]===e[r]}),!0)}));if(n.length){var r=n[n.length-1];return t.list=t.list.filter((function(e){return n.indexOf(e)<0})),t.list.unshift(r),!0}return!1}},{key:"resume",value:function(){return Object(hl.a)(this).paused=!1,this.run(),this}},{key:"run",value:function(){var e=this,t=Object(hl.a)(this);if(t.paused||t.running)return this;var n,r=t.list[0];if(r){var a=Date.now();if(r.timeout&&self.clearTimeout(r.timeout),r.timestamp>a)return r.timeout=self.setTimeout((function(){return e.run()}),r.timestamp-a),this;t.list.shift(),t.running=!0;var i=r.fn();(n=i,!Boolean(n)||"object"!==Ce()(n)&&"function"!=typeof n||"function"!=typeof n.then?Promise.resolve():i).catch((function(e){return w.a.error(e)})).then((function(){t.running=!1,e.run()}))}return this}}]),e}(),vl=n("cEqK"),yl=n("wlv8"),gl=n.n(yl),bl=n("eRUA"),_l=n.n(bl),El=n("dn5u"),kl=n.n(El),Ol=n("5n8Z"),Sl=n("jF6L"),Tl=n("MLto"),Rl=n("/iOS");function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xl,Pl=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n].value,t}),{})},wl=Pl(Ol.ListChanged.Context.Container.ContainerType),Al=Pl(Ol.ListChanged.Context.Container.Mix.MixType),Il=Pl(Ol.ListChanged.Track.TrackType),jl=[Ol.ListChanged],Dl=new ml,Ll=new ml,Ml={paused:!0},Fl={stack:[]};function Bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;Fl.console&&(r=window.console).log.apply(r,["[TRIFORCE]"].concat(t));Fl.enabled&&Fl.stack.push(t)}var Hl={songs:Rl.i,episodes:Sl.h,lives:Tl.c},Ul={songs:Rl.h,episodes:Sl.d,lives:Tl.b};function zl(e){var t=[],n=e.music.unshuffledList.map((function(e,n){var r,a=ri.c.getContextByIndexFromOriginal(n),i={container:{id:a.ID},log:{context_id:a.CONTEXT_ID||void 0,listening_context:a.TYPE}},o=t.findIndex((function(e){return Object(fl.a)(e,i)}));switch(o<0&&(o=t.push(i)-1),ri.c.getMediaType(e)){case To.b.EPISODE:r=Il.EPISODE;break;case To.b.LIVE_STREAM:r=Il.LIVE;break;default:r=Il.SONG}return{context:o,id:String(e[ri.c.getMediaId(e)]),type:r}})),r=[],a=e.music.list.map((function(t,n){var a=0,i=ri.c.getContextByIndex(n),o=t[ri.c.getMediaId(t)],c=e.music.unshuffledList.filter((function(e){return e[ri.c.getMediaId(e)]===t[ri.c.getMediaId(t)]})).filter((function(t){return Object(fl.a)(i,ri.c.getContextByIndexFromOriginal(e.music.unshuffledList.indexOf(t)))}));return c.length>1&&(a=r.filter((function(e){return o===e})).length,r.push(o)),e.music.unshuffledList.indexOf(c[a])}));if(e.music.recommendations.length){var i=ri.c.getContextByIndexFromOriginal(n.length),o={container:{id:i.ID},log:{context_id:i.CONTEXT_ID||void 0,listening_context:i.TYPE}},c=t.push(o)-1;n.push.apply(n,xt()(e.music.recommendations.map((function(e){return{context:c,id:String(e[ri.c.getMediaId(e)]),type:Il.SONG}}))))}t.forEach((function(e){var t=e.container,n=e.log,r=n.listening_context,a=n.context_id,i=void 0===a?"":a;if(/album(?!_similar)|artist_discography/i.test(r))t.type=wl.ALBUM;else if(/livestream/.test(r))t.type=wl.LIVE;else if(/personal/.test(r))t.type=wl.PERSONAL;else if(/playlist(?!_radio)/.test(r))t.type=wl.PLAYLIST;else if(/show/.test(r))t.type=wl.PODCAST;else if("up_next_artist"===r)t.type=wl.RECOMMENDED;else if(/^shuffled/.test(r))t.type=wl.SHUFFLE_MY_MUSIC;else if(/smarttracklist/.test(r)){var o=i.split(",").filter((function(e){return e.startsWith("card_name")})).map((function(e){return e.split("=")[1]})).shift();t.type=wl.SMART_TRACKLIST,t.smart_tracklist_method=o}else/artist|smartradio/.test(r)?(t.type=wl.MIX,t.mix={type:Al.ARTIST}):"history_radio"===r||"playlist_radio"===r?(t.type=wl.MIX,t.mix={type:Al.HISTORY}):"search_radio"===r?(t.type=wl.MIX,t.mix={type:Al.SEARCH}):/user|flow/.test(r)?(t.type=wl.MIX,t.mix={type:Al.USER}):/radio/i.test(r)?(t.type=wl.MIX,t.mix={type:Al.DEFAULT}):t.type=wl.DEFAULT}));var s={contexts:t,id:Ml.id||kl()(),tracks:n,timestamp:Ml.now()};return a.reduce((function(e,t,n){return e&&t===n}),!0)||(s.tracks_order=a,s.shuffled=!0),s}function Vl(e,t){var n;return n=new _l.a,t.write(e,n),n=(n=n.finish()).length&&jl.indexOf(t)>-1?gl.a.deflate(n,7):n,n=String.fromCharCode.apply(String,xt()(n)),n=btoa(n)}function ql(e,t){var n;if("string"==typeof e)return n=atob(e),n=(n=Array.from(n).map((function(e){return e.charCodeAt(0)}))).length&&jl.indexOf(t)>-1?gl.a.inflate(n):n,n=new _l.a(n),t.read(n)}function Gl(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={PlaybackCurrentIndex:Ol.IndexChanged,PlaybackQueueList:Ol.ListChanged,PlaybackRepeatMode:Ol.RepeatChanged};Bl("Enqueueing a task to update ".concat(e," with:"),t),r.defer&&(Ml.retries=(Ml.retries||0)+1,n=Date.now()+Math.round(Math.random()*(Math.pow(2,Ml.retries)-Math.pow(2,Ml.retries-1))*1e3)),Ml.retries>5?Bl("Exceeded 5 retries (".concat(e,"), task won't be scheduled")):Ll.add({name:e,timestamp:n,fn:function(){return Bl("Sending to node ".concat(e,":"),t),vl.a.singleton.post(e,Vl(t,a[e])||null)}}).run()}n("8AyJ"),n("oVuX");function Yl(e){var t=e/(ri.c.getDuration()||0);return Number.isFinite(t)?t:0}function Wl(e){ri.c.isPlaying()||ri.c.control.play();var t=ri.c.getPosition()/(ri.c.getDuration()||0)+e;t>0&&t<1&&ri.c.control.seek(t)}var Ql=!1;function Kl(e,t){try{var n;navigator.mediaSession.setPositionState({duration:Math.max(null!==(n=ri.c.getDuration())&&void 0!==n?n:1/0,0),position:t})}catch(e){}}var Jl=function(e){return function(t){return function(n){var r=t(n),a=e.getState();if(n.type===Ms.h||n.type===Ms.e){var i=Object(di.k)(a),o=Object(di.l)(a).map((function(e){return e.ART_NAME})).filter(Boolean).join(", "),c=Object(di.m)(a),s=Object(di.o)(a);if(document.title="".concat(s," - ").concat(o," - Deezer"),"mediaSession"in navigator){var l=Object(ui.f)(a.user,a.player.music.track);!Ql&&navigator.mediaSession.setPositionState&&(N.a.subscribe(N.a.player.position,Kl),Ql=!0),navigator.mediaSession.metadata=new MediaMetadata({title:s,artist:o,album:i,artwork:l?[]:[{src:c,sizes:"250x250",type:"image/jpeg"}]})}}if("mediaSession"in navigator&&(n.type===Fs.c||n.type===Fs.d)){navigator.mediaSession.setActionHandler("nexttrack",Object(Xo.d)(a)?ri.c.control.nextSong:null),navigator.mediaSession.setActionHandler("pause",Object(Xo.a)(a)?ri.c.control.pause:null),navigator.mediaSession.setActionHandler("play",Object(Xo.b)(a)?ri.c.control.play:null),navigator.mediaSession.setActionHandler("previoustrack",Object(Xo.e)(a)?ri.c.control.prevSong:null),navigator.mediaSession.setActionHandler("seekbackward",Object(Xo.c)(a)?function(e){var t=e.seekOffset;return Wl(t?Yl(t):-.05)}:null),navigator.mediaSession.setActionHandler("seekforward",Object(Xo.c)(a)?function(e){var t=e.seekOffset;return Wl(t?Yl(t):.05)}:null);try{navigator.mediaSession.setActionHandler("seekto",Object(Xo.c)(a)?function(e){var t=e.seekTime/ri.c.getDuration();t>0&&t<1&&ri.c.control.seek(t)}:null)}catch(e){}}return r}}},Xl=n("g+KV"),Zl=n("YV4S");function $l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.dispatch(Object(U.c)(t,n))}var eu,tu=n("0Bmj"),nu=function(e){return{type:$s.SET_TONE,tone:e}},ru=n("oZVF"),au=new Image,iu=28;Object(ru.a)()&&(iu*=2);Object(Ls.addMiddleware)(rl.a,pl.b,(function(e){return function(t){return function(n){var r=e.getState(),a=t(n),i=e.getState();if(r===i)return a;if(!dn.a.isAllowed("triforce_queuelist_messages"))return a;if(!Object(M.W)(i.user))return a;if(Ml.now||(Ml.now=function(){return Object(M.g)(i.user)}),Ml.enabled!==Object(M.cb)(i.user)){var o=void 0===Ml.enabled;if(Ml.enabled=Object(M.cb)(i.user),!o)if(Ml.enabled){var c=function(e){return xl[e.node](e)};Promise.resolve().then((function(){return vl.a.singleton.get("PlaybackQueueList").then(c)})).then((function(){return vl.a.singleton.get("PlaybackCurrentIndex").then(c)})).then((function(){return vl.a.singleton.get("PlaybackRepeatMode").then(c)}))}else Dl.clear(),Ll.clear(),delete Ml.id}if("enabled"in Fl||(Fl.enabled=/triforce/i.test(window.location.search),Fl.console=Fl.enabled,Fl.enabled&&(window.triforce={get console(){return Fl.console},set console(e){Fl.console=Boolean(e)},copy:function(){return window.copy(Fl.stack)},dump:function(){return Fl.stack.forEach((function(e){var t;return(t=window.console).log.apply(t,["[TRIFORCE]"].concat(xt()(e)))}))}})),n.type===Ms.a&&(N.a.subscribe(N.a.player.play,(function(){return Ml.paused=!1})),N.a.subscribe(N.a.player.playing,(function(e,t){return Ml.paused=!t})),N.a.subscribe(N.a.player.paused,(function(e,t){return Ml.paused=!ri.c.isPlaying()||Boolean(t)})),xl={PlaybackCurrentIndex:function(t){var n=ql(t.payload,Ol.IndexChanged);n&&(Bl("Received from PlaybackCurrentIndex node:",n),Dl.add({id:n.id,name:"PlaybackCurrentIndex",fn:function(){if(!Dl.prioritize({name:"PlaybackQueueList"})&&!Dl.prioritize({id:Ml.id,name:"PlaybackCurrentIndex"})&&!Ll.has({name:"PlaybackQueueList"})){if(!Ml.paused||n.timestamp&&n.timestamp<Ml.timestamp){if(n.id!==Ml.id){Bl("Payload id isn't matching with the current one, sending the current state");var t=zl(e.getState().player);return Gl("PlaybackQueueList",t,{defer:!0}),void Gl("PlaybackCurrentIndex",{id:t.id,index:ri.c.getIndexSong(),timestamp:Ml.now()})}return n.index!==ri.c.getIndexSong()?(Bl("Currently playing, sending the current index"),void Gl("PlaybackCurrentIndex",{id:Ml.id,index:ri.c.getIndexSong(),timestamp:Ml.now()},{defer:!0})):void Bl("Asked to change for the same id, so this is a no-op")}(dn.a.isAllowed("triforce_queuelist_ui")||"B"===(i.user.USER.ABTEST.triforce_queuelist_ui||{}).option)&&(delete Ml.retries,Bl("Updating the index with:",n.index),ri.c.setTriforceIndex(n.index))}}}).run())},PlaybackQueueList:function(t){var n=ql(t.payload,Ol.ListChanged);if(n)if(Bl("Received from PlaybackQueueList node:",Nl(Nl({},n),{},{tracks:n.tracks.map((function(e){return Nl({},e)}))})),n.id!==Ml.id)if(n.tracks.length){var r=n.contexts.map((function(e){var t=e.container.id,n=e.log;return{CONTEXT_ID:n.context_id,ID:t,TYPE:n.listening_context}}));n.recommended=[],Dl.add({name:"PlaybackQueueList",fn:function(){if(!Dl.prioritize({name:"PlaybackQueueList"}))return Promise.all([a("songs"),a("episodes"),a("lives")]).then((function(){var t;if(!Dl.prioritize({name:"PlaybackQueueList"})){n.tracks=n.tracks.filter((function(e){return n.recommended.indexOf(e)<0})),n.original=xt()(n.tracks),n.tracks=n.tracks_order.length?n.tracks_order.map((function(e){return n.tracks[e]})):n.tracks;var r=(t={},le()(t,Al.ARTIST,"artist"),le()(t,Al.USER,"user"),t);if(n.recommended.length)n.radio="up_next_artist";else{var a=n.contexts[0].container;a.type===wl.LIVE?n.radio="livestream":a.type===wl.MIX&&(n.radio=r[a.mix.type])}if(delete n.contexts,delete n.tracks_order,Bl("Hydrated the payload:",n),!Ml.paused||n.timestamp&&n.timestamp<Ml.timestamp){var o=ri.c.getContext(),c=o.CONTEXT_ID,s=o.ID,l=o.TYPE,u={CONTEXT_ID:c,ID:String(s),TYPE:l},d=ri.c.getMediaId(),p=ri.c.getCurrentSong(d),f=n.tracks.filter((function(e){return Object(fl.a)(e.context,u)})).filter((function(e){return e.data[d]===p}));if(Bl("Currently playing, searching for the current track"),!f.length){Bl("Current track not found, sending the current state");var h=zl(e.getState().player);return Gl("PlaybackQueueList",h,{defer:!0}),void Gl("PlaybackCurrentIndex",{id:h.id,index:ri.c.getIndexSong(),timestamp:Ml.now()})}n.index=n.tracks.indexOf(f[0]),Bl("Current track found, sending the index in case of de-sync"),Gl("PlaybackCurrentIndex",{id:n.id,index:n.index,timestamp:Ml.now()})}(dn.a.isAllowed("triforce_queuelist_ui")||"B"===(i.user.USER.ABTEST.triforce_queuelist_ui||{}).option)&&(delete Ml.retries,Ml.id=n.id,Bl("Updating the queuelist"),ri.c.setTriforceState(n))}}))}}).run()}else Bl("No tracks found in the payload, stopping here.");else Bl("Payload id is matching with the current one, stopping here.");function a(t){if(!Hl[t]||!Ul[t])return Promise.resolve();var a=Hl[t],i=Ul[t],o=Il[t.substring(0,t.length-1).toUpperCase()]||Il.SONG,c=n.tracks.filter((function(e){return e.type===o})),s=c.map((function(e){return e.id}));return a({ids:s})(e.dispatch,e.getState).then((function(){var t=i(e.getState().entities,s);c.forEach((function(e,a){var i=e.context;Object.keys(e).forEach((function(t){return delete e[t]})),e.context=r[i],e.data=Nl({},t[a]),"up_next_artist"===e.context.TYPE&&n.recommended.push(e)}))}))}},PlaybackRepeatMode:function(e){var t=ql(e.payload,Ol.RepeatChanged);Bl("Received from PlaybackRepeatMode node:",t),(dn.a.isAllowed("triforce_queuelist_ui")||"B"===(i.user.USER.ABTEST.triforce_queuelist_ui||{}).option)&&ri.c.control.setRepeat(t?t.repeat:0,{sync:!1})}},vl.a.singleton.on("connect",(function(){Bl("Socket connected, sending a presence signal"),Ll.clear().resume(),vl.a.singleton.presence()})),vl.a.singleton.on("disconnect",(function(){Bl("Socket disconnected, pausing the outgoing queue"),Ll.pause()})),vl.a.singleton.on("message",(function(e){return Ml.enabled&&xl[e.node](e)}),{node:Object.keys(xl)}),vl.a.singleton.connect()),!1===n.sync||!Ml.enabled)return a;switch(n.type){case Fs.h:Ml.timestamp=Ml.now();break;case Fs.j:r.player.control.repeat!==i.player.control.repeat&&(delete Ml.retries,Gl("PlaybackRepeatMode",{repeat:i.player.control.repeat}));break;case Ms.i:if(!Object(fl.a)(r.player.music.list,i.player.music.list)||r.player.music.recommendations.length!==i.player.music.recommendations.length){var s=zl(i.player);delete Ml.retries,Ml.id=s.id=kl()(),Gl("PlaybackQueueList",s),Gl("PlaybackCurrentIndex",{id:Ml.id,index:i.player.music.index,timestamp:Ml.now()})}case Ms.h:if(!Object(fl.a)(r.player.music.track,i.player.music.track)||!Object(fl.a)(r.player.music.context,i.player.music.context)){if(!Ml.id){var l=zl(i.player);Ml.id=l.id,Gl("PlaybackQueueList",l)}Gl("PlaybackCurrentIndex",{id:Ml.id,index:i.player.music.index,timestamp:Ml.now()})}}return a}}}),Jl,(function(e){return function(t){return function(n){var r=t(n),a=e.getState().user;if(n.type===Ms.a&&Object(M.Q)(a)&&!Object(M.O)(a)&&!Object(M.Y)(a)&&"US"===Object(M.e)(a))return $l(e,fe.j),r;if(n.type!==Ms.a||Xl.a.HTML5Renderer||$l(e,fe.d),n.type!==Fs.i)return r;if(e.getState().player.config.playerType!==To.d.MOD)return r;if(n.playing){if(Object(M.Q)(a)||ri.c.getMediaType()!==To.b.SONG||$l(e,fe.g),Object(M.Q)(a)&&!Object(M.O)(a))if(Object(M.X)(a)){if(!Object(M.Y)(a)){var i=Object(M.I)(a);"US"===Object(M.e)(a)?$l(e,fe.j):i>0?$l(e,fe.k,{streamingDuration:i}):$l(e,fe.l)}}else $l(e,fe.h);return r}return n.playing||Object(M.Q)(a)||e.dispatch(Object(z.c)({name:Zl.a.AUTH_MODAL,size:"small"})),r}}}),(function(e){return function(t){return function(n){var r=t(n);if(n.type!==Ms.b)return r;var a=n.cover;if(a===eu)return r;eu=a;var i=Object(Vc.b)();return e.dispatch(nu(i)),au.onload=function(){try{var t=Object(tu.a)(au).color;i=Object(Vc.c)(t),Object(di.c)(e.getState())===n.cover&&e.dispatch(nu(i))}catch(e){}},au.crossOrigin="",au.src=n.cover.replace("250x250","".concat(iu,"x").concat(iu,"-000000-80-0-0")),r}}}),dl);var ou,cu,su,lu=Object(Ds.combineReducers)({config:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ks,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case Ms.a:case Ms.i:case Ms.h:return Qs(Qs({},t),{},{isRadio:ri.c.isRadio(),isUpnext:"up_next_artist"===ri.c.getContext("TYPE"),isFlow:ri.c.helper.isPlayingFlow(),isMyFlow:ri.c.helper.isPlayingUserFlow(),playerType:ri.c.getPlayerType()});case Ys.a:return Boolean(n.active)!==t.isBlindTestMode?Qs(Qs({},t),{},{isBlindTestMode:Boolean(n.active)}):t;case Ys.e:return(e=ri.c.getPlayerType())!==t.playerType?Qs(Qs({},t),{},{playerType:e}):t;case Ys.b:return t.playerFull!==n.active?Qs(Qs({},t),{},{playerFull:n.active}):t;case Ys.d:return t.playerQueuelist!==n.active?Qs(Qs({},t),{},{playerFull:n.active||t.playerFull,playerQueuelist:n.active,playerLyrics:!n.active&&t.playerFull}):t;case Ys.c:return t.playerLyrics!==n.active?Qs(Qs({},t),{},{playerFull:n.active||t.playerFull,playerLyrics:n.active}):t;default:return t}},control:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ms.a:case Ms.i:case Ms.h:return Hs(Hs({},e),{},{volume:ri.c.getVolume(),hasShuffle:Object(ri.b)(),shuffle:ri.c.isShuffle(),hasRepeat:Object(ri.a)(),repeat:ri.c.getRepeat(),mute:ri.c.isMuted(),skipRadioAllowed:!ri.c.isRadio()||ri.c.skipRadioAllowed()});case Fs.c:return Hs(Hs({},e),{},{hasNext:t.hasNext});case Fs.d:return Hs(Hs({},e),{},{hasPrev:t.hasPrev});case Fs.i:return t.playing!==e.playing?Hs(Hs({},e),{},{playing:t.playing,loading:!1}):e;case Fs.e:return t.loading!==e.loading?Hs(Hs({},e),{},{loading:t.loading}):e;case Fs.h:return t.paused!==e.paused?Hs(Hs({},e),{},{paused:t.paused}):e;case Fs.l:return t.volume!==e.volume?Hs(Hs({},e),{},{volume:t.volume}):e;case Fs.f:return Hs(Hs({},e),{},{mute:t.mute});case Fs.j:return Hs(Hs({},e),{},{repeat:t.repeat});case Fs.k:return Hs(Hs({},e),{},{shuffle:t.shuffle});case Fs.b:return t.buffer!==e.buffer?Hs(Hs({},e),{},{buffer:t.buffer}):e;case Fs.a:return Hs(Hs({},e),{},{playing:!1,paused:!1,loading:!1});case Fs.g:return Hs(Hs({},e),{},{normalized:t.normalized});default:return e}},music:di.a,chromecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Ms.a:return qs(qs({},Gs),{},{loading:ri.c.chromecast.isLoading(),active:ri.c.chromecast.isActive(),chunksInfo:ri.c.chromecast.getChunksInfo()});case zs.b:return qs(qs({},e),{},{available:t.status,connecting:!1,active:t.active,chunksInfo:t.chunksInfo});case zs.d:return qs(qs({},e),{},{available:!0,connecting:t.status,casting:!1,chunksInfo:t.chunksInfo});case zs.c:return qs(qs({},e),{},{available:!0,connecting:!1,active:t.active,casting:t.status,chunksInfo:t.chunksInfo});case zs.a:return qs(qs({},e),{},{loading:t.loading,active:t.active,chunksInfo:t.chunksInfo});case zs.e:return qs(qs({},e),{},{skipLimited:t.skipLimited});default:return e}},lyrics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yo.a:return Zs(Zs({},e),{},{isSync:t.isSync,hasLyrics:t.hasLyrics,metadata:t.metadata,isLoading:t.isLoading,list:t.list});case yo.b:return Zs(Zs({},e),{},{hasLyrics:t.hasLyrics,isLoading:t.isLoading});case yo.c:return t.autoScroll!==e.autoScroll?Zs(Zs({},e),{},{autoScroll:t.autoScroll}):e;default:return t.data&&t.data.entities&&t.data.entities.LYRICS?Object(Js.a)({},e,t.data.entities.LYRICS):e}},ui:nl}),uu=n("4XRG"),du=n("7qJE");function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var mu=E.a.lazy((function(){return n.e(91).then(n.bind(null,"/2Yw"))})),vu=function(e){u()(n,e);var t=hu(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={fading:!1},r._onFading=r._onFading.bind(s()(r)),r._onFinish=r._onFinish.bind(s()(r)),r._onTrackChange=r._onTrackChange.bind(s()(r)),r._onTrackRecognized=r._onTrackRecognized.bind(s()(r)),r._onChangePlayerType=r._onChangePlayerType.bind(s()(r)),r._onTracklistChange=r._onTracklistChange.bind(s()(r)),r._onToggleFavorite=r._onToggleFavorite.bind(s()(r)),r._onPlayingChange=r._onPlayingChange.bind(s()(r)),r._onPauseChange=r._onPauseChange.bind(s()(r)),r._onTracklistFinish=r._onTracklistFinish.bind(s()(r)),r._onLoaded=r._onLoaded.bind(s()(r)),r._onTrackDurationChange=r._onTrackDurationChange.bind(s()(r)),r._onVolumeChange=r._onVolumeChange.bind(s()(r)),r._onToggleMute=r._onToggleMute.bind(s()(r)),r._onRepeatChange=r._onRepeatChange.bind(s()(r)),r._onSimultaneousAccess=r._onSimultaneousAccess.bind(s()(r)),r._onShuffleChange=r._onShuffleChange.bind(s()(r)),r._onQualityChange=r._onQualityChange.bind(s()(r)),r._onNormalizedChange=r._onNormalizedChange.bind(s()(r)),r._setAvailableStatus=r._setAvailableStatus.bind(s()(r)),r._setConnectingStatus=r._setConnectingStatus.bind(s()(r)),r._setCastingStatus=r._setCastingStatus.bind(s()(r)),r._setChromecastActiveState=r._setChromecastActiveState.bind(s()(r)),r}return o()(n,[{key:"componentDidMount",value:function(){var e,t,n,r,a,i=this;t=[],n=Ar.c.get(),r=n.offer_id,a=n.user_id,N.a.subscribe(N.a.player.licenseChanged,(function(n,i){var o=i.license_country;if(e&&e!==o){var c=Object(Mr.a)("playback.media_request_errors","2.0.0",{error:{type:"OtherError",subtype:"CountryMismatch"},media:{id:"id-of-the-track",type:"song"},apiCalls:t,license:{new:o,old:e},client_ip:Lr.a.get(),offer_id:r,user_id:a});Xn.a.log(c)}e=o,t=[]})),Fe.b.addEventListener(Fe.a.CALL_STARTED,(function(e){var n=e.detail;t.push({method:new URL(n.url).searchParams.get("method"),params:n.data})})),this.props.initPlayer(),N.a.ready(N.a.user.userReady,this._onToggleFavorite),N.a.subscribe(N.a.player.displayCurrentSong,this._onTrackChange,"player"),N.a.subscribe(N.a.player.displayRecognizedTrack,this._onTrackRecognized,"player"),N.a.subscribe(N.a.player.changePlayerType,this._onChangePlayerType,"player"),N.a.subscribe(N.a.player.tracklist_changed,this._onTracklistChange,"player"),N.a.subscribe(N.a.user.addFavorite,this._onToggleFavorite,"player"),N.a.subscribe(N.a.user.deleteFavorite,this._onToggleFavorite,"player"),N.a.subscribe(N.a.player.playing,this._onPlayingChange,"player"),N.a.subscribe(N.a.player.paused,this._onPauseChange,"player"),N.a.subscribe(N.a.player.finishTrackList,this._onTracklistFinish,"player"),N.a.subscribe(N.a.player.pourcentLoaded,this._onLoaded,"player"),N.a.subscribe(N.a.player.duration,this._onTrackDurationChange,"player"),N.a.subscribe(N.a.player.volume_changed,this._onVolumeChange,"player"),N.a.subscribe(N.a.player.mute_changed,this._onToggleMute,"player"),N.a.subscribe(N.a.player.repeat_changed,this._onRepeatChange,"player"),N.a.subscribe(N.a.player.shuffle_changed,this._onShuffleChange,"player"),N.a.subscribeOnce(N.a.player.playerLoaded,(function(){ri.c.restoreSetting(i.props.userSetting)})),N.a.subscribe(N.a.player.fading,this._onFading,"player"),N.a.subscribe(N.a.player.finish,this._onFinish,"player"),N.a.subscribe(N.a.live.simultaneousAccess,this._onSimultaneousAccess,"player"),N.a.subscribe(N.a.player.qualityChanged,this._onQualityChange,"player"),N.a.subscribe(N.a.player.normalizedChanged,this._onNormalizedChange,"player"),N.a.subscribe(N.a.player.trackAddNext,this._onTrackAddNext,"player"),N.a.subscribe(N.a.player.trackAddToQueue,this._onTrackAddToQueue,"player"),N.a.subscribe(N.a.chromecast.available,this._setAvailableStatus,"player"),N.a.subscribe(N.a.chromecast.connecting,this._setConnectingStatus,"player"),N.a.subscribe(N.a.chromecast.casting,this._setCastingStatus,"player"),N.a.subscribe(N.a.chromecast.loading,this._setChromecastActiveState,"player")}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.props.dispatchHidePopper()}},{key:"componentWillUnmount",value:function(){N.a.unsubscribeAll("player")}},{key:"render",value:function(){var e=this,t=this.props.hasDesktopNotifications;return E.a.createElement("div",{className:"page-player",id:"page_player"},t?ou||(ou=E.a.createElement(mu,null)):null,E.a.createElement(Is,{id:ai.a.Remote,params:{onAutoplayBlocked:function(){return new Promise((function(t){e.props.openModal({name:"REMOTE_CANNOT_AUTOPLAY",props:{onClose:t}})}))}}}),cu||(cu=E.a.createElement("div",{className:"player-bottom"},E.a.createElement(Ac,null),E.a.createElement(As,null),E.a.createElement(vs,null))),su||(su=E.a.createElement(Jo,null)))}},{key:"_onFading",value:function(){this.props.hasAudioAds&&null!==ri.c.getAudioAds()||(this.setState({fading:!0}),ri.c.control.nextSong(!0))}},{key:"_onFinish",value:function(){this.state.fading||ri.c.control.nextSong(!0),this.setState({fading:!1})}},{key:"_onTrackChange",value:function(e,t,n){this.props.updateTrack(n)}},{key:"_onTrackRecognized",value:function(e,t){t?this.props.updateRecognizedTrack({track:t}):this._onTrackChange()}},{key:"_onChangePlayerType",value:function(){this.props.updatePlayerType()}},{key:"_onTracklistChange",value:function(e,t){this.props.updateTracklist(t),N.a.trigger(N.a.list.deselectAll)}},{key:"_onToggleFavorite",value:function(e,t){(!t||"song"===t.type&&String(t.id)===this.props.id)&&this.props.updateFavorite()}},{key:"_onPlayingChange",value:function(e,t){this.props.setPlaying({playing:t})}},{key:"_onPauseChange",value:function(e,t,n){this.props.setPaused(fu({paused:t},n))}},{key:"_onTracklistFinish",value:function(){this.props.setTracklistFinished()}},{key:"_onLoaded",value:function(e,t){this.props.setBuffer({buffer:t})}},{key:"_onTrackDurationChange",value:function(e,t){this.props.setTrackDuration({trackDuration:t})}},{key:"_onVolumeChange",value:function(e,t){this.props.setVolume({volume:t/100})}},{key:"_onToggleMute",value:function(e,t){this.props.setMute({mute:t})}},{key:"_onRepeatChange",value:function(e,t,n){this.props.setRepeat(fu({repeat:t},n))}},{key:"_onSimultaneousAccess",value:function(){var e=this.props,t=e.playing,n=e.playerType,r=e.hasEventSimultaneousListening,a=e.triggerAppCustoEvent;if(t&&!Object(ri.d)(n)&&!ri.c.chromecast.isActive()){if(ri.c.control.pause(),!!r&&a(js.b.SIMULTANEOUS_LISTENING))return;this.props.openModal({name:"PLAYER_LIMITATION"})}}},{key:"_onShuffleChange",value:function(e,t){this.props.setShuffle({shuffle:t}),N.a.trigger(N.a.list.deselectAll)}},{key:"_onQualityChange",value:function(e,t){this.props.setQuality(t)}},{key:"_onNormalizedChange",value:function(e,t){this.props.setNormalized(t)}},{key:"_onTrackAddNext",value:function(e,t){var n=t.notify,r=t.count;!0===n&&Object(ci.a)({body:Object(ue.c)("Le titre a bien été ajouté à la file d'attente.","Les titres ont bien été ajoutés à la file d'attente.",{count:r})})}},{key:"_onTrackAddToQueue",value:function(e,t){var n=t.count;Object(ci.a)({body:Object(ue.c)("Le titre a bien été ajouté à la file d'attente.","Les titres ont bien été ajoutés à la file d'attente.",{count:n})})}},{key:"_setChromecastActiveState",value:function(e,t){this.props.setLoading({loading:t}),this.props.setChromecastActiveState({loading:t,active:ri.c.chromecast.isActive(),chunksInfo:ri.c.chromecast.getChunksInfo()})}},{key:"_setAvailableStatus",value:function(e,t){this.props.setChromecastAvailableStatus({status:t,active:ri.c.chromecast.isActive(),chunksInfo:ri.c.chromecast.getChunksInfo()})}},{key:"_setConnectingStatus",value:function(e,t){this.props.setChromecastConnectingStatus({status:t,chunksInfo:ri.c.chromecast.getChunksInfo()})}},{key:"_setCastingStatus",value:function(e,t){this.props.setChromecastCastingStatus({status:t,active:ri.c.chromecast.isActive(),chunksInfo:ri.c.chromecast.getChunksInfo()})}},{key:"_seek",value:function(e,t){e&&(e.preventDefault(),e.stopPropagation()),this.props.canSeek&&(void 0===t&&(t=e.pageX/e.currentTarget.parentNode.offsetWidth),ri.c.control.seek(t))}}]),n}(_.Component);De.a.addReducers({player:lu});var yu=Object(k.c)((function(e){return{id:e.player.music.id,track:e.player.music.track,playing:e.player.control.playing,playerType:e.player.config.playerType,userSetting:e.user.USER.SETTING,hasAudioAds:e.user.USER.OPTIONS.ads_audio,skipRadioAllowed:e.player.control.skipRadioAllowed,hasEventSimultaneousListening:Object(oi.g)(e,js.b.SIMULTANEOUS_LISTENING),hasDesktopNotifications:Object(M.j)(e.user),canSeek:Object(Xo.c)(e)}}),{dispatchHidePopper:Le.b,initPlayer:di.s,setPlaying:uu.h,setPaused:uu.g,setLoading:uu.d,setTracklistFinished:uu.k,setBuffer:uu.a,setTrackDuration:di.v,setVolume:uu.l,setRepeat:uu.i,setShuffle:uu.j,setMute:uu.e,setQuality:di.u,setNormalized:uu.f,updateFavorite:di.w,updateTrack:di.y,updateRecognizedTrack:di.x,updatePlayerType:si.d,updateTracklist:di.z,triggerAppCustoEvent:ii.d,openModal:z.c,setChromecastActiveState:du.a,setChromecastAvailableStatus:du.b,setChromecastConnectingStatus:du.d,setChromecastCastingStatus:du.c})(vu),gu=n("tLKG");function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eu=function(e,t,n){return t===js.d.ONCE?_u(_u({},e),{},{rulesState:le()({},n,le()({},t,!0))}):e};function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Su={launched:!1,events:{},custos:{},event_rules:{},rulesState:{},current:null},Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gu.a.EVENTS_UPDATED:return Ou(Ou(Ou({},e),t.response),{},{launched:!0});case gu.a.APP_CUSTO_AS_LAUNCHED:return Ou(Ou({},e),{},{launched:!0});case gu.a.SET_CURRENT_EVENT:var n=t,r=n.eventName,a={appCusto:e};if(!Object(oi.g)(a,r))return e;var i=Object(oi.e)(a,r),o=Object(oi.f)(a,r);if(i===js.c.DEEPLINK&&o)return Ou(Ou({},e),{},{current:{name:r,type:js.c.DEEPLINK,value:o}});var c=Object(oi.d)(a,r),s=Object(oi.b)(a,r);return i===js.c.CUSTO&&s?Ou(Ou({},e),{},{current:{name:r,type:js.c.CUSTO,value:s,onTriggered:c}}):Ou(Ou({},e),{},{current:{name:r,type:js.c.UNKNOWN,value:!1}});case gu.a.UPDATE_EVENT_RULE:var l=t,u=l.eventName,d=Object(oi.c)({appCusto:e},u);return Eu(e,d,u);case gu.a.REMOVE_CURRENT_EVENT:return Ou(Ou({},e),{},{current:null});default:return e}},Ru=n("T1Nk");function Cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Nu=function(e){u()(n,e);var t=Cu(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"shouldComponentUpdate",value:function(e){return!!e.current&&(!this.props.current||Boolean(this.props.current&&e.current.name!==this.props.current.name))}},{key:"render",value:function(){var e=this.props.current;return e&&e.value?(e.type===js.c.CUSTO&&(this._custoModal(),Object(Ru.b)(e.onTriggered||[])),null):null}},{key:"_custoModal",value:function(){var e=this,t=this.props.current;t&&t.value&&t.type===js.c.CUSTO&&this.props.openModal({name:"CUSTO",props:{custo:t.value,closeModal:function(){e.props.removeCurrent(),e.props.closeModal()}},size:"xl",disableClosingAction:!0})}}]),n}(_.Component);Nu.displayName="AppCusto",De.a.addReducers({appCusto:Tu});var xu=Object(k.c)((function(e){return{current:e.appCusto.current}}),{openModal:z.c,closeModal:z.a,removeCurrent:ii.b})(Nu);function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var wu,Au=function(e){u()(n,e);var t=Pu(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.darkModeOn,t="dark"===document.body.getAttribute("data-theme");return dn.a.isAllowed("dark_mode")?(e===t||(e?(document.body.classList.add("no-transitions"),document.body.setAttribute("data-theme","dark"),window.requestAnimationFrame((function(){document.body.classList.remove("no-transitions")}))):fn()),null):(fn(),null)}}]),n}(_.Component),Iu=Object(k.c)((function(e){return{darkModeOn:Object(M.R)(e.user)}}))(Au),ju=n("imBb"),Du=n.n(ju),Lu=n("Zn1i"),Mu=n.n(Lu),Fu=function(e){var t,n=e.label,r=e.displaySize,a=e.shortcut;if(!n)return null;var i="wide"!==r?null==a?void 0:a.split(","):[a],o=Object(O.a)(Mu.a.icon,(t={},le()(t,Mu.a.wide,"wide"===r),le()(t,Mu.a.single,"wide"!==r&&1===(null==i?void 0:i.length)),t));return E.a.createElement("div",{className:Mu.a.hotkey},null==i?void 0:i.map((function(e,t){if(!e)return null;var n=t;return E.a.createElement("div",{className:o,key:"shortcut"+n},e)})),E.a.createElement("div",{className:Mu.a.label},n))},Bu=(n("toAj"),n("rNhl"),n("D7Xx")),Hu=n("5m/f"),Uu=function(e){e>0&&e<1&&ri.c.control.seek(e)},zu=function(){Uu(1e-4)},Vu=function(){ri.c.isPlaying()||ri.c.control.play();var e=(ri.c.getPosition()/(ri.c.getDuration()||1)-.05).toFixed(3);Uu(Number(e))},qu=function(){ri.c.isPlaying()||ri.c.control.play();var e=(ri.c.getPosition()/(ri.c.getDuration()||1)+.05).toFixed(3);Uu(Number(e))},Gu=function(e,t){var n=parseFloat(t||"0")/10;return 0===n&&(n=1e-5),Uu(n)},Yu=function(){var e=Number((parseFloat(ri.c.getVolume())-.1).toFixed(2));0!==(e=Math.max(0,e))||ri.c.isMuted()||ri.c.control.mute(),ri.c.control.setVolume(e)},Wu=function(){var e=Number((parseFloat(ri.c.getVolume())+.1).toFixed(2));e=Math.min(1,e),ri.c.control.setVolume(e)},Qu=function(){ri.c.control.mute(!ri.c.isMuted())},Ku=Object(Pe.a)((function(){ri.c.control.nextSong()}),100),Ju=Object(Pe.a)((function(){ri.c.control.prevSong()}),100),Xu=function(e){"preventDefault"in e&&e.preventDefault(),Zo.b.intent("play"),N.a.trigger("EVENT.DATAGRID.togglePlayAll")},Zu=function(e){"preventDefault"in e&&e.preventDefault(),Zo.b.intent(Object(Bu.a)(ri.c)),ri.c.control.togglePause()},$u=function(){var e=Number(ri.c.getRepeat());ri.c.control.setRepeat(2===e?0:e+1)},ed=function(){N.a.ready(N.a.user.initialized,(function(){if(-1===[To.d.ADS,To.d.LIVESTREAM].indexOf(ri.c.getPlayerType())&&ri.c.getMediaType()===To.b.SONG){var e=ri.c.getCurrentSong("SNG_ID"),t=Hu.a.isFavorite(sn.a.Song,e)?"remove":"add",n=ri.c.getContext();Hu.a[t]({type:sn.a.Song,id:e,context:n})}}))},td=function(e){var t;"preventDefault"in e&&e.preventDefault(),null===(t=document.getElementById("topbar-search"))||void 0===t||t.focus()},nd=D.a.is("macos")?"alt":"ctrl",rd=function(){var e=Object(_.useState)(!1),t=Wn()(e,2),n=t[0],r=t[1],a=Object(_.useCallback)((function(){r(!n)}),[n]),i=function(){document.body.classList&&(document.body.classList.add("konami"),setTimeout((function(){document.body.classList.remove("konami")}),1e4))},o=Object(_.useMemo)((function(){return[{keys:["0","1","2","3","4","5","6","7","8","9"],callback:Gu,options:{label:Object(ue.a)("Aller à la position"),shortcut:"0...9",displaySize:"wide"}},{keys:"space",callback:Zu,options:{label:Object(ue.a)("Lecture/Pause"),shortcut:Object(ue.a)("Espace"),displaySize:"wide"}},{keys:"shift+enter",callback:Xu,options:{label:Object(ue.a)("Lire les titres présents sur la page"),shortcut:"⇧ ⏎",displaySize:"wide"}},{keys:["s","shift+s"],callback:td,options:{label:Object(ue.a)("Rechercher"),shortcut:"S"}},{keys:"".concat(nd,"+left"),callback:Vu,options:{label:Object(ue.a)("Reculer"),shortcut:"".concat(nd,",←")}},{keys:"".concat(nd,"+right"),callback:qu,options:{label:Object(ue.a)("Avancer"),shortcut:"".concat(nd,",→")}},{keys:"r",callback:zu,options:{label:Object(ue.a)("Rejouer le titre"),shortcut:"R"}},{keys:"shift+left",callback:Ju,options:{label:Object(ue.a)("Lire le titre précédent"),shortcut:"⇧,←",event:"keyup"}},{keys:"shift+right",callback:Ku,options:{label:Object(ue.a)("Lire le titre suivant"),shortcut:"⇧,→",event:"keyup"}},{keys:["m","shift+m"],callback:Qu,options:{label:Object(ue.a)("Silence"),shortcut:"M"}},{keys:"shift+up",callback:Wu,options:{label:Object(ue.a)("Augmenter le volume"),shortcut:"⇧,↑"}},{keys:"shift+down",callback:Yu,options:{label:Object(ue.a)("Baisser le volume"),shortcut:"⇧,↓"}},{keys:["l","shift+l"],callback:ed,options:{label:Object(ue.a)("Ajouter le titre aux Coups de cœur"),shortcut:"L"}},{keys:"shift+r",callback:$u,options:{label:Object(ue.a)("Mode de répétition"),shortcut:"⇧,R"}},{keys:["h","shift+h","?"],callback:a,options:{label:Object(ue.a)("Afficher les raccourcis clavier"),shortcut:"H / ?",displaySize:"wide",event:"keypress"}},{keys:"up up down down left right left right b a enter",callback:i}]}),[a]);Object(_.useEffect)((function(){return o.forEach((function(e){return n=(t=e).keys,r=t.callback,a=t.options,i=(null==a?void 0:a.event)||"keydown",void Du.a.bind(n,r,i);var t,n,r,a,i})),function(){o.forEach((function(e){return Du.a.unbind(e.keys)}))}}),[o]);var c=Object(O.a)(Mu.a.root,le()({},Mu.a.isOpened,n));return E.a.createElement("div",{className:c,"aria-hidden":!n},E.a.createElement("div",{className:Mu.a.topbar}),E.a.createElement("div",{className:Mu.a.mapping},o.map((function(e){return E.a.createElement(Fu,Q()({key:e.keys.toString()},e.options))}))))},ad=n("Dn8e"),id=n("E3mc"),od=n.n(id),cd=n("idNW"),sd=n("GLMB"),ld=function(){var e=E.a.useState({message:"",timerId:0}),t=Wn()(e,2),n=t[0],r=t[1];E.a.useEffect((function(){return cd.c.addEventListener(cd.a.OPEN,a),function(){cd.c.removeEventListener(cd.a.OPEN,a)}}));var a=function(e){clearTimeout(n.timerId);var t=Object(ad.a)((function(){return r({message:"",timerId:0})}),e.detail.duration||sd.a);r({message:e.detail.body,timerId:t})};if(""===n.message)return null;var i={in:!0,from:{opacity:0,transform:"translate3d(200px, 0, 0)"},to:{opacity:1,transform:"translate3d(0, 0, 0)"}};return E.a.createElement(oe.a,i,E.a.createElement("aside",{role:"alert",className:od.a.pageToast},E.a.createElement("div",{className:od.a.toast},E.a.createElement("h2",{className:od.a.body},n.message))))},ud=n("uVGV"),dd=n("bUkg");function pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var fd,hd,md=function(e){u()(n,e);var t=pd(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return wu||(wu=E.a.createElement("aside",{id:"notification",className:"page-notifications",role:"alert","aria-hidden":"true"},E.a.createElement("div",{className:"notification"},E.a.createElement("h2",null))))}}]),n}(_.Component);function vd(){return E.a.createElement("div",{className:"modal",id:"modal",role:"dialog","aria-hidden":"true",style:{display:"none"}},fd||(fd=E.a.createElement("div",{className:"modal-backdrop"})),hd||(hd=E.a.createElement("div",{className:"modal-wrapper"})))}function yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var gd;!function(e){e.LTR="ltr",e.RTL="rtl"}(gd||(gd={}));var bd=function(e){u()(n,e);var t=yd(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).createGenericNotification=function(e){return new Notification("Deezer",{body:"Why not listen again to some music?",dir:e,silent:!0})},e.createTrackNotification=function(e,t,n){return new Notification("Deezer",{body:"You last listened to ".concat(e," by ").concat(t.map((function(e){return e.ART_NAME})).join(", "),". What will you listen to next?"),dir:n,silent:!0})},e.shouldLaunchTimer=function(){if(!e.props.isPaused)return!1;var t=Number(A.default.get("wakeUpNotification-time","0")),n=(new Date).setDate((new Date).getDate()-1),r=Number(A.default.get("wakeUpNotification-cap","0"));return t<n&&r<5},e._onBlur=function(){e.shouldLaunchTimer()&&(e._timer=setTimeout(e._notify,e.props.delay))},e._onFocus=function(){clearTimeout(e._timer)},e._onNotificationShown=function(){A.default.set("wakeUpNotification-time",Date.now())},e._notify=function(){var t=e.props,n=t.trackTitle,r=t.trackArtists,a=t.langDirection;if(n&&r)return e._notification=e.createTrackNotification(n,r,a),void e._setNewCap();e._notification=e.createGenericNotification(a),e._setNewCap()},e._setNewCap=function(){A.default.set("wakeUpNotification-time",Date.now()),A.default.set("wakeUpNotification-cap",Number(A.default.get("wakeUpNotification-cap",0)+1))},e._notification=void 0,e._timer=void 0,e}return o()(n,[{key:"componentDidMount",value:function(){window.addEventListener(N.a.ads.blur,this._onBlur),window.addEventListener(N.a.ads.focus,this._onFocus)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(N.a.ads.blur,this._onBlur),window.removeEventListener(N.a.ads.focus,this._onFocus)}},{key:"render",value:function(){return null}}]),n}(_.Component);bd.defaultProps={delay:72e5,trackTitle:void 0,trackArtists:[]};var _d,Ed,kd,Od=Object(k.c)((function(e){return{langDirection:Object(M.r)(e.user),isPaused:!e.player.control.playing,trackTitle:e.player.music.trackTitle,trackArtists:e.player.music.trackArtists}}))(bd);function Sd(){return E.a.createElement("div",{className:"page-shadow"},_d||(_d=E.a.createElement(md,null)),Ed||(Ed=E.a.createElement(vd,null)),dn.a.isAllowed("reactivation_desktop_notification")?kd||(kd=E.a.createElement(Od,null)):null)}var Td,Rd,Cd,Nd,xd,Pd,wd,Ad,Id,jd,Dd,Ld,Md,Fd,Bd,Hd,Ud,zd,Vd=n("NcY8"),qd=n("N86g"),Gd=n("1dQf"),Yd=function(){if(void 0!==Td)return Td;if("undefined"!=typeof document){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e),Td=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else Td=0;return Td};n("QdeK");function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var Qd=function(e){u()(n,e);var t=Wd(n);function n(e){var r;return a()(this,n),r=t.call(this,e),e.updateCurrentPage(e.location.pathname),r._onLiveFeed=r._onLiveFeed.bind(s()(r)),r.state={error:null},r}return o()(n,[{key:"componentDidMount",value:function(){Yd()>0&&document.body.classList.add("force-scrollbar"),x.a.addInternalChannel("-1_"+this.props.userID+"_USERFEED_"+this.props.userID),x.a.init(),N.a.subscribe(N.a.live.feed,this._onLiveFeed),N.a.trigger(N.a.navigation.page_displayed,{path:this.props.location.pathname}),N.a.resolve(N.a.navigation.page_initialized);var e=this._getSelectedAccount();!1!==e?this.props.selectChildAccount(e):this.props.isSubAccount?this.props.selectChildAccount(this.props.userID):this.props.hasNoChildAccountSelected&&!e&&this.props.openScreen({name:En.b,data:{hasPreselectedMember:!1,allowScreenClose:!1}}),this._openModal(),this.props.hasOnBoarding&&this.props.openScreen({name:En.a,data:{context:"onboarding",showGenreFilter:!0}}),this.props.location.query&&this.props.location.query.modal&&Object(V.a)(this.props.location.query.modal)&&this.props.openModal({name:this.props.location.query.modal}),Object(qd.a)("hideBannerElectronUI")&&Object(Gd.a)("hideBannerElectronUI",!1,-1),this._displayAlerts()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.location.pathname!==e.location.pathname||this.props.location.state!==e.location.state||this.props.hasNoChildAccountSelected!==e.hasNoChildAccountSelected||this.props.userID!==e.userID||!this.state.error&&t.error}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0),N.a.trigger(N.a.navigation.page_changed,{path:this.props.location.pathname}),this.props.updateCurrentPage(this.props.location.pathname),N.a.trigger(N.a.navigation.page_displayed,{path:this.props.location.pathname}),this._hideAlerts(),this.props.hasOnBoarding&&this.props.openScreen({name:En.a,data:{context:"onboarding",showGenreFilter:!0}}),this.state.error&&this.setState({error:null})}},{key:"componentDidCatch",value:function(e,t){this.setState({error:e.constructor.name}),e instanceof R.b||w.a.error(e,t)}},{key:"componentWillUnmount",value:function(){N.a.unsubscribe(N.a.live.feed,this._onLiveFeed)}},{key:"render",value:function(){if(this.props.hasNoChildAccountSelected)return Rd||(Rd=E.a.createElement("div",{className:"naboo"},E.a.createElement(Iu,null),E.a.createElement(Y.a,null),E.a.createElement(Sd,null),E.a.createElement(G.a,null)));var e=["/login","/register"].includes(this.props.location.pathname);return E.a.createElement("div",{className:"naboo"},Cd||(Cd=E.a.createElement(Iu,null)),Nd||(Nd=E.a.createElement(xu,null)),xd||(xd=E.a.createElement(Y.a,{withTransition:!0})),Pd||(Pd=E.a.createElement(ye,null)),wd||(wd=E.a.createElement(ld,null)),Ad||(Ad=E.a.createElement(dd.a,null)),e?null:Id||(Id=E.a.createElement(_a,null)),e||!this.props.isConnected?null:jd||(jd=E.a.createElement(ni,null)),this._renderMain(e),e?null:Dd||(Dd=E.a.createElement(yu,null)),e?null:Ld||(Ld=E.a.createElement(Te.a,null)),Md||(Md=E.a.createElement(Sd,null)),Fd||(Fd=E.a.createElement(Vd.a,null)),Bd||(Bd=E.a.createElement(rd,null)),Hd||(Hd=E.a.createElement(G.a,null)),this._renderAppboy())}},{key:"_renderMain",value:function(e){var t=Object(O.a)({"page-main":!0,"electron-auth":e});return this.state.error?E.a.createElement("div",{className:t,id:"page_content",role:"main"},Ud||(Ud=E.a.createElement(ud.a,null))):E.a.createElement("div",{className:t,id:"page_content",role:"main"},this.props.children)}},{key:"_renderAppboy",value:function(){var e=this.props.consentContext?this.props.consentContext.state.settings:void 0;return e&&e.targetedAdvertising?zd||(zd=E.a.createElement(Se,null)):null}},{key:"_onLiveFeed",value:function(e,t){if(t.length){var n=t[0];switch(n.ACTION){case"FRIEND_FOLLOW":case"PLAYLIST_COMMENT":case"SHARE":P.a.addNotification(n);break;default:P.a.addTicker(n,!0)}}}},{key:"_openModal",value:function(){2===Object(m.a)(this.props.modalPath)&&("modal"===this.props.modalPath.type?C.default.open(decodeURIComponent(this.props.modalPath.page)):y.a.facebox({ajax:decodeURIComponent(this.props.modalPath.page)}))}},{key:"_displayAlerts",value:function(){var e=this,t=this.props,n=t.isConnected;t.userOfferId;!n||D.a.is("linux")||j.isDismissed(fe.a)||(this.props.dispatchShowAlert(fe.a,{onClose:function(){e.props.tracking.trackEvent({event:"click",eventcategory:"dsk",eventaction:"dsk-alert-close"}),j.markAsDismissed(fe.a)},onDownloadClick:function(){e.props.tracking.trackEvent({event:"click",eventcategory:"dsk",eventaction:"dsk-alert-download"}),e.props.dispatchHideAlert(fe.a),j.markAsDismissed(fe.a)}}),this.props.tracking.trackEvent({event:"click",eventcategory:"dsk",eventaction:"dsk-alert-display"}))}},{key:"_hideAlerts",value:function(){var e=this.props,t=e.alerts,n=e.dispatchHideAlert;if(t.length){var r=[fe.m];t.filter((function(e){return r.includes(e.id)})).forEach((function(e){n(e.id),j.markAsDismissed(e.id)}))}}},{key:"_getSelectedAccount",value:function(){var e=Object(qd.a)("familyUserId");return""!==e&&e}}]),n}(_.Component);Qd.defaultProps={userAge:"",userGender:"",isNewUser:!1,hasNoChildAccountSelected:!1};var Kd=Object(k.c)((function(e){var t=e.user,n=e.alerts;return{userID:t.USER.USER_ID,isConnected:Object(M.Q)(t),hasOnBoarding:t.USER.ONBOARDING_MODAL,userAge:Object(M.a)(t),userGender:Object(M.o)(t),userLanguage:Object(M.q)(t),userOfferId:Object(M.y)(t),hasNoChildAccountSelected:Object(M.N)(t),alerts:n,isNewUser:t.USER.NEW_USER,isSubAccount:Object(M.Z)(t),displayCommunicationPreferencesUpdateBanner:!0===t.__DZR_GATEKEEPS__.display_communication_preferences_update_banner}}),{selectChildAccount:F.e,updateCurrentPage:B.a,openScreen:H.c,openModal:z.c,dispatchShowAlert:U.c,dispatchHideAlert:U.b}),Jd=T()((function(e){return{virtualpageurl:e.location.pathname,language:e.userLanguage,uilogged:e.isConnected}}),{process:function(e){return e.pagename?e:null},dispatch:function(e){void 0!==window.dataLayer&&window.dataLayer.push(e),Object(L.s)(e)}});t.default=Kd(Jd(Object(q.a)(Qd)))},"4ICa":function(e,t,n){e.exports={root:"_2ZkBf","is-closed":"_3eI6b",isClosed:"_3eI6b"}},"4QGD":function(e,t,n){e.exports={img:"_2-g9K",text:"_1Tyb5",nocontent:"_2d3GG",private:"lAhZj",recommendation:"_1GkPa"}},"4Rq0":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"EllipsisIcon",paths:{16:'<path d="M5 8.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm3.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path>',24:'<path d="M6 12a2 2 0 1 0-4 0 2 2 0 0 0 4 0zm8 0a2 2 0 1 0-4 0 2 2 0 0 0 4 0zm6-2a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"></path>'}})},"4TBs":function(e,t,n){"use strict";n("SuFq");var r,a=n("pVnL"),i=n.n(a),o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=(n("ma9I"),n("R5XZ"),n("sMBO"),n("q1tI")),y=n.n(v),g=(n("17x9"),n("/MKj")),b=n("g0AM"),_=n("vVa8"),E=n("Purp"),k=n("cWlz"),O=n("lSNA"),S=n.n(O),T=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("9Bja")),R=(r={},S()(r,T.a,y.a.lazy((function(){return Promise.all([n.e(0),n.e(94)]).then(n.bind(null,"o1wm"))}))),S()(r,T.b,y.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(5),n.e(95)]).then(n.bind(null,"EcV9"))}))),r);function C(e){return R[e]||!1}var N,x,P=n("h3fg");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var A=function(e){d()(n,e);var t=w(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={closing:!1},e._close=function(){e.props.closeScreen()},e._closeWithTransition=function(){e.setState({closing:!0}),e._transitionTimeout=setTimeout((function(){e.setState({closing:!1}),e.props.closeScreen()}),910)},e._transitionTimeout=void 0,e}return l()(n,[{key:"componentDidUpdate",value:function(e){(!e||e&&e.isOpen!==this.props.isOpen)&&Object(P.a)(!this.props.isOpen)}},{key:"componentWillUnmount",value:function(){Object(P.a)(!0),clearTimeout(this._transitionTimeout)}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.data,r=e.name,a=e.withTransition;if(!t)return null;var o=C(r);return o?a?y.a.createElement(b.a,{from:{transform:"translate3d(0, 100%, 0)"},to:{transform:"translate3d(0, 0, 0)"},delay:200,duration:700,in:t&&!this.state.closing},y.a.createElement("div",{className:"full-screen-container"},x||(x=y.a.createElement("div",{className:"full-screen-logo-holder"},y.a.createElement("div",{className:"logo-deezer-black"}))),y.a.createElement(o,i()({},n,{name:r,closeScreen:this._closeWithTransition})))):y.a.createElement("div",{className:"full-screen-container"},N||(N=y.a.createElement("div",{className:"full-screen-logo-holder"},y.a.createElement("div",{className:"logo-deezer-black"}))),y.a.createElement(y.a.Suspense,{fallback:null},y.a.createElement(o,i()({},n,{name:r,closeScreen:this._close})))):null}}]),n}(v.Component);A.defaultProps={closeScreen:E.a,withTransition:!1},_.a.addReducers({fullscreen:k.b});t.a=Object(g.c)((function(e){var t=e.fullscreen,n=t.name;return{name:n,data:t.data,isOpen:""!==n}}),{closeScreen:k.a})(A)},"4gVp":function(e,t,n){"use strict";var r,a,i,o,c,s,l,u,d,p;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),function(e){e.ALBUM="ALBUM",e.COMPILATIONS="COMPILATIONS",e.EP="EP",e.MIXTAPE="MIXTAPE",e.SINGLES="SINGLES",e.UNKNOWN="UNKNOWN"}(r||(r={})),function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO"}(a||(a={})),function(e){e.HEADLINER="HEADLINER",e.OPENING_ACT="OPENING_ACT"}(i||(i={})),function(e){e.FEATURED="FEATURED",e.MAIN="MAIN"}(o||(o={})),function(e){e.GET_STARTED="GET_STARTED",e.NONE="NONE",e.SHARE="SHARE",e.START_LISTENING="START_LISTENING",e.SWIPE="SWIPE"}(c||(c={})),function(e){e.ALL="ALL",e.NON_OFFICIAL="NON_OFFICIAL",e.OFFICIAL="OFFICIAL"}(s||(s={})),function(e){e.ROUND="ROUND",e.SQUARE="SQUARE"}(l||(l={})),function(e){e.GET_STARTED="GET_STARTED",e.NONE="NONE",e.SHARE="SHARE",e.START_LISTENING="START_LISTENING",e.SWIPE="SWIPE"}(u||(u={})),function(e){e.ALBUM="ALBUM",e.ARTIST="ARTIST",e.MISC="MISC",e.PODCAST="PODCAST",e.TRACK="TRACK"}(d||(d={})),function(e){e.AUTHOR="AUTHOR",e.COMPOSER="COMPOSER",e.CONDUCTOR="CONDUCTOR",e.FEATURED="FEATURED",e.MAIN="MAIN",e.ORCHESTRA="ORCHESTRA",e.SECONDARY="SECONDARY"}(p||(p={}))},"59tr":function(e){e.exports=JSON.parse('{"chromecast":true,"contextMenu":true,"cover":true,"label":false,"like":true,"lyrics":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"repeat":true,"seek":true,"shuffle":true,"subTitle":{"id":"ALB_ID","url":"/album/"},"stop":false,"timer":true,"title":{"url":"/artist/"},"userFeedback":false,"volume":true}')},"5El0":function(e,t,n){"use strict";var r=n("7EGn"),a=(n("qePV"),n("rB9j"),n("EnZy"),n("i6QF"),n("ma9I"),n("XoLw")),i=n("HF1P"),o=n("9z3s"),c=n("oZVF"),s={MAX_SERVER_SIZE:{WIDTH:1500,HEIGHT:1500},DEFAULT_QUALITY:80,PLACEHOLDER_EXPLICIT_MD5:"c272206c2d8b94d10ccfdea8b7a6f986",PLACEHOLDER_LOVED_TRACKS_MD5:"679936b577879457668697f0e6f2c755",LAYOUT_RECTANGLE_RATIO:134/264,getID:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=-1,r=!0;switch(e){case o.a.Album:n=t.ALB_ID;break;case o.a.App:n=t.APP_ID;break;case o.a.Artist:n=t.ART_ID;break;case o.a.Channel:n=t.id,r=!1;break;case o.a.Episode:n=t.EPISODE_ID;break;case o.a.Livestream:n=t.LIVESTREAM_ID;break;case o.a.Playlist:n=t.PLAYLIST_ID;break;case o.a.Radio:n=t.RADIO_ID;break;case o.a.Show:n=t.SHOW_ID;break;case o.a.Smarttracklist:n=t.id||t.SMARTTRACKLIST_ID,r=!1;break;case o.a.Track:n=t.SNG_ID;break;case o.a.User:case o.a.Flow:n=t.USER_ID;break;default:n=t.id}return r?Number(n||-1):n||-1},getClickURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t<0)return null;var n="/"+e+"/"+t;switch(e){case o.a.User:return"/profile/"+t;case o.a.Radio:return 1===t?null:"/mixes/genre/"+t;case o.a.Livestream:case o.a.ExternalLink:return null;default:return n}},getImageMd5:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case o.a.Album:case o.a.Track:t=n.ALB_PICTURE;break;case o.a.App:t=n.APP_PICTURE;break;case o.a.Artist:t=n.ART_PICTURE||n.FALLBACK_ART_PICTURE&&n.FALLBACK_ART_PICTURE.MD5;break;case o.a.Episode:case o.a.Show:t=n.SHOW_ART_MD5;break;case o.a.Playlist:t=n.PLAYLIST_PICTURE;break;case o.a.Radio:t=n.RADIO_PICTURE;break;case o.a.User:t=n.USER_PICTURE;break;case o.a.Livestream:t=n.LIVESTREAM_IMAGE_MD5;break;case o.a.Smarttracklist:t=n.pictures&&n.pictures[0]&&n.pictures[0].md5||n.PICTURES&&n.PICTURES[0]&&n.PICTURES[0].MD5||null;break;case o.a.Channel:t=n.pictures&&n.pictures[0]&&n.pictures[0].md5||null;break;default:t=n.picture}return t||"d41d8cd98f00b204e9800998ecf8427e"},getCoverType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case o.a.Album:case o.a.Track:case o.a.Smarttracklist:return t.pictures&&t.pictures[0]&&t.pictures[0].type||t.PICTURES&&t.PICTURES[0]&&t.PICTURES[0].TYPE||"cover";case o.a.Artist:return t.ART_PICTURE?o.a.Artist:t.FALLBACK_ART_PICTURE&&t.FALLBACK_ART_PICTURE.TYPE||o.a.Artist;case o.a.Episode:case o.a.Show:return"talk";case o.a.Playlist:return t.PICTURE_TYPE||"playlist";case o.a.User:return"user";case o.a.Flow:return"cover";default:return"misc"}},getImageSrcForData:function(e,t,n,r,a){var i=this.getCoverType(e,t),o=this.getImageMd5(e,t);return o=a?o:o.split("-")[0],this.getImageSrc(i,o,n,r)},getExplicitSrc:function(e,t){return this.getImageSrc("misc",this.PLACEHOLDER_EXPLICIT_MD5,e,t)},getLovedTracksSrc:function(e,t){return this.getImageSrc("misc",this.PLACEHOLDER_LOVED_TRACKS_MD5,e,t,"none")},getImageSrc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"misc",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;o=/[0-9a-f]{6}|none/i.test(o)?o:"000000",s=Number.isInteger(s)&&s>0&&s<=100?s:80;var l="none"===o?"png":"jpg",u="https://".concat(i.a.get("host_img_url_ssl"));if("misc"!==e&&s!==this.DEFAULT_QUALITY&&a.a.warn('Quality param should be used ONLY with "misc" image type. Use with caution.'),Object(c.a)()&&(n=Math.round(2*n),r=Math.round(2*r),n>this.MAX_SERVER_SIZE.WIDTH||r>this.MAX_SERVER_SIZE.HEIGHT)){var d=n/r;d>1?(r=r*this.MAX_SERVER_SIZE.WIDTH/n,n=this.MAX_SERVER_SIZE.WIDTH):(n=n*this.MAX_SERVER_SIZE.HEIGHT/r,r=this.MAX_SERVER_SIZE.HEIGHT)}return"".concat(u,"/").concat(e,"/").concat(t,"/").concat(r,"x").concat(n,"-").concat(o,"-").concat(s,"-0-0.").concat(l)},getPreviewMethod:function(e,t){switch(e){case o.a.Album:return{method:"song.getListByAlbum",data:{ALB_ID:t,NB:1}};case o.a.Artist:return{method:"smart.getSmartRadio",data:{ART_ID:t,LIMIT:1}};case o.a.Playlist:return{method:"playlist.getPreviewSong",data:{PLAYLIST_ID:t,NB:1}};case o.a.Radio:return{method:"radio.getSongs",data:{RADIO_ID:t,NB:1}};case o.a.Show:return{method:"episode.getListByShow",data:{SHOW_ID:t,LIMIT:1}};case o.a.Track:return{method:"song.getListAllData",data:{SNG_IDS:[[t,0]]}}}},isThumbnailRectangle:function(e){return e===o.a.Channel||e===o.a.VideoLink},isFullWindowedAlbum:function(e,t){return e===o.a.Album&&!1===Object(r.a)(t,"WINDOWING_DATA.IS_STREAMABLE",!0)}};t.a=s},"5gQe":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.CONTRIBUTORS="constributors",e.DESCRIPTION="description",e.PLAYLISTS="playlists"}(r||(r={}))},"5n8Z":function(e,t,n){"use strict";var r=t.IndexChanged={};r.read=function(e,t){return e.readFields(r._readField,{id:"",index:0,timestamp:0},t)},r._readField=function(e,t,n){1===e?t.id=n.readString():2===e?t.index=n.readVarint():3===e&&(t.timestamp=n.readVarint())},r.write=function(e,t){e.id&&t.writeStringField(1,e.id),e.index&&t.writeVarintField(2,e.index),e.timestamp&&t.writeVarintField(3,e.timestamp)};var a=t.ListChanged={};a.read=function(e,t){return e.readFields(a._readField,{id:"",contexts:[],tracks:[],tracks_order:[],shuffled:!1,timestamp:0},t)},a._readField=function(e,t,n){1===e?t.id=n.readString():2===e?t.contexts.push(a.Context.read(n,n.readVarint()+n.pos)):3===e?t.tracks.push(a.Track.read(n,n.readVarint()+n.pos)):4===e?n.readPackedVarint(t.tracks_order):5===e?t.shuffled=n.readBoolean():6===e&&(t.timestamp=n.readVarint())},a.write=function(e,t){if(e.id&&t.writeStringField(1,e.id),e.contexts)for(var n=0;n<e.contexts.length;n++)t.writeMessage(2,a.Context.write,e.contexts[n]);if(e.tracks)for(n=0;n<e.tracks.length;n++)t.writeMessage(3,a.Track.write,e.tracks[n]);e.tracks_order&&t.writePackedVarint(4,e.tracks_order),e.shuffled&&t.writeBooleanField(5,e.shuffled),e.timestamp&&t.writeVarintField(6,e.timestamp)},a.Context={},a.Context.read=function(e,t){return e.readFields(a.Context._readField,{container:null,log:null},t)},a.Context._readField=function(e,t,n){1===e?t.container=a.Context.Container.read(n,n.readVarint()+n.pos):2===e&&(t.log=a.Context.Log.read(n,n.readVarint()+n.pos))},a.Context.write=function(e,t){e.container&&t.writeMessage(1,a.Context.Container.write,e.container),e.log&&t.writeMessage(2,a.Context.Log.write,e.log)},a.Context.Container={},a.Context.Container.read=function(e,t){return e.readFields(a.Context.Container._readField,{id:"",type:0,mix:null,extra:null,smart_tracklist_method:""},t)},a.Context.Container._readField=function(e,t,n){1===e?t.id=n.readString():2===e?t.type=n.readVarint():3===e?(t.mix=a.Context.Container.Mix.read(n,n.readVarint()+n.pos),t.extra="mix"):4===e&&(t.smart_tracklist_method=n.readString(),t.extra="smart_tracklist_method")},a.Context.Container.write=function(e,t){e.id&&t.writeStringField(1,e.id),e.type&&t.writeVarintField(2,e.type),e.mix&&t.writeMessage(3,a.Context.Container.Mix.write,e.mix),e.smart_tracklist_method&&t.writeStringField(4,e.smart_tracklist_method)},a.Context.Container.ContainerType={DEFAULT:{value:0,options:{}},ALBUM:{value:1,options:{}},AUDIOBOOK:{value:2,options:{}},LIVE:{value:3,options:{}},MIX:{value:4,options:{}},PERSONAL:{value:5,options:{}},PLAYLIST:{value:6,options:{}},PODCAST:{value:7,options:{}},RECOMMENDED:{value:8,options:{}},SHUFFLE_MY_MUSIC:{value:9,options:{}},SMART_TRACKLIST:{value:10,options:{}}},a.Context.Container.Mix={},a.Context.Container.Mix.read=function(e,t){return e.readFields(a.Context.Container.Mix._readField,{type:0},t)},a.Context.Container.Mix._readField=function(e,t,n){1===e&&(t.type=n.readVarint())},a.Context.Container.Mix.write=function(e,t){e.type&&t.writeVarintField(1,e.type)},a.Context.Container.Mix.MixType={DEFAULT:{value:0,options:{}},ALBUM:{value:1,options:{}},ARTIST:{value:2,options:{}},CHARTS:{value:3,options:{}},FAMILY:{value:4,options:{}},GENRE:{value:5,options:{}},HISTORY:{value:6,options:{}},PLAYLIST:{value:7,options:{}},SEARCH:{value:8,options:{}},SONG:{value:9,options:{}},USER:{value:10,options:{}}},a.Context.Log={},a.Context.Log.read=function(e,t){return e.readFields(a.Context.Log._readField,{context_id:"",listening_context:""},t)},a.Context.Log._readField=function(e,t,n){1===e?t.context_id=n.readString():2===e&&(t.listening_context=n.readString())},a.Context.Log.write=function(e,t){e.context_id&&t.writeStringField(1,e.context_id),e.listening_context&&t.writeStringField(2,e.listening_context)},a.Track={},a.Track.read=function(e,t){return e.readFields(a.Track._readField,{id:"",context:0,type:0},t)},a.Track._readField=function(e,t,n){1===e?t.id=n.readString():2===e?t.context=n.readVarint():3===e&&(t.type=n.readVarint())},a.Track.write=function(e,t){e.id&&t.writeStringField(1,e.id),e.context&&t.writeVarintField(2,e.context),e.type&&t.writeVarintField(3,e.type)},a.Track.TrackType={SONG:{value:0,options:{}},CHAPTER:{value:1,options:{}},EPISODE:{value:2,options:{}},LIVE:{value:3,options:{}}};var i=t.RepeatChanged={};i.read=function(e,t){return e.readFields(i._readField,{repeat:0},t)},i._readField=function(e,t,n){1===e&&(t.repeat=n.readVarint())},i.write=function(e,t){e.repeat&&t.writeVarintField(1,e.repeat)},i.RepeatMode={NONE:{value:0,options:{}},ALL:{value:1,options:{}},ONE:{value:2,options:{}}}},"6BAd":function(e){e.exports=JSON.parse('{"label":true,"next":true,"pause":true,"play":true,"prev":true,"timer":true,"title":{"id":"ART_ID","url":"/artist/"}}')},"6Sps":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("iuhU"),s=n("Dwbg"),l=n.n(s);t.a=function(e){var t,n=e.children,r=e.hasMultiPanels,i=void 0!==r&&r,s=e.isExtended,u=void 0!==s&&s,d=Object(c.a)(l.a.root,(t={},a()(t,l.a.isExtendable,i),a()(t,l.a.isExtended,u),t));return o.a.createElement("div",{className:d},n)}},"6pb3":function(e,t,n){"use strict";n("SuFq"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r),i=n("pVnL"),o=n.n(i),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("a1gu"),v=n.n(m),y=n("Nsbk"),g=n.n(y),b=n("7EGn"),_=(n("wLYn"),n("yq1k"),n("JTJg"),n("R5XZ"),n("17x9"),n("q1tI")),E=n.n(_),k=n("i8i4"),O=n("/MKj"),S=n("iuhU"),T=n("8L3F"),R=n("KuUs"),C=n("vVa8"),N=n("vEc0"),x=n("Ye2i"),P=n("H2c4"),w=n("OuPr");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}t.a=function(e){var t=function(t){h()(r,t);var n=j(r);function r(e){var t;return s()(this,r),(t=n.call(this,e))._popper=null,t._popperRef=null,t._targetRef=null,t._contentRef=null,t._arrowRef=null,t._showTimeout=null,t._unlisten=null,t._listenerClickActive=!1,t._listenerHistory=N.a.listen((function(){t._hide()})),t._onTargetClick=t._onTargetClick.bind(p()(t)),t._onDocumentClick=t._onDocumentClick.bind(p()(t)),t._onScroll=t._onScroll.bind(p()(t)),t._onMouseEnter=t._onMouseEnter.bind(p()(t)),t._onMouseLeave=t._onMouseLeave.bind(p()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){this.props.isVisible&&this._initPopper()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isDisabled&&(this._hide(),this._destroy(),this._listenerHistory(),this._listenerHistory=function(){})}},{key:"componentDidUpdate",value:function(){this.props.isVisible&&this._initPopper()}},{key:"componentWillUnmount",value:function(){this._listenerHistory(),this._removeListener(),this._destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.trigger,r=t.isDisabled,a=t.tag,i=t.className,o=t.isVisible;n.includes(w.d)&&o&&!this._listenerClickActive&&(this._listenerClickActive=!0,document.addEventListener("click",this._onDocumentClick)),n.includes(w.f)&&o&&!this._listenerScrollActive&&(this._listenerScrollActive=!0,window.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onScroll,{passive:!0}));var c={className:Object(S.a)("popper-wrapper",i),onMouseEnter:n.includes(w.e)&&!r?this._onMouseEnter:null,onMouseLeave:n.includes(w.e)&&!r?this._onMouseLeave:null,ref:function(t){return e._popperRef=t}};return E.a.createElement(a,c,this._renderTarget(),this._renderWrapper())}},{key:"_renderWrapper",value:function(){var e=this,t=this.props,n=t.isVisible,r=t.usePortal;if(!n)return null;var a=E.a.createElement("div",{className:"popper",ref:function(t){return e._contentRef=t},style:this._getPopperStyle()},this._renderPopper(),this._renderArrow());return r?Object(k.createPortal)(E.a.createElement(R.a,{onClickAway:this._onDocumentClick},a),document.body):a}},{key:"_renderTarget",value:function(){var e=this,t=this.props,n=t.children,r=t.tooltip,a=t.isVisible,i=E.a.cloneElement(n,{className:Object(S.a)(n.props.className,{"is-active":a}),onClick:this._onTargetClick,ref:function(t){return e._targetRef=Object(k.findDOMNode)(t)}});return r?E.a.createElement(P.a,r,i):i}},{key:"_renderPopper",value:function(){var t=this,n=this.props,r=n.data,a=n.isFullWidth,i=n.isVisible,c=n.params;return i?(a&&(r.size=w.a),E.a.createElement(e,o()({},r,c,{onClose:function(){return t._hide()}}))):null}},{key:"_renderArrow",value:function(){var e=this;if(!this.props.hasArrow)return null;var t={className:"popper-arrow",ref:function(t){return e._arrowRef=t}};return E.a.createElement("div",t)}},{key:"_onTargetClick",value:function(e){var t=this.props,n=t.children,r=t.trigger,a=t.isDisabled,i=t.closeOnClick,o=t.isVisible;r.includes(w.d)&&!a&&(o&&i?this._hide():this._show()),"function"==typeof n.props.onClick&&n.props.onClick(e)}},{key:"_onDocumentClick",value:function(e){this._popperRef.contains(e.target)||Object(b.a)(this,"_popper.popper")&&this._popper.popper.contains(e.target)||this._hide()}},{key:"_onScroll",value:function(){this._hide()}},{key:"_onMouseEnter",value:function(){var e=this,t=this.props.delay;t>0?this._showTimeout=window.setTimeout((function(){e._show()}),t):this._show()}},{key:"_onMouseLeave",value:function(e){e.relatedTarget!==window?this._hide():e.stopPropagation()}},{key:"_initPopper",value:function(){if(this._targetRef&&this._contentRef){var e={placement:this.props.placement,modifiers:{arrow:{enabled:this.props.hasArrow,element:this._arrowRef}}};this.props.usePortal&&(e.modifiers=I(I({},e.modifiers),{},{preventOverflow:{boundariesElement:"viewport"}})),this._popper=new T.a(this._targetRef,this._contentRef,e)}}},{key:"_getPopperStyle",value:function(){var e=this.props;return{display:e.isVisible?null:"none",width:e.isFullWidth?"100%":void 0,zIndex:e.usePortal?300:null}}},{key:"_show",value:function(){var e=this.props,t=e.popperId;e.isVisible||this.props.showPopper(t)}},{key:"_hide",value:function(){var e=this.props,t=e.isVisible,n=e.usePortal;this._clear(),t&&(this.props.hidePopper(),n&&this._destroy()),this._removeListener()}},{key:"_destroy",value:function(){this._unlisten&&this._unlisten(),this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"_clear",value:function(){this._showTimeout&&window.clearTimeout(this._showTimeout)}},{key:"_removeListener",value:function(){this.props.trigger.includes(w.d)&&(this._listenerClickActive=!1,document.removeEventListener("click",this._onDocumentClick)),this.props.trigger.includes(w.f)&&(this._listenerScrollActive=!1,window.removeEventListener("scroll",this._onScroll,{passive:!0}),window.removeEventListener("resize",this._onScroll,{passive:!0}))}}]),r}(_.Component);t.defaultProps={placement:"top",hasArrow:!0,trigger:[w.d],delay:0,closeOnClick:!0,isDisabled:!1,isFullWidth:!1,tag:"div",className:"",data:{},tooltip:null,usePortal:!1},C.a.addReducers({popper:x.a});return Object(O.c)((function(e,t){var n=e.popper,r=t.popperId;return{isVisible:Object(x.c)(n,r)}}),{showPopper:x.d,hidePopper:x.b})(t)}},"7npb":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("J4zp"),a=n.n(r);n("ma9I");function i(e){var t=a()(e,3),n=t[1],r=t[2];return r<85&&r>16&&n>17}function o(e){var t=a()(e,3),n=t[0],r=t[1],i=t[2],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;return"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(o,")")}},"9+BV":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"chevron-right"},e),r||(r=c.a.createElement("path",{d:"M7.3 6l-4.5 4.4a.9.9 0 0 0 0 1.3.8.8 0 0 0 1.3 0l5.2-5.1a.9.9 0 0 0 0-1.2L4.1.3a.9.9 0 0 0-1.3 0 .9.9 0 0 0 0 1.3z"})))}},"9Bja":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="ON_BOARDING",a="SELECT_PROFILE"},"9ae3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"check"},e),r||(r=c.a.createElement("path",{d:"M.833 5.333a.487.487 0 0 0-.69.688l3.79 3.785.345.344 7.578-7.568a.487.487 0 0 0-.689-.688l-6.889 6.88L.833 5.333z"})))}},"9bjC":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r),i=n("G4qV"),o=n("rod9"),c=n("Ef1d");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e){return e.player.config},u=function(e){return l(e).isRadio},d=Object(i.a)([l,function(e){return e.player.music}],(function(e,t){return t.isSponsored?c.a.SPONSORED:t.mediaType===o.b.EPISODE?c.a.PODCAST:t.mediaType===o.b.LIVE_STREAM?c.a.LIVESTREAM:t.mediaType===o.b.EXTERNAL?c.a.EXTERNAL_TRACK:e.playerType===o.d.ADS?c.a.AD:e.isBlindTestMode?c.a.BLINDTEST:e.isRadio?c.a.RADIO:e.playerType===o.d.TRITON_AD?c.a.TRITON_AD:c.a.STANDARD})),p=Object(i.a)([d],(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c.b[e])}))},"9mL2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n("fp5s"),a=(n("ma9I"),"-showPlaylists"),i="-showDescription",o=function(e,t){return e===t||e==="".concat(t).concat(a)||e==="".concat(t).concat(i)},c=function(e){return e?"context-menu-"+e:Object(r.a)("context-menu-")}},AeGG:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("/MKj"),o=n("MST+"),c=(n("yq1k"),n("JTJg"),n("3UQ0")),s=n("gGep"),l=n("0QAw"),u=function(e){var t=e.locale,n=e.darkMode,a=e.userId,i=Object(l.b)().dispatch;return Object(r.useEffect)((function(){window.location.pathname.includes("signout")||(window.onDzrGDPRReady=function(e){Object(c.a)(e,{lang:t,darkMode:n,userID:a,onConsentUpdate:function(e){var t;i((t=e,{type:s.a,value:t}))}})},Object(c.b)("gdpr-web-script"))}),[]),Object(r.useEffect)((function(){var e;null===(e=window.consentScreenApi)||void 0===e||e.update({darkMode:n,userID:a,lang:t})}),[n,t,a]),null};t.a=function(){var e=Object(i.f)((function(e){return Object(o.u)(e.user)})),t=Object(i.f)((function(e){return e.user.id?Object(o.R)(e.user):"dark"===document.body.dataset.theme})),n=Object(i.f)((function(e){return Object(o.J)(e.user)}));return a.a.createElement(u,{darkMode:t,userId:n,locale:e})}},AhQT:function(e){e.exports=JSON.parse('{"sortableCells":["AddDate","Title","Artist","Album"]}')},AhR9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r,a=n("J4zp"),i=n.n(a),o=n("7npb");!function(e){e.default="default",e.red="red",e.deepOrange="deep-orange",e.orange="orange",e.yellow="yellow",e.green="green",e.teal="teal",e.blue="blue",e.indigo="indigo",e.deepPurple="deep-purple",e.purple="purple",e.pink="pink"}(r||(r={}));var c=function(){return r.default},s=function(e){var t=i()(e,3),n=t[0],a=t[1],s=t[2],l=c();if(!1===Object(o.b)([n,a,s]))return l;switch(!0){case n>=0&&n<15:return r.red;case n>=15&&n<30:return r.deepOrange;case n>=30&&n<40:return r.orange;case n>=40&&n<65:return r.yellow;case n>=65&&n<155:return r.green;case n>=155&&n<185:return r.teal;case n>=185&&n<225:return r.blue;case n>=225&&n<240:return r.indigo;case n>=240&&n<280:return r.deepPurple;case n>=280&&n<320:return r.purple;case n>=320&&n<350:return r.pink;case n>=350&&n<=360:return r.red;default:return l}}},AvqT:function(e){e.exports=JSON.parse('{"cells":["Play","Dislike","Title","Explicit","Artist","Album","Duration","Checkbox"],"header":{"sorter":true,"dislike":true},"toolbar":{"sorter":true},"isDirectPlayAllowed":false,"infiniteScroll":true,"fillerHeight":true,"sorterStorageKey":"disliked","trackIndex":true}')},BEsB:function(e){e.exports=JSON.parse('{"availableOnly":true,"cells":["Play","EpisodeHeard","EpisodeTitle","Explicit","EpisodeInformation","EpisodeAdd","ShowName","Duration","EpisodeReleaseDate"],"shareType":8,"cover":"show","infiniteScroll":true,"fillerHeight":true}')},BM6a:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("VTBJ"),a=n("Ff2n"),i=n("q1tI"),o=n("vOnD"),c=n("DQuG");const s=Object(o.f)(["100%{transform:rotate(360deg);}"]),l=o.e.div.withConfig({componentId:"sk__sc-nk8qi4-0"})(["animation:"," 600ms infinite linear;border-color:",";border-radius:50%;border-style:solid;border-top-color:",";border-width:","px;display:inline-block;height:","px;width:","px;"],s,c.a.gray[100],c.a.gray[500],e=>e.$thickness,e=>e.$size,e=>e.$size);var u=n("nKUr");const d=["size","thickness"],p=Object(i.forwardRef)((e,t)=>{let{size:n=32,thickness:i=4}=e,o=Object(a.a)(e,d);return Object(u.jsx)(l,Object(r.a)({$size:n,$thickness:i,ref:t},o))});p.displayName="CircularProgress"},BQI7:function(e){e.exports=JSON.parse('{"default":{"center":true,"play":"force","preview":"off","favorite":"off","contextMenu":"off","dislike":"off","overlay":"on"},"profile_recently_played":{"center":false,"overlay":"on"}}')},Bm8f:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit"],"toolbar":false,"share":true,"trackIndex":true,"sorterStorageKey":"topArtist","selectAll":false,"forcePlayerReloadTrack":true}')},C7Hm:function(e,t,n){e.exports={"list-container":"JMvrB",listContainer:"JMvrB",filter:"_30a86"}},CGCA:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("wLYn"),n("q1tI")),v=n.n(m),y=n("/MKj"),g=n("Ye2i"),b=n("UrDj"),_=n.n(b);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var k=function(e){u()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(s()(r)),r}return o()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.closeOnClick,n=e.dispatchHidePopper,r=e.handleClick;r(),t&&n()}},{key:"render",value:function(){var e=this.props.children;return v.a.createElement("button",{className:_.a.root,type:"button",onClick:this.handleClick},e)}}]),n}(m.Component);k.defaultProps={closeOnClick:!0};var O={dispatchHidePopper:g.b};t.a=Object(y.c)(null,O)(k)},CZ9Y:function(e){e.exports=JSON.parse('{"cells":["Play","Variation","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Checkbox"],"header":{"contextMenu":true},"toolbar":{"playAll":true,"favorite":true,"shareType":3,"contextMenu":true,"edit":true,"filter":true},"trackIndex":true,"unseen":true,"infiniteScroll":true,"fillerHeight":true}')},Cnyj:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"off","preview":"off","favorite":"off","contextMenu":"off","dislike":"off"}}')},D7Xx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.isPaused()||e.isPlaying()?e.isPaused()?e.getPosition()?"resume":"play":"pause":"play"}},"Di+k":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("iuhU"),s=n("4ICa"),l=n.n(s);t.a=function(e){var t=e.children,n=e.isVisible,r=void 0===n||n,i=Object(c.a)(l.a.root,a()({},l.a.isClosed,!r));return o.a.createElement("div",{className:i},t)}},Dn8e:function(e,t,n){"use strict";var r=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)},a=n("LV2V"),i=n("SiRs"),o=Object(a.a)((function(e,t,n){return r(e,Object(i.a)(t)||0,n)}));t.a=o},Dwbg:function(e,t,n){e.exports={root:"R4bo7","is-extendable":"_29U76",isExtendable:"_29U76","is-extended":"_30B_u",isExtended:"_30B_u"}},E3mc:function(e,t,n){e.exports={"page-toast":"_2mybT",pageToast:"_2mybT",toast:"_3aQqn",body:"_ro5K"}},Ef1d:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("6BAd"),a=n("59tr"),i=n("Xqa1"),o=n("Pa05"),c=n("St1+"),s=n("ulcf"),l=n("z+rs"),u=n("zdGh"),d=n("nXLv"),p={ad:r,blindtest:a,standard:i,externalTrack:o,radio:c,livestream:s,podcast:l,sponsored:u,triton_ad:d},f={AD:"ad",BLINDTEST:"blindtest",STANDARD:"standard",EXTERNAL_TRACK:"externalTrack",RADIO:"radio",LIVESTREAM:"livestream",PODCAST:"podcast",SPONSORED:"sponsored",TRITON_AD:"triton_ad"}},FBGX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n("q1tI"),i=n.n(a),o=n("iuhU"),c=n("eHHa"),s=n("4QGD"),l=n.n(s);!function(e){e.NO_CONTENT="nocontent",e.PRIVATE="private",e.RECOMMENDATION="recommendation"}(r||(r={}));t.b=function(e){var t=e.img,n=void 0===t?r.NO_CONTENT:t,a=e.wording,s=void 0===a?Object(c.a)("Aucun résultat."):a,u=e.className;return i.a.createElement("div",{className:Object(o.a)(l.a.root,u)},i.a.createElement("div",{className:Object(o.a)(l.a.img,l.a[n])}),i.a.createElement("div",{className:l.a.text},s))}},FE7k:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));var r="components/Player/config/SET_BLIND_TEST_MODE",a="components/Player/config/UPDATED_PLAYER_TYPE",i="components/Player/config/SET_PLAYER_FULL",o="components/Player/config/SET_PLAYER_QUEUELIST",c="components/Player/config/SET_PLAYER_LYRICS"},FFbo:function(e,t,n){function r(e){this.options=e||{locator:{}}}function a(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function c(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new d,i=n.domBuilder||new a,c=n.errorHandler,s=n.locator,u=n.xmlns||{},p=/\/x?html?$/.test(t),f=p?l.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof a)return t;e=t}var r={},i=e instanceof Function;function c(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},c("warning"),c("error"),c("fatalError"),r}(c,i,s),r.domBuilder=n.domBuilder||i,p&&(u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?r.parse(e,u,f):r.errorHandler.error("invalid doc source"),i.doc},a.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var a=this.doc,o=a.createElementNS(e,n||t),c=r.length;s(this,o),this.currentElement=o,this.locator&&i(this.locator,o);for(var l=0;l<c;l++){e=r.getURI(l);var u=r.getValue(l),d=(n=r.getQName(l),a.createAttributeNS(e,n));this.locator&&i(r.getLocator(l),d),d.value=d.nodeValue=u,o.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),s(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=c.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=c.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),s(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&i(this.locator,a),s(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw new p(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){a.prototype[e]=function(){return null}}));var l=n("1KK4"),u=n("j3u8"),d=u.XMLReader,p=u.ParseError,f=t.DOMImplementation=n("wd0O").DOMImplementation;t.XMLSerializer=n("wd0O").XMLSerializer,t.DOMParser=r,t.__DOMHandler=a},FcjQ:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("17x9"),n("q1tI")),h=n.n(f),m=n("iuhU"),v=n("OuPr");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(e){s()(n,e);var t=y(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.size,a=Object(m.a)("popper-content",n,{"popper-sm":r===v.c,"popper-lg":r===v.b,"popper-full":r===v.a});return h.a.createElement("div",{className:a},t)}}]),n}(f.Component);g.defaultProps={className:"",size:null},t.a=g},G55l:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"arrow-right"},e),r||(r=c.a.createElement("path",{d:"M8.586 5L5.293 1.707A1 1 0 0 1 6.707.293l5 5a.997.997 0 0 1 0 1.414l-5 5a1 1 0 1 1-1.414-1.414L8.586 7H1a1 1 0 1 1 0-2h7.586z"})))}},G87E:function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=(n("wLYn"),n("17x9"),n("q1tI")),y=n.n(v),g=n("iuhU"),b=n("9ae3");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var E=function(e){d()(n,e);var t=_(n);function n(e){var r;return i()(this,n),(r=t.call(this,e))._onChange=r._onChange.bind(l()(r)),r}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type,r=e.id,a=e.as,i=e.value,o=e.checked,c=e.disabled,s=Object(g.a)("input-".concat(n),t,{"is-checked":o,"is-disabled":c}),l=a,u={className:"input-control",type:"radio"===n?"radio":"checkbox",id:r,value:i};return c?(u.disabled=c,u.defaultChecked=o):(u.checked=o,u.onChange=this._onChange),y.a.createElement(l,{className:s},y.a.createElement("input",u),this._renderTick())}},{key:"_renderTick",value:function(){return"checkbox"!==this.props.type?null:r||(r=y.a.createElement(b.a,{className:"checkbox-tick"}))}},{key:"_onChange",value:function(e){var t=e.target,n=t.value,r=t.checked;this.props.onChange(""!==n?n:r)}}]),n}(v.Component);E.defaultProps={className:"",type:"checkbox",id:null,value:"",as:"label",checked:!1,disabled:!1,onChange:function(){}},E.TYPE_CHECKBOX="checkbox",E.TYPE_RADIO="radio",E.TYPE_SWITCH="switch",t.a=E},GKVU:function(e,t,n){"use strict";var r=n("I+eb"),a=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("anchor")},{anchor:function(e){return a(this,"a","name",e)}})},GOkl:function(e,t,n){"use strict";n("SuFq");var r,a,i,o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=n("q1tI"),y=n.n(v),g=n("/MKj"),b=n("eHHa"),_=n("CGCA"),E=n("zs5+"),k=n("SZ5K"),O=n("2KzU"),S=n("LQWP"),T=n("wCa9"),R=n("5gQe");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var N=function(e){d()(n,e);var t=C(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"renderChevron",value:function(){return"ltr"===this.props.langDirection?r||(r=y.a.createElement(O.a,null)):a||(a=y.a.createElement(S.a,null))}},{key:"render",value:function(){var e=this.props.handleClick;return y.a.createElement(_.a,{handleClick:function(){e(R.a.PLAYLISTS)},closeOnClick:!1},i||(i=y.a.createElement(E.a,null,y.a.createElement(T.a,null))),y.a.createElement(k.a,{isShort:!0,value:Object(b.a)("Ajouter à une playlist")+"..."}),y.a.createElement(E.a,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}]),n}(v.Component);t.a=Object(g.c)((function(e){return{langDirection:e.user.DIRECTION}}))(N)},GQjm:function(e){e.exports=JSON.parse('{"availableOnly":false,"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Artist","Album","Duration","Popularity","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true},"toolbar":{"playAll":true,"contextMenu":true},"infiniteScroll":true,"trackIndex":true,"unseen":true}')},GZV5:function(e,t,n){"use strict";var r=n("vVa8"),a={};t.a=function(e,t){if(!window||!window.Intl||!window.Intl.Collator)return e<t?-1:1;var n=r.a.getState().user.SETTING_LOCALE;return{}.hasOwnProperty.call(a,n)||(a[n]=new Intl.Collator([n,"en-US"])),a[n].compare(e,t)}},GbZW:function(e,t,n){e.exports={root:"_2MV1S"}},H2c4:function(e,t,n){"use strict";n("SuFq");var r=n("pVnL"),a=n.n(r),i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("R5XZ"),n("17x9"),n("q1tI")),g=n.n(y),b=n("/MKj"),_=n("i8i4"),E=n.n(_),k=n("2Hu5"),O=(n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8"),n("lSNA")),S=n.n(O),T=n("iuhU"),R=(n("yXV3"),n("rB9j"),n("UxlC"),n("Rfxz"),n("vVa8")),C={getPositions:function(e,t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=r.top+window.pageYOffset;return{top:{top:a-n.height,left:r.left+r.width/2-n.width/2},bottom:{top:a+r.height,left:r.left+(r.width-n.width)/2},left:{top:a+r.height/2-n.height/2,left:r.left-n.width},right:{top:a+r.height/2-n.height/2,left:r.left+r.width},"left-top":{top:a+r.height/2-n.height,left:r.left-n.width},"right-top":{top:a+r.height/2-n.height,left:r.left+r.width},"left-bottom":{top:a+r.height/2,left:r.left-n.width},"right-bottom":{top:a+r.height/2,left:r.left+r.width},"top-left":{top:a-n.height,left:r.left+r.width-(n.width+r.width/2-20-5)},"top-right":{top:a-n.height,left:r.left+r.width/2-20-5},"bottom-left":{top:a+r.height/2,left:r.left+r.width-(n.width+r.width/2-20-5)},"bottom-right":{top:a+r.height/2,left:r.left+r.width/2-20-5}}},getPositionForRtl:function(e){if("rtl"===R.a.getState().user.DIRECTION){if(-1!==e.indexOf("right"))return e.replace("right","left");if(-1!==e.indexOf("left"))return e.replace("left","right")}return e},checkPosition:function(e,t,n){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=this.getClipping(a,r,n),o=i.isOverTop,c=i.isOverBottom,s=i.isOverLeft,l=i.isOverRight;if(o&&c&&s&&l)return n;var u={top:!o&&!s&&!l,bottom:!c&&!s&&!l,left:!s&&!o&&!c,right:!l&&!o&&!c,"left-top":!s&&!o,"left-bottom":!s&&!c,"right-top":!l&&!o,"right-bottom":!l&&!c},d=n;if(Object.keys(u).some((function(e){return!!u[e]&&(d=e,!0)})),!u[n])switch(n){case"top":n=s?u["right-top"]?"right-top":d:l?u["left-top"]?"left-top":d:u.bottom?"bottom":d;break;case"bottom":n=s?u["right-bottom"]?"right-bottom":d:l?u["left-bottom"]?"left-bottom":d:u.top?"top":d;break;case"left":n=o?u["left-bottom"]?"left-bottom":d:c?u["right-bottom"]?"right-bottom":d:u.right?"right":d;break;case"right":n=o?u["right-bottom"]?"right-bottom":d:c?u["right-top"]?"right-top":d:u.left?"left":d;break;case"left-top":n=o?u["left-bottom"]?"left-bottom":d:u["right-top"]?"right-top":d;break;case"right-top":n=o?u["right-bottom"]?"right-bottom":d:u["left-top"]?"left-top":d;break;case"left-bottom":n=c?u["left-top"]?"left-top":d:u["right-bottom"]?"right-bottom":d;break;case"right-bottom":n=c?u["right-top"]?"right-top":d:u["left-bottom"]?"left-bottom":d}return n},getClipping:function(e,t,n){var r=window.innerHeight,a=window.innerWidth,i=t.width,o=t.height;return"top"!==n&&"bottom"!==n||(i/=2),"left"!==n&&"right"!==n||(o/=2),r<2*o&&a<2*i?{isOverTop:!0,isOverBottom:!0,isOverLeft:!0,isOverRight:!0}:{isOverTop:e.top-e.height<o,isOverBottom:e.top+e.height+o>r,isOverLeft:e.left-i<=0,isOverRight:e.left+e.width+i>a}}};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var w,A,I=function(e){p()(n,e);var t=P(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onShow=r._onShow.bind(u()(r)),r._onHide=r._onHide.bind(u()(r)),r.state={displayed:!1,style:{left:0,top:0}},r._tooltipRef=g.a.createRef(),r}return s()(n,[{key:"componentDidMount",value:function(){k.a.subscribe(k.a.tooltip.show,this._onShow),k.a.subscribe(k.a.tooltip.hide,this._onHide)}},{key:"componentWillUnmount",value:function(){k.a.unsubscribe(k.a.tooltip.show,this._onShow),k.a.unsubscribe(k.a.tooltip.hide,this._onHide)}},{key:"render",value:function(){var e=this.state,t=e.position,n=e.displayed,r=e.style,i=e.text,o=e.html,c=t?"tooltip-".concat(t):null,s={className:Object(T.a)("tooltip",c,{show:n}),style:r,ref:this._tooltipRef,role:"tooltip","aria-hidden":!n};return!0===o?g.a.createElement("div",a()({},s,{dangerouslySetInnerHTML:{__html:i}})):g.a.createElement("div",s,i)}},{key:"_onShow",value:function(e,t){var n=this;this.setState(x(x({},t),{},{displayed:!0}),(function(){n.setState({style:n._getPosition(t)})}))}},{key:"_onHide",value:function(){this.setState({displayed:!1,style:{left:0,top:0}})}},{key:"_getPosition",value:function(e){if(e&&{}.hasOwnProperty.call(e,"element")&&{}.hasOwnProperty.call(e,"position"))return C.getPositions(e.element,this._tooltipRef.current)[e.position]}}]),n}(y.Component);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var D=function(e){p()(n,e);var t=j(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onEnter=r._onEnter.bind(u()(r)),r._onLeave=r._onLeave.bind(u()(r)),r}return s()(n,[{key:"componentDidMount",value:function(){void 0===A&&(A=document.createElement("div"),document.body.appendChild(A),E.a.render(w||(w=g.a.createElement(I,null)),A))}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout),k.a.trigger(k.a.tooltip.hide)}},{key:"render",value:function(){var e=this,t=this.props.children,n={onMouseEnter:this._onEnter,onMouseLeave:this._onLeave,onMouseUp:this._onLeave,ref:function(n){e.tooltipNode=n,"function"==typeof t.ref&&t.ref(n)}};return"string"==typeof t.type?g.a.cloneElement(t,n):g.a.createElement("div",a()({className:"tooltip-wrapper"},n),t)}},{key:"_onEnter",value:function(){var e=this,t=this.props,n=t.children,r=t.text,a=t.html,i=t.delay;n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter.apply(n,arguments),clearTimeout(this._timeout),this._timeout=setTimeout((function(){k.a.trigger(k.a.tooltip.show,{text:r,html:a,position:e._getPosition(),element:e.tooltipNode})}),i)}},{key:"_onLeave",value:function(){var e=this.props.children;e.props&&"function"==typeof e.props.onMouseLeave&&e.props.onMouseLeave.apply(e,arguments),clearTimeout(this._timeout),k.a.trigger(k.a.tooltip.hide)}},{key:"_getPosition",value:function(){var e=this.props,t=e.position,n=e.langDirection;return"rtl"===n&&"right"===t?"left":"rtl"===n&&"left"===t?"right":t}}]),n}(y.PureComponent);D.defaultProps={html:!1,position:"top",delay:0};var L=Object(b.c)((function(e){return{langDirection:e.user.DIRECTION}}))(D);t.a=L},HA5M:function(e,t,n){"use strict";var r;n("rB9j"),n("UxlC"),n("sMBO");function a(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}r=document.head&&document.head.dataset?{set:function(e,t,n){e.dataset[t]=n},get:function(e,t){return e.dataset[t]},del:function(e,t){delete e.dataset[t]},getAll:function(e){return e.dataset}}:{set:function(e,t,n){return e.setAttribute("data-"+a(t),n),n},get:function(e,t){var n=e.getAttribute("data-"+a(t));return null===n?void 0:n},del:function(e,t){return e.removeAttribute("data-"+a(t)),!0},getAll:function(e){for(var t,n,r={},a=0;a<e.attributes.length;a++)"data-"===(t=e.attributes[a].name).substr(0,5)&&(r[(n=t.substr(5),n.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=e.attributes[a].value);return r}};var i={addEventListener:function(e,t,n,r){"boolean"!=typeof r&&(r=!1),e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n,r){"boolean"!=typeof r&&(r=!1),e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},dataset:function(e,t,n){var a={set:function(t,n){return r.set(e,t,n),a},get:function(t){return r.get(e,t)},del:function(t){return r.del(e,t),a}};function i(){return r.getAll(e)}return 3===arguments.length?a.set(t,n):2===arguments.length?a.get(t):i()}};t.a=i},HYrp:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("17x9"),n("q1tI")),h=n.n(f),m=n("iuhU");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.counter,n=e.type,r=e.className;if(0===t)return!1;var a=Object(m.a)("badge","badge-".concat(n),r);return h.a.createElement("span",{className:a,"aria-hidden":!0},t<100?t:"99+")}}]),n}(f.PureComponent);y.defaultProps={counter:0,type:"info",className:""},t.a=y},Hn4B:function(e){e.exports=JSON.parse('{"cells":["Play","Variation","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Checkbox"],"header":{"contextMenu":true},"toolbar":{"playAll":true,"favorite":true,"shareType":3,"contextMenu":true,"filter":true},"trackIndex":true,"unseen":true,"infiniteScroll":true,"fillerHeight":true}')},I5xK:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return m}));var r="",a="ART_NAME",i="ALB_TITLE",o="DATE_UPDATE",c="DATE_CREATE",s="PLAYLIST_TITLE",l="APP_NAME",u="TOP_ALBUM",d="TOP_PLAYLIST",p="SHOW_NAME",f="DATE_FAVORITE",h="RELEASE_DATE",m="ALB_RANK"},IITy:function(e,t,n){e.exports={root:"_23e7I","is-active":"_2X-Bs",isActive:"_2X-Bs","is-right":"_3WsnD",isRight:"_3WsnD","is-small":"_1cUdi",isSmall:"_1cUdi"}},IIwU:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return f}));n("tkto");var r=n("eHHa");function a(e){for(var t=e.layout_parameters||{},n=t.override||{},r=0,a=["title","subtitle","theme","pictures"];r<a.length;r++){var i=a[r];void 0!==e[i]&&(n[i]=e[i])}return Object.keys(n).length&&(t.override=n),Object.keys(t).length?t:void 0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t?e&&e.override&&e.override[t]||void 0:e&&e.override||void 0}function o(e){return e&&e.is_promoted||!1}var c={TYPE:{PLAY:"play",WATCH:"watch",BROWSE:"browse"},LABEL:{BROWSE:Object(r.a)("DÉCOUVRIR"),PAUSE:Object(r.a)("PAUSE")}};function s(e){return e&&e.cta&&e.cta.type||null}function l(e){return s(e)===c.TYPE.PLAY}var u={SLIDE:"slide",MINI_BANNER:"mini-banner"};function d(e){return e&&e.item_layout||null}function p(e){return d(e)===u.SLIDE}function f(e){return d(e)===u.MINI_BANNER}},IMPd:function(e,t){!function(){var t,n,r,a,i,o,c,s,l,u,d,p,f,h,m,v,y,g=null,b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function T(){this.next=null,this.list=null}function R(){this.e=0,this.b=0,this.n=0,this.t=null}function C(e,t,n,r,a,i){var o;this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;var c,s,l,u,d,p,f,h,m,v,y,g,b,_,E,k,O=[],S=[],C=new R,N=[],x=[],P=[];for(k=this.root=null,d=0;d<this.BMAX+1;d++)O[d]=0;for(d=0;d<this.BMAX+1;d++)S[d]=0;for(d=0;d<this.BMAX;d++)N[d]=null;for(d=0;d<this.N_MAX;d++)x[d]=0;for(d=0;d<this.BMAX+1;d++)P[d]=0;c=t>256?e[256]:this.BMAX,h=e,m=0,d=t;do{O[h[m]]++,m++}while(--d>0);if(O[0]===t)return this.root=null,this.m=0,void(this.status=0);for(p=1;p<=this.BMAX&&0===O[p];p++);for(f=p,i<p&&(i=p),d=this.BMAX;0!==d&&0===O[d];d--);for(l=d,i>d&&(i=d),b=1<<p;p<d;p++,b<<=1)if((b-=O[p])<0)return this.status=2,void(this.m=i);if((b-=O[d])<0)return this.status=2,void(this.m=i);for(O[d]+=b,P[1]=p=0,h=O,m=1,g=2;--d>0;)P[g++]=p+=h[m++];h=e,m=0,d=0;do{0!==(p=h[m++])&&(x[P[p]++]=d)}while(++d<t);for(t=P[l],P[0]=d=0,h=x,m=0,u=-1,y=S[0]=0,v=null,_=0;f<=l;f++)for(o=O[f];o-- >0;){for(;f>y+S[1+u];){if(y+=S[1+u],u++,_=(_=l-y)>i?i:_,(s=1<<(p=f-y))>o+1)for(s-=o+1,g=f;++p<_&&!((s<<=1)<=O[++g]);)s-=O[g];for(y+p>c&&y<c&&(p=c-y),_=1<<p,S[1+u]=p,v=[],E=0;E<_;E++)v[E]=new R;(k=k?k.next=new T:this.root=new T).next=null,k.list=v,N[u]=v,u>0&&(P[u]=d,C.b=S[u],C.e=16+p,C.t=v,p=(d&(1<<y)-1)>>y-S[u],N[u-1][p].e=C.e,N[u-1][p].b=C.b,N[u-1][p].n=C.n,N[u-1][p].t=C.t)}for(C.b=f-y,m>=t?C.e=99:h[m]<n?(C.e=h[m]<256?16:15,C.n=h[m++]):(C.e=a[h[m]-n],C.n=r[h[m++]-n]),s=1<<f-y,p=d>>y;p<_;p+=s)v[p].e=C.e,v[p].b=C.b,v[p].n=C.n,v[p].t=C.t;for(p=1<<f-1;0!=(d&p);p>>=1)d^=p;for(d^=p;(d&(1<<y)-1)!==P[u];)y-=S[u],u--}this.m=S[1],this.status=0!==b&&1!==l?1:0}function N(e){for(;c<e;)o|=(v.length===y?-1:255&v[y++])<<c,c+=8}function x(e){return o&b[e]}function P(e){o>>=e,c-=e}function w(e,r,a){var i,o,c;if(0===a)return 0;for(c=0;;){for(N(h),i=(o=p.list[x(h)]).e;i>16;){if(99===i)return-1;P(o.b),N(i-=16),i=(o=o.t[x(i)]).e}if(P(o.b),16!==i){if(15===i)break;for(N(i),u=o.n+x(i),P(i),N(m),i=(o=f.list[x(m)]).e;i>16;){if(99===i)return-1;P(o.b),N(i-=16),i=(o=o.t[x(i)]).e}for(P(o.b),N(i),d=n-o.n-x(i),P(i);u>0&&c<a;)u--,d&=32767,n&=32767,e[r+c++]=t[n++]=t[d++];if(c===a)return a}else if(n&=32767,e[r+c++]=t[n++]=o.n,c===a)return a}return s=-1,c}function A(e,r,a){var i;if(P(i=7&c),N(16),i=x(16),P(16),N(16),i!==(65535&~o))return-1;for(P(16),u=i,i=0;u>0&&i<a;)u--,n&=32767,N(8),e[r+i++]=t[n++]=x(8),P(8);return 0===u&&(s=-1),i}function I(e,t,n){if(!g){var o,c,s=[];for(o=0;o<144;o++)s[o]=8;for(;o<256;o++)s[o]=9;for(;o<280;o++)s[o]=7;for(;o<288;o++)s[o]=8;if(0!==(c=new C(s,288,257,_,E,a=7)).status)return console.error("HufBuild error: "+c.status),-1;for(g=c.root,a=c.m,o=0;o<30;o++)s[o]=5;if((c=new C(s,30,0,k,O,i=5)).status>1)return g=null,console.error("HufBuild error: "+c.status),-1;r=c.root,i=c.m}return p=g,f=r,h=a,m=i,w(e,t,n)}function j(e,t,n){var r,a,i,o,c,s,l,u,d,v=[];for(r=0;r<316;r++)v[r]=0;if(N(5),l=257+x(5),P(5),N(5),u=1+x(5),P(5),N(4),s=4+x(4),P(4),l>286||u>30)return-1;for(a=0;a<s;a++)N(3),v[S[a]]=x(3),P(3);for(;a<19;a++)v[S[a]]=0;if(0!==(d=new C(v,19,19,null,null,h=7)).status)return-1;for(p=d.root,h=d.m,o=l+u,r=i=0;r<o;)if(N(h),P(a=(c=p.list[x(h)]).b),(a=c.n)<16)v[r++]=i=a;else if(16===a){if(N(2),a=3+x(2),P(2),r+a>o)return-1;for(;a-- >0;)v[r++]=i}else if(17===a){if(N(3),a=3+x(3),P(3),r+a>o)return-1;for(;a-- >0;)v[r++]=0;i=0}else{if(N(7),a=11+x(7),P(7),r+a>o)return-1;for(;a-- >0;)v[r++]=0;i=0}if(d=new C(v,l,257,_,E,h=9),0===h&&(d.status=1),0!==d.status&&1!==d.status)return-1;for(p=d.root,h=d.m,r=0;r<u;r++)v[r]=v[r+l];return d=new C(v,u,0,k,O,m=6),f=d.root,0===(m=d.m)&&l>257||0!==d.status?-1:w(e,t,n)}function D(e,r,a){var i,o;for(i=0;i<a;){if(l&&-1===s)return i;if(u>0){if(0!==s)for(;u>0&&i<a;)u--,d&=32767,n&=32767,e[r+i++]=t[n++]=t[d++];else{for(;u>0&&i<a;)u--,n&=32767,N(8),e[r+i++]=t[n++]=x(8),P(8);0===u&&(s=-1)}if(i===a)return i}if(-1===s){if(l)break;N(1),0!==x(1)&&(l=!0),P(1),N(2),s=x(2),P(2),p=null,u=0}switch(s){case 0:o=A(e,r+i,a-i);break;case 1:o=p?w(e,r+i,a-i):I(e,r+i,a-i);break;case 2:o=p?w(e,r+i,a-i):j(e,r+i,a-i);break;default:o=-1}if(-1===o)return l?0:-1;i+=o}return i}e.exports=function(e){var r,a=[];t||(t=[]),n=0,o=0,c=0,s=-1,l=!1,u=d=0,p=null,v=e,y=0;do{r=D(a,a.length,1024)}while(r>0);return v=null,a}}()},INFm:function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=n("7EGn"),y=(n("2B1R"),n("sMBO"),n("wLYn"),n("TeQF"),n("yXV3"),n("qePV"),n("B6y2"),n("q1tI")),g=n.n(y),b=n("/MKj"),_=n("eHHa"),E=n("vRnm"),k=n("O397"),O=n("bkRl"),S=n("Z4IH"),T=n("9z3s"),R=n("XoLw"),C=n("hIZU"),N=n("MST+"),x=n("KwjQ"),P=n("QJB2"),w=n("zs5+"),A=n("CGCA"),I=n("SZ5K"),j=n("J4zp"),D=n.n(j),L=n("iR1w"),M=g.a.createContext({addToPlaylist:function(){},isVisible:!1}),F=function(e){var t=e.index,n=e.style,r=e.data[t],a=g.a.useContext(M).addToPlaylist,i=g.a.useCallback((function(){a(r.PLAYLIST_ID,t)}),[a,r,t]);return g.a.createElement("li",{style:n},g.a.createElement(A.a,{handleClick:i},g.a.createElement(I.a,{value:r.TITLE})))},B=n("C7Hm"),H=n.n(B),U=function(e){var t=e.playlistList,n=g.a.useState(0),r=D()(n,2),a=r[0],i=r[1],o=g.a.useRef(null),c=g.a.useContext(M).isVisible;return g.a.useEffect((function(){o.current&&c&&i(o.current.clientHeight)}),[c]),g.a.createElement("div",{ref:o,className:H.a.listContainer,onScroll:function(e){return e.stopPropagation()}},g.a.createElement("ul",null,g.a.createElement(L.a,{height:a,itemCount:t.length,itemSize:48,width:330,itemData:t},F)))},z=n("xz3/"),V=n("vx5L"),q=n("5gQe"),G=n("NSSb"),Y=n("I5xK");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Q=function(e){d()(n,e);var t=W(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={filter:"",filteredPlaylists:null},r.addToPlaylist=function(e,t){var n=r.props,a=n.context,i=n.userLovedTracksId,o=n.serverTimestamp,c=n.clientTimestampDelta,s=n.dispatchAddMultipleFavorites,l=n.dispatchAddPlaylistSongs;if(e===i){var u=r.getSongIdList().map((function(e){return String(e[0])})),d=Object(N.g)({SERVER_TIMESTAMP:o,clientTimestampDelta:c});s(u,T.a.Song,d,{id:a.ID,t:a.TYPE}).catch((function(e){"ERROR_DATA_EXISTS"!==e.name?"QUOTA_ERROR"!==e.name?R.a.error(e):Object(x.a)({body:Object(_.a)("notification_text_maxnumberoftracksreached_web")}):Object(x.a)({body:Object(_.a)("playlist_action_tracksalreadyaddedtotheplaylist_web")})}))}else{l({playlist_id:e,song_id_list:r.getSongIdList(),data:{context:a,position:t}}).catch((function(e){Object(x.a)({body:e.message})}))}},r.handleChangeFilter=r.handleChangeFilter.bind(l()(r)),r.handleClickCreatePlaylist=r.handleClickCreatePlaylist.bind(l()(r)),r}return c()(n,[{key:"getFilteredPlaylists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.filter,t=this.props.playlists,n=null;return""!==e&&(n=t.filter((function(t){return t.TITLE.toLowerCase().indexOf(e)>-1}))),n}},{key:"getSongIdList",value:function(){return this.props.ids.map((function(e){return[String(e),Number(e)>0?0:1]}))}},{key:"handleChangeFilter",value:function(e){var t=Object(v.a)(e,"target.value","").toLowerCase();t!==this.state.filter&&this.setState({filter:t,filteredPlaylists:this.getFilteredPlaylists(t)})}},{key:"handleClickCreatePlaylist",value:function(){var e=this.props,t=e.dispatchOpenModal,n=e.ids;t({name:"PLAYLIST_ASSISTANT",props:{type:G.a.CREATION,sngId:n}})}},{key:"renderCreatePlaylist",value:function(){return g.a.createElement(A.a,{handleClick:this.handleClickCreatePlaylist},r||(r=g.a.createElement(w.a,{isActive:!0},g.a.createElement(V.a,null))),g.a.createElement(I.a,{isActive:!0,value:Object(_.a)("Nouvelle playlist")}))}},{key:"renderFilter",value:function(){var e=this.state.filter;return g.a.createElement("div",{className:H.a.filter},g.a.createElement(z.a,{onChange:this.handleChangeFilter,size:"sm",placeholder:Object(_.a)("Rechercher"),value:e}))}},{key:"render",value:function(){var e=this.props,t=e.handleBackClick,n=e.playlists,r=e.isVisible,a=this.state.filteredPlaylists||n;return g.a.createElement(g.a.Fragment,null,g.a.createElement(P.a,{handleClick:t}),this.renderFilter(),this.renderCreatePlaylist(),g.a.createElement(M.Provider,{value:{addToPlaylist:this.addToPlaylist,isVisible:r}},g.a.createElement(U,{playlistList:a})))}}]),n}(y.Component);Q.panelName=q.a.PLAYLISTS;var K={dispatchAddMultipleFavorites:C.c,dispatchAddPlaylistSongs:k.a,dispatchOpenModal:O.c};t.a=Object(b.c)((function(e){var t=e.entities,n=e.feedbacks,r=e.user;return{clientTimestampDelta:Object(N.d)(r),playlists:Object(S.a)(Object.values(Object(E.e)(t,n,Object(N.J)(r),!0)),Y.g,T.a.Playlist),userLovedTracksId:Object(N.w)(r),serverTimestamp:Object(N.G)(r)}}),K)(Q)},Izz6:function(e,t,n){},"J/1v":function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Popularity","Duration","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true},"toolbar":{"playAll":true,"filter":true},"sorterStorageKey":"topArtistFull","infiniteScroll":true,"fillerHeight":true,"trackIndex":true,"forcePlayerReloadTrack":false}')},KnFE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"chevron-down"},e),r||(r=c.a.createElement("path",{d:"M6.013 8.998a.61.61 0 0 0 .416-.169l2.661-2.1 2.662-2.102c.654-.517-.12-1.498-.775-.981l-2.483 1.96-2.482 1.96-4.99-3.921c-.656-.515-1.428.468-.773.983L5.597 8.83a.61.61 0 0 0 .416.168z"})))}},KuUs:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("rePB"),a=n("q1tI"),i=n("i8i4"),o=n("jEe0");class c extends a.Component{constructor(e){super(e),Object(r.a)(this,"rootNode",null),this.handleClickAway=this.handleClickAway.bind(this)}componentDidMount(){this.rootNode=Object(i.findDOMNode)(this),o.c&&document.addEventListener("click",this.handleClickAway)}componentWillUnmount(){o.c&&document.removeEventListener("click",this.handleClickAway)}render(){return this.props.children}handleClickAway(e){if(e.defaultPrevented)return;if(!this.rootNode)return;const t=this.rootNode.ownerDocument,n=e.target;if(n instanceof Element){const r=t&&t.documentElement.contains(n),a=this.rootNode.contains(n);r&&!a&&this.props.onClickAway(e)}}}},L3kz:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r,a,i=n("VkAN"),o=n.n(i),c=n("l8Gu"),s=n("UYTu"),l=n("fDhA"),u=Object(s.a)(r||(r=o()(["\n\tfragment AlbumMasthead on Album {\n\t\t...AlbumBase\n\t\tduration\n\t\treleaseDate\n\t\tfansCount\n\t\tisExplicit\n\t}\n\t","\n"])),l.a),d=Object(s.a)(a||(a=o()(["\n\tquery AlbumFull($albumId: String!) {\n\t\talbum(albumId: $albumId) {\n\t\t\t...AlbumMasthead\n\t\t}\n\t}\n\t","\n"])),u);function p(e){return Object(c.e)(d,e)}},L4cb:function(e,t,n){e.exports={"input-sorter-loader":"_6YCVL",inputSorterLoader:"_6YCVL"}},LFSw:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p}));var r=n("lSNA"),a=n.n(r),i=n("QILm"),o=n.n(i),c=(n("fbCW"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8"),["eventcategory","eventaction","eventlabel"]);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(){if(window.dataLayer){var e=window.dataLayer.find((function(e){return e.pagename}));if("undefined"!==e.pagename)return e.pagename}return null},u=function(e){var t=e.eventcategory,n=e.eventaction,r=e.eventlabel,i=void 0===r?"":r,l=o()(e,c);t&&n&&window.dataLayer&&window.dataLayer.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:"click",eventcategory:t,eventaction:n,eventlabel:i},l))},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";document.getElementById(e)&&document.getElementById(e).addEventListener("click",(function(){u({eventcategory:t,eventaction:n,eventlabel:r})}))},p=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=document.getElementsByClassName(e),i=function(e){a[e].addEventListener("click",(function(){var i=a[e].getAttribute("data-tracking-type")?a[e].getAttribute("data-tracking-type"):r;u({eventcategory:t,eventaction:n,eventlabel:i})}))},o=0;o<a.length;o++)i(o)},f={trackElementClick:d,trackElementsClick:p,pushClickEventGtm:u,pushEventToGTM:function(e){window.dataLayer&&window.dataLayer.push(e)},getPageName:l};t.a=f},LQZe:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PLAY="play",e.PLAY_NEXT="play_next",e.PLAY_RADIO="play_radio"}(r||(r={}))},LUYa:function(e,t,n){e.exports={root:"_8ajRq"}},Lsfk:function(e,t,n){e.exports={root:"_3byAq",active:"_3hNAe",pending:"_3OADl"}},LvGN:function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("q1tI")),g=n.n(y),b=n("Ty5D"),_=n("eHHa"),E=n("OCk3"),k=n("9z3s"),O=n("CGCA"),S=n("zs5+"),T=n("SZ5K"),R=n("N9g0"),C=n("paHo"),N=n("LQZe");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var P=function(e){p()(n,e);var t=x(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(u()(r)),r}return s()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.action,n=e.context,r=e.ids,a=e.type,i=e.trackIndex;"queuelist"===n.TYPE&&t===N.a.PLAY&&i?E.c.playTrackAtIndex(i):("artist"===n.TYPE&&t===N.a.PLAY_RADIO&&(this.props.history.push("/artist/".concat(r[0])),n.TYPE="artist_smartradio"),E.c.play({addNext:t===N.a.PLAY_NEXT,context:n,id:a===k.a.Song||a===k.a.Track?r:r[0],radio:t===N.a.PLAY_RADIO,type:a}))}},{key:"render",value:function(){return this.props.action===N.a.PLAY_NEXT?g.a.createElement(O.a,{handleClick:this.handleClick},r||(r=g.a.createElement(S.a,null,g.a.createElement(R.a,null))),g.a.createElement(T.a,{value:Object(_.a)("Écouter juste après")})):g.a.createElement(O.a,{handleClick:this.handleClick},a||(a=g.a.createElement(S.a,null,g.a.createElement(C.a,null))),g.a.createElement(T.a,{value:Object(_.a)("Lancer le mix")}))}}]),n}(y.Component);t.a=Object(b.i)(P)},M3gt:function(e,t,n){"use strict";var r=n("q1tI");var a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;r._lastRenderedStartIndex=t,r._lastRenderedStopIndex=n,r._ensureRowsLoaded(t,n)},r._setRef=function(e){r._listRef=e},o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){0}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,r=n.isItemLoaded,a=n.itemCount,i=n.minimumBatchSize,o=void 0===i?10:i,c=n.threshold,s=void 0===c?15:c,l=function(e){for(var t=e.isItemLoaded,n=e.itemCount,r=e.minimumBatchSize,a=e.startIndex,i=e.stopIndex,o=[],c=null,s=null,l=a;l<=i;l++){t(l)?null!==s&&(o.push(c,s),c=s=null):(s=l,null===c&&(c=l))}if(null!==s){for(var u=Math.min(Math.max(s,c+r-1),n-1),d=s+1;d<=u&&!t(d);d++)s=d;o.push(c,s)}if(o.length)for(;o[1]-o[0]+1<r&&o[0]>0;){var p=o[0]-1;if(t(p))break;o[0]=p}return o}({isItemLoaded:r,itemCount:a,minimumBatchSize:o,startIndex:Math.max(0,e-s),stopIndex:Math.min(a-1,t+s)});(this._memoizedUnloadedRanges.length!==l.length||this._memoizedUnloadedRanges.some((function(e,t){return l[t]!==e})))&&(this._memoizedUnloadedRanges=l,this._loadUnloadedRanges(l))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows,r=function(r){var a=e[r],i=e[r+1],o=n(a,i);null!=o&&o.then((function(){if(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,a=e.stopIndex;return!(r>n||a<t)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:a,stopIndex:i})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(a,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))},a=0;a<e.length;a+=2)r(a)}}]),t}(r.PureComponent);t.a=c},MihO:function(e,t,n){"use strict";n("ma9I");var r,a,i=n("q1tI"),o=n.n(i),c=n("zs5+"),s=n("SZ5K"),l=n("uLqA"),u=n("MvJI");t.a=function(e){var t=e.id,n=e.type;return o.a.createElement(l.a,{href:"https://tag-editor.deez.re/?q=".concat(t,"&type[0]=").concat(n,"s"),isExternal:!0},r||(r=o.a.createElement(c.a,null,o.a.createElement(u.a,null))),a||(a=o.a.createElement(s.a,{value:"Edit Tags"})))}},MwvU:function(e,t,n){"use strict";n("SuFq");var r,a,i,o,c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("a1gu"),v=n.n(m),y=n("Nsbk"),g=n.n(y),b=(n("wLYn"),n("q1tI")),_=n.n(b),E=n("/MKj"),k=n("Nwl0"),O=n("eHHa"),S=n("rb98"),T=n("9z3s"),R=n("CGCA"),C=n("zs5+"),N=n("SZ5K"),x=n("vSc+"),P=n("j77k"),w=n("ARQ0"),A=n("MPQr");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var j=function(e){h()(n,e);var t=I(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(p()(r)),r}return u()(n,[{key:"getIcon",value:function(e,t){switch(e){case T.a.Artist:return t?r||(r=_.a.createElement(x.a,null)):a||(a=_.a.createElement(P.a,null));case T.a.Song:return t?i||(i=_.a.createElement(w.a,null)):o||(o=_.a.createElement(A.a,null));default:return null}}},{key:"getLabel",value:function(e,t){switch(e){case T.a.Artist:return t?Object(O.a)("banartist_action_allowinmyrecommendations_web"):Object(O.a)("banartist_action_dontrecommendthisartist_web");case T.a.Song:return t?Object(O.a)("banartist_action_allowinmyrecommendations_web"):Object(O.a)("bantrack_action_dontrecommendthistrack_web");default:return""}}},{key:"handleClick",value:function(){var e=this.props,t=e.type,n=e.id,r=e.isDisliked,a={id:n,type:t,context:e.context};r?k.a.remove(a):k.a.add(a)}},{key:"render",value:function(){var e=this.props,t=e.isDisliked,n=e.type;return _.a.createElement(R.a,{handleClick:this.handleClick},_.a.createElement(C.a,null,this.getIcon(n,t)),_.a.createElement(N.a,{value:this.getLabel(n,t)}))}}]),n}(b.Component);t.a=Object(E.c)((function(e,t){var n=e.feedbacks;return{isDisliked:Object(S.g)(n,t.id,t.type)}}))(j)},N4TD:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("J4zp"),a=n.n(r);n("rB9j"),n("Rm1S"),n("oVuX"),n("2B1R"),n("EnZy"),n("4l63");function i(e){var t=a()(e,3),n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o=Math.max(n,r,i),c=Math.min(n,r,i),s=(o+c)/2,l=(o+c)/2,u=(o+c)/2;if(o===c)s=l=0;else{var d=o-c;switch(l=u>.5?d/(2-o-c):d/(o+c),o){case n:s=(r-i)/d;break;case r:s=2+(i-n)/d;break;case i:s=4+(n-r)/d}s=(s*=60)<0?s+=360:s}return[Math.floor(s),Math.floor(100*l),Math.floor(100*u)]}function o(e){return i(function(e){var t=e.match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]}(e))}},NCwu:function(e,t,n){"use strict";n("SuFq");var r=n("cDf5"),a=n.n(r),i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("zKZe"),n("ma9I"),n("17x9")),v=n.n(m),y=n("/MKj"),g=n("LvjZ"),b=n.n(g),_=n("XBvc"),E=n("eJd7"),k=n("OfRX"),O=n("HA5M"),S=n("MST+"),T=n("XoLw");function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}t.a=function(e){var t,n,r=Object.assign({},e.contextTypes||{},{getTrackingParams:v.a.func}),i=(n=t=function(e){u()(n,e);var t=R(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).tags={player_click:["type"],context_menu_click:["type","instance"],panel_click:["panel","type","id","index","instance"],menu_click:["type"],lyrics:["ts","action","container","sng","type"],artist_page_click:["type"],discography_click:["type","position","sort","view"],adblock_banner:["group","link","close"],pushbox:["action","box"]},e.platform={lyrics:"deezer_log",pushbox:"deezer_log"},e}return s()(n,[{key:"tracking",value:function(e,t){if("object"!==a()(this.tags[e]))return!1;var n="function"==typeof this.getTrackingParams?this.getTrackingParams():{};"function"==typeof this.context.getTrackingParams&&Object.assign(n,this.context.getTrackingParams());var r={};"object"===a()(t)&&(r=O.a.dataset(t));for(var i=0;i<this.tags[e].length;i++){var o=this.tags[e][i];"ts"!==o?void 0!==r[o]&&null!==r[o]&&(n[o]=r[o]):n[o]=Object(S.g)({SERVER_TIMESTAMP:this.props.serverTimestamp,clientTimestampDelta:this.props.clientTimestampDelta})}var c="";return"string"==typeof r.trackingCallback&&(c=this[r.trackingCallback]||""),"string"==typeof this.platform[e]&&"deezer_log"===this.platform[e]?(Object(_.isLogCentralWhitelisted)(e)||T.a.warn('log_central is deprecated. "'.concat(e,'" is not a whitelisted event.')),k.b.call({method:"log_central.log",data:{BATCH:[{channel:e,params:n}]}}),!0):(E.a.track(e,n,c),!0)}}]),n}(e),t.displayName="TrackingComponentHOC(".concat(b()(e),")"),t.contextTypes=r,n);return Object(y.c)((function(e){var t=e.user;return{serverTimestamp:t.SERVER_TIMESTAMP,clientTimestampDelta:t.clientTimestampDelta}}),null,null,{forwardRef:!0})(i)}},NIQb:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity"],"toolbar":false,"share":true,"sorterStorageKey":"topArtist","cover":"album","selectAll":false,"playAsTrackMix":true}')},NcY8:function(e,t,n){"use strict";n("DQNa"),n("07d7"),n("JfAA");var r=n("q1tI"),a=n("1dQf"),i=n("0QAw");t.a=function(){var e=function(e){return null==e?void 0:e.settings}(Object(i.b)().state);return Object(r.useEffect)((function(){var t=e||{},n=t.consentString,r=t.statistics,i=void 0===r?0:r,o=t.targetedAdvertising,c=void 0===o?0:o;window.sas&&window.sas.cmd.push((function(){window.sas.setGdprConsentData(n)})),Object(a.a)("consentStatistics",i.toString(),100),Object(a.a)("consentMarketing",c.toString(),100)}),[e]),null}},NsrU:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("4XRG"),a=n("fhKP"),i=n("FE7k");function o(){return function(e){e({type:i.e}),e(Object(a.t)()),e(Object(r.c)()),e(Object(r.b)())}}var c=function(e){return{type:i.b,active:e}},s=function(e){return{type:i.d,active:e}},l=function(e){return{type:i.c,active:e}}},NwUt:function(e,t,n){"use strict";n.d(t,"b",(function(){return _}));var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("6LIB"),s=(n("wLYn"),n("4l63"),n("TeQF"),n("QWBl"),n("FZtP"),n("+2oP"),n("ma9I"),n("2B1R"),n("zKZe"),n("rB9j"),n("UxlC"),n("07d7"),n("5s+n"),n("toAj"),n("yXV3"),n("LpSC"),n("HF1P")),l=n("OfRX"),u=n("2Hu5"),d=n("OCk3"),p=n("rod9"),f=n("U/XI"),h=n("vEc0"),m=n("vVa8"),v=n("9z3s"),y=n("vRnm"),g=n("MST+"),b=function(){function e(){var t=this;a()(this,e),this.hasAdBlock=!1,this._lastPosition=0,this._isPending=!1,this._loadedTracks={},this._onProgressUpdate=this._onProgressUpdate.bind(this),this._onPlayerPlay=this._onPlayerPlay.bind(this),this._onTrackListReset=this._onTrackListReset.bind(this),this._onTrackSkipped=this._onTrackSkipped.bind(this),this._onFavoriteAdd=this._onFavoriteAdd.bind(this),this._onFavoriteDelete=this._onFavoriteDelete.bind(this),this._onShareClick=this._onShareClick.bind(this),this._onPlaylistAdd=this._onPlaylistAdd.bind(this),u.a.ready(u.a.store.ready,(function(){void 0!==m.a.getState().user.SPONSORED_TRACK_CONFIG&&(u.a.subscribe(u.a.player.play,t._onPlayerPlay),u.a.subscribe(u.a.player.tracklistReset,t._onTrackListReset),u.a.subscribe(u.a.player.trackSkipped,t._onTrackSkipped),u.a.subscribe(u.a.user.addFavorite,t._onFavoriteAdd),u.a.subscribe(u.a.user.deleteFavorite,t._onFavoriteDelete),u.a.subscribe(u.a.user.shareClick,t._onShareClick),u.a.subscribe(u.a.playlist.addSong,t._onPlaylistAdd))}))}return o()(e,[{key:"setPending",value:function(e){this._isPending=void 0===e||Boolean(e)}},{key:"getLoadedTracks",value:function(e){return void 0!==e?{}.hasOwnProperty.call(this._loadedTracks,e)?this._loadedTracks[e]:null:this._loadedTracks}},{key:"saveLoadedTrack",value:function(e){this.hasLoadedTrack(e.SNG_ID)||(this._loadedTracks[e.SNG_ID]=e)}},{key:"hasLoadedTrack",value:function(e){return{}.hasOwnProperty.call(this._loadedTracks,e)}},{key:"isPending",value:function(){return this._isPending}},{key:"isEnabled",value:function(){if(void 0===m.a.getState().user.SPONSORED_TRACK_CONFIG||!this.hasAdBlock)return!1;var e=d.c.getPlayerType(),t=d.c.getContext("TYPE"),n=s.a.get("log_contexts")[t];return(e===p.d.RADIO||"playlist"===n||"queuelist"===t)&&("playlist"!==n||!Object(y.j)(m.a.getState().entities,m.a.getState().user,{id:d.c.getContext("ID"),currentUserId:Object(g.J)(m.a.getState().user)}))}},{key:"load",value:function(){var e=this;l.b.call({method:"sponsoredtrack.getTrack",data:{TRACK_LIST:this._getTrackList()},success:function(t){t&&(d.c.play({id:[t.SNG_ID],caller:"player",type:"track",data:[t],addNext:!0,radio:d.c.isRadio(),context:d.c.getContext()}),e.setPending(),e.saveLoadedTrack(t),u.a.trigger(u.a.sponsored.trackLoaded))}})}},{key:"setHasAdBlock",value:function(e){this.hasAdBlock=e}},{key:"_onPlayerPlay",value:function(){(u.a.unsubscribe(u.a.player.position,this._onProgressUpdate),d.c.helper.isSponsoredTrack())&&(u.a.subscribe(u.a.player.position,this._onProgressUpdate),d.c.getSponsoredData()&&this._pushEvent(d.c.getCurrentSong().SNG_ID,"progress"),this.setPending(!1))}},{key:"_onProgressUpdate",value:function(e,t){var n=m.a.getState().user.SPONSORED_TRACK_CONFIG.progress_call_frequency,r=d.c.getSponsoredData(),a=parseInt(t,10);r&&this._lastPosition!==a&&0!==a&&(30===a||this._lastPosition<=29&&a>30?this._pushEvent(d.c.getCurrentSong().SNG_ID,"progress",{TRACK_POSITION:30}):a%n==0&&this._callFeatureFM("thread/".concat(r.SONG_PLAY_ID,"/progress"),{progress:a}),this._lastPosition=a)}},{key:"_onTrackListReset",value:function(){this.isPending()&&this.load()}},{key:"_onTrackSkipped",value:function(e,t){t&&this._pushEvent(t.SNG_ID,"skip")}},{key:"_onFavoriteAdd",value:function(e,t){t&&t.type===v.a.Song&&this._pushEvent(t.id,"favorite")}},{key:"_onFavoriteDelete",value:function(e,t){t&&t.type===v.a.Song&&this._pushEvent(t.id,"votedown")}},{key:"_onShareClick",value:function(e,t){0===t.type&&this._pushEvent(t.id,"share")}},{key:"_onPlaylistAdd",value:function(e,t){var n=this,r=t.song.filter((function(e){return n.hasLoadedTrack(e[0])}));if(0!==r.length){var a=Object(y.d)(m.a.getState().entities,{id:t.playlist_id});a&&r.forEach((function(e){n._pushEvent(e[0],"added_to_playlist",{PLAYLIST_NAME:a})}))}}},{key:"_getTrackList",value:function(){var e=[];d.c.getCurrentSong()&&e.push(d.c.getCurrentSong());var t=d.c.getNextSong();t&&e.push(t);var n=d.c.getPrevSong();n&&e.push(n);var r=d.c.getTrackListIndex()+e.length;3===e.length&&r--;var a=d.c.getTrackList().filter((function(e,t){return t>=r&&!d.c.helper.isSponsoredTrack(e)})).slice(0,10-e.length);return a.length>0&&(e=e.concat(a)),e.map((function(e){return e.SNG_ID}))}},{key:"_pushEvent",value:function(e,t,n){if(this.hasLoadedTrack(e)){var r={method:"sponsoredtrack.pushEvent",data:{EVENT:t,SONG_PLAY_ID:d.c.getSponsoredData(this.getLoadedTracks(e)).SONG_PLAY_ID,TRACK_POSITION:parseInt(d.c.getPosition(),10)}};Object(c.a)(n)&&Object.assign(r.data,n),l.b.call(r)}}},{key:"_callFeatureFM",value:function(e,t){var n=m.a.getState().user.SPONSORED_TRACK_CONFIG,r=n.token,a=n.api_key,i=n.api_url.replace(/\/+$/,""),o={api_key:a,consumer_token:r};Object(c.a)(t)&&Object.assign(o,t),fetch("".concat(i,"/").concat(e),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}}]),e}();t.a=new b;var _=function(e){var t=e.CTA_TRACKING_URL,n=e.CTA_URL,r=s.a.get("host_website_ssl"),a=n;t&&fetch(t+d.c.getPosition().toFixed(0)),-1!==a.indexOf(r)?(0===(a=a.replace(/^(https?):\/\//,"").replace(r,"")).length&&(a="/"),h.a.push(a)):Object(f.a)(a)}},Nwl0:function(e,t,n){"use strict";var r=n("cDf5"),a=n.n(r),i=(n("tkto"),n("8V7w")),o=n("vVa8"),c=n("8yji"),s=n("rb98"),l=n("hIZU"),u=n("MST+"),d={add:function(e){var t=e.id,n=e.type,r=e.context;if(!1!==Object(u.Q)(o.a.getState().user)){if(t=String(t),!Object(s.g)(o.a.getState().feedbacks,t,n)){var d={};"object"===a()(r)&&Object.keys(r).length>=2&&(d={id:r.ID,t:r.TYPE}),o.a.dispatch(Object(l.a)(t,n,Object(c.a)(),d))}}else i.a.goToConnection()},remove:function(e){var t=e.id,n=e.type,r=e.context;if(!1!==Object(u.Q)(o.a.getState().user)){if(t=String(t),Object(s.g)(o.a.getState().feedbacks,t,n)){var a={id:r.ID,t:r.TYPE};o.a.dispatch(Object(l.g)(t,n,a))}}else i.a.goToConnection()}};t.a=d},OMec:function(e){e.exports=JSON.parse('{"default":{"center":true,"play":"force","preview":"off","favorite":"off","contextMenu":"off","dislike":"off","overlay":"on"},"smart_tracklist_page":{"center":false,"overlay":"off"}}')},Oj4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"HeartFillIcon",paths:{16:'<path d="M8 3.266C2.837-2.68-2.564 4.578 1.328 8.516 5.22 12.451 8 15 8 15s2.78-2.548 6.672-6.485C18.564 4.501 13.162-2.679 8 3.265z"></path>',24:'<path d="M20.34 12.662c4.694-4.98-1.427-13.749-7.66-7.493a12.9 12.9 0 0 0-.68.744 12.178 12.178 0 0 0-.68-.743C5.087-1.08-1.034 7.778 3.66 12.662 8.525 17.724 12 21 12 21s3.475-3.276 8.34-8.338z"></path>'}})},Oks6:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true},"infiniteScroll":true,"fillerHeight":true,"cover":"album","sorterStorageKey":"search","playAsTrackMix":true}')},Omop:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("RIqP"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("o0o1"),s=n.n(c),l=(n("tkto"),n("yq1k"),n("JTJg"),n("fbCW"),n("ma9I"),n("07d7"),n("5s+n"),n("2B1R"),n("TeQF"),n("/MKj")),u=n("l8Gu"),d=n("L3kz"),p=n("5m/f"),f=n("7Eja"),h=n("9z3s"),m=n("4gVp"),v=function(){var e=Object(u.c)(),t=Object(l.e)(),n=Object(l.f)((function(e){return e.cache.album})),r=n?Object.keys(n):[],i=function(t){return Boolean(e&&e.offline.enabled&&[h.a.Album].includes(t))};return{addToCache:function(){var n=o()(s.a.mark((function n(r){var o,c,l,u,h,v,y,g,b,_,E,k,O;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.entity,c=r.quality,!e||!i(o.type)){n.next=9;break}return n.next=4,e.offline.query({query:d.a,variables:{albumId:o.id}});case 4:_=n.sent,E=_.data,k=null===(l=E.album)||void 0===l?void 0:l.cover,O=null===(u=E.album)||void 0===u||null===(h=u.contributors)||void 0===h||null===(v=h.edges)||void 0===v||null===(y=v.find((function(e){return e.roles.includes(m.b.MAIN)})))||void 0===y||null===(g=y.node)||void 0===g||null===(b=g.picture)||void 0===b?void 0:b.large,o.covers=[].concat(a()((null==k?void 0:k.large)||[]),a()(O||[]));case 9:return n.next=11,navigator.storage&&navigator.storage.persist?navigator.storage.persist():Promise.resolve();case 11:return n.next=13,t(Object(f.a)({entity:o,quality:c}));case 13:return n.abrupt("return",p.a.add(o));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),removeFromCache:function(n){var a=n.entity;if(t(Object(f.c)({entity:a})),e&&i(a.type)){var o=r.filter((function(e){return e!==a.id})).map((function(e){return{query:d.a,variables:{albumId:e}}}));e.offline.gc(o)}return Promise.resolve()}}}},OuPr:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s}));var r="sm",a="lg",i="full",o="click",c="hover",s="scroll"},P7m1:function(e,t,n){"use strict";n("SuFq");var r=n("pVnL"),a=n.n(r),i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("sMBO"),n("17x9"),n("q1tI")),g=n.n(y),b=n("/MKj"),_=n("g0AM"),E=n("bkRl"),k=n("vVa8"),O=n("xDHF");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var T=function(e){p()(n,e);var t=S(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._open=r._open.bind(u()(r)),r._close=r._close.bind(u()(r)),r._onKeyDown=r._onKeyDown.bind(u()(r)),r._onOutsideMouseDown=r._onOutsideMouseDown.bind(u()(r)),r._contentRef=g.a.createRef(),r}return s()(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._onKeyDown),document.addEventListener("mousedown",this._onOutsideMouseDown),document.addEventListener("touchstart",this._onOutsideMouseDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("mousedown",this._onOutsideMouseDown),document.removeEventListener("touchstart",this._onOutsideMouseDown)}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.data,r=e.name,i=e.size;if(!t)return null;var o=Object(O.a)(r);return o?g.a.createElement("div",{className:"modal",role:"dialog","aria-hidden":!1,"aria-labelledby":"modal_title"},g.a.createElement(_.a,{from:{opacity:0},to:{opacity:.8},duration:150,in:!0},g.a.createElement("div",{className:"modal-backdrop",onClick:this._close})),g.a.createElement("div",{className:"modal-wrapper"},g.a.createElement(_.a,{from:{opacity:0},to:{opacity:1},duration:150,in:!0},g.a.createElement("div",{className:"modal-dialog modal-".concat(i),ref:this._contentRef},g.a.createElement(g.a.Suspense,{fallback:null},g.a.createElement(o,a()({},n,{name:r}))))))):null}},{key:"_onKeyDown",value:function(e){var t=this.props,n=t.isOpen,r=t.disableClosingAction;n&&!r&&27===e.keyCode&&this._close()}},{key:"_onOutsideMouseDown",value:function(e){var t=this.props,n=t.isOpen,r=t.disableClosingAction;n&&!r&&"HTML"!==e.target.tagName&&e.target.contains(this._contentRef.current)&&(e.stopPropagation(),this._close())}},{key:"_close",value:function(){this.props.closeModal(!0)}},{key:"_open",value:function(){this.props.openModal()}}]),n}(y.Component);T.defaultProps={size:"large"},k.a.addReducers({modal:E.b});t.a=Object(b.c)((function(e){var t=e.modal;return{name:t.name,data:t.props,disableClosingAction:t.disableClosingAction,isOpen:""!==t.name,size:t.size,classNameClose:t.classNameClose}}),{closeModal:E.a,openModal:E.c})(T)},Pa05:function(e){e.exports=JSON.parse('{"cover":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"repeat":true,"seek":true,"shuffle":true,"subTitle":{"id":"ART_ID","url":"/artist/"},"timer":true,"title":{"id":"ALB_ID","url":"/album/"},"userFeedback":false,"volume":true}')},PzBR:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("wLYn"),n("yXV3"),n("rB9j"),n("UxlC"),n("sMBO"),n("ma9I"),n("17x9"),n("q1tI")),v=n.n(m),y=n("/MKj"),g=n("2Hu5"),b=n("HF1P");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var E=function(e){u()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._selectedIndexFile=0,r._selectedFiles=null,r._fileInput=v.a.createRef(),r._uploadFile=r._uploadFile.bind(s()(r)),r._onChangeFile=r._onChangeFile.bind(s()(r)),r._onSelectFileClick=r._onSelectFileClick.bind(s()(r)),r._onNextFile=r._onNextFile.bind(s()(r)),r}return o()(n,[{key:"componentDidMount",value:function(){g.a.subscribe(g.a[this.props.directory].uploadPicture,this._uploadFile)}},{key:"componentWillUnmount",value:function(){this._xhr&&this._xhr.abort(),g.a.unsubscribe(g.a[this.props.directory].uploadPicture,this._uploadFile)}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.children,r=e.multiFile;return!!window.FileReader&&v.a.createElement("div",null,v.a.createElement("input",{type:"file",className:"hide",multiple:r,ref:this._fileInput,accept:t,onChange:this._onChangeFile}),v.a.createElement("div",{onClick:this._onSelectFileClick,onKeyDown:this._onSelectFileClick},n))}},{key:"_onSelectFileClick",value:function(e){void 0!==e.keyCode&&13!==e.keyCode||this._fileInput.current.click()}},{key:"_onChangeFile",value:function(e){if(this._selectedFiles=e.target.files,0!==this._selectedFiles.length){var t=this.props,n=t.accept,r=t.element_id,a=t.directory,i=t.action,o=t.type,c=this._selectedFiles.item(this._selectedIndexFile).type;if(""!==c&&-1!==n.indexOf(c))if(r>0&&"playlist"!==a||"audio"===o)this._uploadFile(null,{id:r});else{var s=new FileReader;s.onload=function(e){g.a.trigger(g.a[a][i],{type:"base64",data:e.target.result})},s.readAsDataURL(this._selectedFiles.item(this._selectedIndexFile))}}}},{key:"_onNextFile",value:function(){if(this._selectedIndexFile++,this._selectedFiles.length===this._selectedIndexFile)return this._fileInput.current&&(this._fileInput.current.value=""),void(this._selectedIndexFile=0);this._onChangeFile({target:{files:this._selectedFiles,value:""}})}},{key:"_uploadFile",value:function(e,t){var n=this;if(null===this._selectedFiles)return!1;var r=this._selectedFiles.item(this._selectedIndexFile);if(null===r)return!1;var a=r.name.replace(/&/g,""),i=this.props,o=i.directory,c=i.type,s=i.action,l=i.userSessionID,u=i.userSettingRefererUpload,d="https://".concat(b.a.get("host_upload")),p="".concat(d,"/?sid=").concat(l,"&id=").concat(t.id,"&resize=1&directory=").concat(o,"&type=").concat(c,"&referer=").concat(u,"&file=").concat(a),f=new FormData;return f.append("file",r,a),this._xhr=new XMLHttpRequest,this._xhr.addEventListener("load",(function(e){if(200===e.target.status){var r=JSON.parse(e.target.response);if(0===r.error.length){var a="sendPersonalSong"===s?{sng_id:-r.results}:{element_id:t.id,source_type:c,type:o,md5:r.results};g.a.trigger(g.a[o][s],a)}n._onNextFile()}}),!1),this._xhr.addEventListener("error",(function(){n._onNextFile()}),!1),this._xhr.open("POST",p,!0),this._xhr.send(f)}}]),n}(m.Component);E.defaultProps={element_id:0,children:"",accept:"image/jpeg,image/png",type:"picture",directory:"playlist",multiFile:!1,action:"updatePicture"};t.a=Object(y.c)((function(e){var t=e.user;return{userSessionID:t.SESSION_ID,userSettingRefererUpload:t.SETTING_REFERER_UPLOAD}}))(E)},Q04h:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4l63");var r=n("eHHa");function a(e){return[Object(r.a)("JAN"),Object(r.a)("FEV"),Object(r.a)("MAR"),Object(r.a)("AVR"),Object(r.a)("MAI"),Object(r.a)("JUIN"),Object(r.a)("JUIL"),Object(r.a)("AOU"),Object(r.a)("SEP"),Object(r.a)("OCT"),Object(r.a)("NOV"),Object(r.a)("DEC")]["0"===e.charAt(0)?parseInt(e.charAt(1),10)-1:parseInt(e,10)-1]}},QJB2:function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("q1tI")),g=n.n(y),b=n("/MKj"),_=n("eHHa"),E=n("zs5+"),k=n("SZ5K"),O=n("LQWP"),S=n("2KzU"),T=n("LUYa"),R=n.n(T);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var N=function(e){p()(n,e);var t=C(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={isHover:!1},r.handleMouseEnter=r.handleMouseEnter.bind(u()(r)),r.handleMouseLeave=r.handleMouseLeave.bind(u()(r)),r}return s()(n,[{key:"handleMouseEnter",value:function(){this.setState({isHover:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHover:!1})}},{key:"renderChevron",value:function(){return"ltr"===this.props.langDirection?r||(r=g.a.createElement(O.a,null)):a||(a=g.a.createElement(S.a,null))}},{key:"render",value:function(){var e=this.props.handleClick,t=this.state.isHover;return g.a.createElement("button",{className:R.a.root,type:"button",onClick:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},g.a.createElement(E.a,{isActive:t,isSmall:!0},this.renderChevron()),g.a.createElement(k.a,{isActive:t,value:Object(_.a)("Retour")}))}}]),n}(y.Component);t.a=Object(b.c)((function(e){return{langDirection:e.user.DIRECTION}}))(N)},QdeK:function(e,t,n){},QiwK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"search"},e),r||(r=c.a.createElement("path",{d:"M9.827 8.584l1.95 1.951a.879.879 0 0 1-1.242 1.242l-1.95-1.95c-2.137 1.55-5.12 1.383-7.02-.517-2.108-2.108-2.083-5.55.055-7.69C3.76-.518 7.202-.543 9.31 1.565c1.9 1.9 2.067 4.883.517 7.02zm-1.256-.013c1.721-1.72 1.741-4.49.045-6.187C6.92.688 4.15.708 2.429 2.43.708 4.149.688 6.919 2.384 8.616c1.696 1.696 4.466 1.676 6.187-.045z"})))}},Rc83:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("0QAw");t.a=function(e){return o.a.forwardRef((function(t,n){return o.a.createElement(c.a.Consumer,null,(function(r){return o.a.createElement(e,a()({consentContext:r},t,{ref:n}))}))}))}},Rsja:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"on","preview":"on","favorite":"on","contextMenu":"off","dislike":"off"},"exclusions_artists":{"play":"off","preview":"off","favorite":"off","contextMenu":"off","dislike":"force"},"search_top_artist":{"play":"off","preview":"off","favorite":"off"},"topbar_popper_artist":{"play":"off"},"artist_discography_related_artist":{"play":"off","preview":"off","favorite":"off"},"mixes_page":{"play":"force","favorite":"off"}}')},Rzlq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("eHHa"),a={},i=!1;function o(e,t,n){!1===i&&(a={full:{active:Object(r.a)("successmessage_text_addedtoyourfavorites_web"),active_favorite_friend:Object(r.a)("Suivi"),active_favorite_song:Object(r.a)("successmessage_text_addedtoyourfavorites_web"),active_play:Object(r.a)("À l'écoute"),active_play_artist:Object(r.a)("Mix"),active_play_user:Object(r.a)("FLOW"),active_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web"),add:Object(r.a)("contextualmenu_text_addtomyfavorites_web"),add_favorite_friend:Object(r.a)("Suivre"),add_favorite_song:Object(r.a)("Ajouter aux Coups de cœur"),add_dislike_song:Object(r.a)("bantrack_action_dontrecommendthistrack_web"),add_dislike_artist:Object(r.a)("banartist_action_dontrecommendthisartist_web"),add_play:Object(r.a)("Écouter"),add_play_artist:Object(r.a)("Mix"),add_play_user:Object(r.a)("FLOW"),add_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web"),default:Object(r.a)("contextualmenu_text_addtomyfavorites_web"),default_favorite_friend:Object(r.a)("Suivre"),default_favorite_song:Object(r.a)("Ajouter aux Coups de cœur"),default_dislike_song:Object(r.a)("bantrack_action_dontrecommendthistrack_web"),default_dislike_artist:Object(r.a)("banartist_action_dontrecommendthisartist_web"),default_play:Object(r.a)("Écouter"),default_play_artist:Object(r.a)("Mix"),default_play_user:Object(r.a)("FLOW"),default_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web"),hover:Object(r.a)("contextualmenu_text_deletefrommyfavorites_web"),hover_favorite_app:Object(r.a)("Retirer de ma bibliothèque"),hover_favorite_friend:Object(r.a)("Ne plus suivre"),hover_favorite_song:Object(r.a)("Retirer des Coups de cœur"),hover_dislike_song:Object(r.a)("banartist_action_allowinmyrecommendations_web"),hover_dislike_artist:Object(r.a)("banartist_action_allowinmyrecommendations_web"),hover_play:Object(r.a)("Pause"),hover_play_artist:Object(r.a)("Mix"),hover_play_user:Object(r.a)("FLOW"),hover_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web"),paused_play:Object(r.a)("Pause"),paused_play_artist:Object(r.a)("Mix"),paused_play_user:Object(r.a)("FLOW"),paused_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web"),resume_play:Object(r.a)("Reprendre"),resume_play_artist:Object(r.a)("Mix"),resume_play_user:Object(r.a)("FLOW"),resume_shuffle_user:Object(r.a)("favoritestab_action_shufflemymusic_web")},standard:{active:Object(r.a)("Ajouté"),add:Object(r.a)("Ajouter"),default:Object(r.a)("Ajouter"),hover:Object(r.a)("Retirer"),active_follow_user:Object(r.a)("Suivi"),add_follow_user:Object(r.a)("Suivre"),default_follow_user:Object(r.a)("Suivre"),hover_follow_user:Object(r.a)("Ne plus suivre"),default_download:Object(r.a)("Télécharger"),active_download:Object(r.a)("Téléchargé"),hover_download:Object(r.a)("Retirer")}},i=!0);var o=n||e.wording;return"none"===o?"":a[o][t+"_"+e.action+"_"+e.type]?a[o][t+"_"+e.action+"_"+e.type]:a[o][t+"_"+e.action]?a[o][t+"_"+e.action]:a[o][t]}},S117:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"ExclamationCircleIcon",paths:{16:'<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm1-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-.273-7.364H7.273v5.091h1.454v-5.09z"></path>',24:'<path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0 1c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm1.5-6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM13 13V6h-2v7h2z"></path>'}})},SZ5K:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("iuhU"),s=n("ZoLs"),l=n.n(s);t.a=function(e){var t,n=e.isActive,r=void 0!==n&&n,i=e.isShort,s=void 0!==i&&i,u=e.value,d=Object(c.a)(l.a.root,(t={},a()(t,l.a.isActive,r),a()(t,l.a.isShort,s),t));return o.a.createElement("span",{className:d},u)}},SZia:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"sort-asc"},e),r||(r=c.a.createElement("path",{d:"M5.997 3.5L2.5 8.493l7 .007z"})))}},Sb23:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"force","preview":"off","favorite":"on","contextMenu":"on","dislike":"off"},"topbar_popper_radio":{"play":"on"},"mixes_page":{"favorite":"off","contextMenu":"off"}}')},SfGk:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f}));n("qePV");var r=n("2Hu5"),a=n("cEqK"),i=n("OCk3"),o=n("dn5u"),c=n.n(o),s=n("VH4h"),l=n("Xn2y"),u=c()();function d(e){e.payload&&e.payload.VALUE&&!Number(e.payload.VALUE.USER_ID)||r.a.trigger(r.a.live.simultaneousAccess)}function p(e){return a.a.singleton.post("SingleInstancePlayback",{APP:"LIMITATION",ACTION:"PLAY",VALUE:{USER_ID:e,UNIQID:u,SNG_ID:i.c.getCurrentSong(i.c.getMediaId())}})}function f(){return a.a.singleton.on("message",d,{node:"SingleInstancePlayback"}),a.a.singleton.connect()}t.b=function(e){return function(t){return function(n){var r=e.getState().player.control.playing,a=t(n),o=e.getState().player.control.playing,c=e.getState().user.isAuth,u=e.getState().user.id;if(!c)return a;switch(n.type){case l.a:f();break;case s.i:!o||r||i.c.chromecast.isCasting()||p(u)}return a}}}},SjPx:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit"],"trackIndex":true,"trackNumber":true,"forcePlayerReloadTrack":true}')},Ssqf:function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("q1tI")),g=n.n(y),b=n("/MKj"),_=n("5m/f"),E=n("eHHa"),k=n("rb98"),O=n("9z3s"),S=n("lNGS"),T=n("CGCA"),R=n("zs5+"),C=n("SZ5K"),N=n("geFH"),x=n("OWJi");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var w=function(e){p()(n,e);var t=P(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(u()(r)),r}return s()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.context,n=e.id,r=e.isFavorite,a=e.type,i={id:n,context:t,type:S.a.getUserDataType(a)||a};r?_.a.remove(i):_.a.add(i)}},{key:"render",value:function(){var e,t=this.props,n=t.isFavorite,i=t.isDisabled,o=t.type;if(!n&&i)return null;if(n){var c=o===O.a.Track?Object(E.a)("Retirer des Coups de cœur"):Object(E.a)("contextualmenu_text_deletefrommyfavorites_web");return g.a.createElement(T.a,{handleClick:this.handleClick},r||(r=g.a.createElement(R.a,null,g.a.createElement(N.a,null))),e||(e=g.a.createElement(C.a,{value:c})))}var s=o===O.a.Track?Object(E.a)("Ajouter aux Coups de cœur"):Object(E.a)("contextualmenu_text_addtomyfavorites_web");return g.a.createElement(T.a,{handleClick:this.handleClick},a||(a=g.a.createElement(R.a,null,g.a.createElement(x.a,null))),g.a.createElement(C.a,{value:s}))}}]),n}(y.Component);w.defaultProps={isDisabled:!1};t.a=Object(b.c)((function(e,t){var n=e.feedbacks;return{isFavorite:Object(k.h)(n,t.id,t.type)}}),{})(w)},"St1+":function(e){e.exports=JSON.parse('{"chromecast":true,"contextMenu":true,"cover":true,"label":true,"like":true,"lyrics":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"saveAsPlaylist":true,"seek":true,"subTitle":{"id":"ART_ID","url":"/artist/"},"timer":true,"title":{"id":"ALB_ID","url":"/album/"},"userFeedback":true,"volume":true}')},T9Yl:function(e){e.exports=JSON.parse('{"changeOrder":true,"cells":["Play","Love","Title","Replace","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","AddDate","Checkbox"],"header":{"sorter":true,"contextMenu":true,"remove":true},"toolbar":{"playAll":true,"shareType":3,"contextMenu":true,"edit":true,"filter":true,"sorter":true,"download":true},"infiniteScroll":true,"trackIndex":true,"sorterStorageKey":"playlist"}')},Tkg6:function(e,t,n){e.exports={"input-search-group":"_3A2X2",inputSearchGroup:"_3A2X2","search-form-control":"TLXKn",searchFormControl:"TLXKn","is-rounded":"_2Bzjr",isRounded:"_2Bzjr","is-secondary":"_3hnZd",isSecondary:"_3hnZd","search-input-loader":"_3LTnx",searchInputLoader:"_3LTnx","input-search-group--sm":"dNVrz",inputSearchGroupSm:"dNVrz","input-search-icon":"C8a5p",inputSearchIcon:"C8a5p","has-icon":"_1lTkl",hasIcon:"_1lTkl","search-input-cancel":"_3AnDU",searchInputCancel:"_3AnDU","input-search-group--lg":"_2Gnut",inputSearchGroupLg:"_2Gnut"}},TucV:function(e,t,n){"use strict";n.r(t);n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("q1tI"),a=n.n(r),i=n("OCk3"),o=n("vVa8"),c=n("shcr"),s=n("orQ7"),l=(n("Izz6"),a.a.lazy((function(){return Promise.resolve().then(n.bind(null,"3uHE"))}))),u=a.a.lazy((function(){return n.e(195).then(n.bind(null,"cwQn"))})),d=a.a.lazy((function(){return Promise.all([n.e(0),n.e(180)]).then(n.bind(null,"ue3E"))})),p=a.a.lazy((function(){return Promise.resolve().then(n.bind(null,"aOf1"))}));t.default=function(e){var t=(o.a.getState().user.USER.USER_ID,o.a.getState().user.USER.OPTIONS.ads_display&&i.c.isAdvertisingAllowed()?u:l),n=a.a.createElement(d,{offline:c.a.isAllowed("public_api_album")},a.a.createElement(t,e)),r=c.a.isAllowed("deeztools")&&Object(s.g)()?a.a.createElement(p,null,n):n;return a.a.createElement(a.a.Suspense,{fallback:null},r)}},UQbt:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="top",a="bottom"},UrDj:function(e,t,n){e.exports={root:"_2v5_R"}},VdYI:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"play"},e),r||(r=c.a.createElement("path",{fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M2.5.5v11l9-5.5z"})))}},WQcZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"arrow-up"},e),r||(r=c.a.createElement("path",{d:"M5 3.414L1.707 6.707A1 1 0 0 1 .293 5.293l5-5a.997.997 0 0 1 1.414 0l5 5a1 1 0 1 1-1.414 1.414L7 3.414V11a1 1 0 1 1-2 0V3.414z"})))}},WhXI:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"force","preview":"on","favorite":"on","contextMenu":"on","dislike":"off"},"album_page":{"preview":"off","favorite":"off","contextMenu":"off"},"topbar_popper_album":{"play":"on"}}')},XdVM:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("9z3s"),v=n("+U6v"),y=n("ru5m"),g=n("iKuf"),b=n("v0GO"),_=(n("GKVU"),n("9mL2")),E=n("6Sps"),k=n("6pb3"),O=n("pHhg"),S=n("LQZe"),T=n("LvGN"),R=n("r+fB"),C=n("Ssqf");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var x=function(e){s()(n,e);var t=N(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.id;return h.a.createElement("li",null,h.a.createElement(T.a,{action:S.a.PLAY_RADIO,context:t,ids:[n],type:m.a.Radio}))}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return h.a.createElement("li",null,h.a.createElement(R.a,{context:t,data:n,id:r,type:O.b.radio}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id;return h.a.createElement("li",null,h.a.createElement(C.a,{context:t,id:n,type:m.a.Radio}))}},{key:"render",value:function(){return h.a.createElement(E.a,null,h.a.createElement("ul",null,this.renderPlay(),this.renderToggleFavorite(),this.renderShare()))}}]),n}(f.Component),P=Object(k.a)(x),w=n("OuPr"),A=n("3lCq");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var j=function(e){s()(n,e);var t=I(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(_.c)(),r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return h.a.createElement(A.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[w.d,w.f],usePortal:!0};return h.a.createElement(P,c,n)}))}}]),n}(f.Component);j.defaultProps={placement:"left"};var D=j,L=n("shcr");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var F=function(e){s()(n,e);var t=M(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return h.a.createElement("li",null,h.a.createElement(R.a,{context:t,data:n,id:r,type:O.b.show}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id;return h.a.createElement("li",null,h.a.createElement(C.a,{context:t,id:n,type:m.a.Show}))}},{key:"render",value:function(){return L.a.isAllowed("talk")?h.a.createElement(E.a,null,h.a.createElement("ul",null,this.renderToggleFavorite(),this.renderShare())):null}}]),n}(f.Component),B=Object(k.a)(F);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var U=function(e){s()(n,e);var t=H(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(_.c)(),r}return o()(n,[{key:"render",value:function(){var e=this;if(!L.a.isAllowed("talk"))return null;var t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return h.a.createElement(A.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[w.d,w.f],usePortal:!0};return h.a.createElement(B,c,n)}))}}]),n}(f.Component);U.defaultProps={placement:"left"};var z=U,V=n("xKPd"),q=n("cI/O");function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var Y=function(e){s()(n,e);var t=G(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){switch(this.props.type){case m.a.Album:return h.a.createElement(v.a,this.props);case m.a.Artist:return h.a.createElement(y.a,this.props);case m.a.Episode:return h.a.createElement(g.a,this.props);case m.a.Playlist:return h.a.createElement(b.a,this.props);case m.a.Radio:return h.a.createElement(D,this.props);case m.a.Show:return h.a.createElement(z,this.props);case m.a.Track:case m.a.Song:return h.a.createElement(q.a,this.props);case m.a.Smarttracklist:return h.a.createElement(V.a,this.props);default:return null}}}]),n}(f.Component);t.a=Y},XgTI:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("iuhU"),v=n("/MKj"),y=n("i/No"),g=n("9+BV");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var _=function(e){s()(n,e);var t=b(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.langDirection,r=e.size,a="rtl"===n?y.a:g.a,i=Object(m.a)(t,"animate-wobble-target");return h.a.createElement(a,{className:i,size:r})}}]),n}(h.a.Component);_.defaultProps={className:"",size:void 0,langDirection:"ltr"};t.a=Object(v.c)((function(e){return{langDirection:e.user.DIRECTION}}))(_)},Xn2y:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d}));var r="components/Player/music/INIT_PLAYER",a="components/Player/music/UPDATED_TRACK",i="components/Player/music/UPDATED_TRACKLIST",o="components/Player/music/UPDATED_RECOGNIZED_TRACK",c="components/Player/music/UPDATED_FAVORITE",s="components/Player/music/SET_TRACK_DURATION",l="components/Player/music/SET_COVER",u="components/Player/music/SET_TRACK_TITLE",d="user/SET_QUALITY"},Xqa1:function(e){e.exports=JSON.parse('{"chromecast":true,"contextMenu":true,"cover":true,"label":false,"like":true,"lyrics":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"repeat":true,"saveAsPlaylist":true,"seek":true,"shuffle":true,"subTitle":{"url":"/artist/"},"stop":false,"timer":true,"title":{"id":"ALB_ID","url":"/album/"},"upnext":true,"userFeedback":true,"volume":true}')},YQcN:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Remote="Remote"}(r||(r={}))},YVrg:function(e,t,n){"use strict";var r=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),a=n("efZk"),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.a=function(e){return(e=Object(a.a)(e))&&e.replace(i,r).replace(o,"")}},YdOI:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"album",(function(){return ee})),n.d(r,"artist",(function(){return te})),n.d(r,"channel",(function(){return ne})),n.d(r,"episode",(function(){return re})),n.d(r,"flow",(function(){return ae})),n.d(r,"livestream",(function(){return ie})),n.d(r,"playlist",(function(){return oe})),n.d(r,"radio",(function(){return ce})),n.d(r,"show",(function(){return se})),n.d(r,"smarttracklist",(function(){return le})),n.d(r,"track",(function(){return ue})),n.d(r,"user",(function(){return de}));n("SuFq"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var a,i,o,c=n("lSNA"),s=n.n(c),l=n("pVnL"),u=n.n(l),d=n("lwsE"),p=n.n(d),f=n("W8MJ"),h=n.n(f),m=n("PJYZ"),v=n.n(m),y=n("7W2i"),g=n.n(y),b=n("a1gu"),_=n.n(b),E=n("Nsbk"),k=n.n(E),O=n("7EGn"),S=(n("wLYn"),n("tkto"),n("qePV"),n("yXV3"),n("LKBx"),n("2B1R"),n("ma9I"),n("R5XZ"),n("DQNa"),n("07d7"),n("JfAA"),n("17x9")),T=n.n(S),R=n("q1tI"),C=n.n(R),N=n("/MKj"),x=n("iuhU"),P=n("ByXz"),w=n("2Hu5"),A=n("OCk3"),I=n("lNGS"),j=n("8V7w"),D=n("eHHa"),L=n("5m/f"),M=n("5El0"),F=n("9z3s"),B=n("shcr"),H=n("V0xF"),U=n("9mL2"),z=n("rb98"),V=n("NwUt"),q=n("Onv7"),G=n("0Bmj"),Y=n("7npb"),W=n("IIwU"),Q=n("PzBR"),K=n("XdVM"),J=n("twse"),X=n("XgTI"),Z=n("ozDk"),$=function(e){var t=e.width,n=void 0===t?96:t,r=e.height,o=void 0===r?31:r;return C.a.createElement("div",{className:"daily-logo"},C.a.createElement("svg",{width:n,height:o,viewBox:"0 0 96 31",xmlns:"http://www.w3.org/2000/svg"},a||(a=C.a.createElement("path",{d:"M31.5126 16.1577C31.5126 21.0717 34.6549 24.3478 39.1344 24.3478C41.3742 24.3478 43.1793 23.3783 44.2156 21.7403V24.0135H48.3274V0.6132H44.0485V10.5416C43.079 8.90359 41.2739 7.83386 39.0341 7.83386C34.6884 7.83386 31.5126 11.1768 31.5126 16.1577ZM44.2156 16.1577C44.2156 18.9657 42.3102 20.704 40.0036 20.704C37.6301 20.704 35.7915 18.9657 35.7915 16.1577C35.7915 13.3162 37.6301 11.511 40.0036 11.511C42.3102 11.511 44.2156 13.3162 44.2156 16.1577ZM50.0542 19.4337C50.0542 22.4758 52.5279 24.3478 55.2691 24.3478C57.8432 24.3478 59.4812 23.4118 60.5175 21.5732V24.0135H64.4287V14.2522C64.4287 10.107 61.9549 7.83386 57.1411 7.83386C53.2968 7.83386 50.7896 9.73931 49.9539 12.8148L53.6645 13.8176C54.0323 12.2131 55.2023 11.1768 57.1077 11.1768C59.08 11.1768 60.3503 12.2465 60.3503 14.0182V15.0211L58.9463 14.6868C58.0772 14.4528 57.1746 14.3525 56.2386 14.3525C52.4945 14.3525 50.0542 16.0574 50.0542 19.4337ZM60.3503 18.1634C60.3503 20.002 58.9463 21.0717 56.974 21.0717C55.2691 21.0717 54.4 20.3363 54.4 19.1663C54.4 17.9294 55.336 17.2608 56.9071 17.2608C57.5423 17.2608 58.378 17.428 59.3809 17.7288L60.3503 18.0297V18.1634ZM66.8431 8.16815V24.0135H71.122V8.16815H66.8431ZM66.7094 5.79469H71.2892V1.28178H66.7094V5.79469ZM73.5289 24.0135H77.8078V0.6132H73.5289V24.0135ZM91.2797 8.16815L86.9339 17.194L82.8556 8.16815H78.3761L84.7276 21.7737L80.4821 30.6324H84.8279L95.6255 8.16815H91.2797Z",fill:"white"})),i||(i=C.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9419 7.07849H26.719V10.3032H20.9419V7.07849ZM26.719 11.57H20.9419V14.7948H26.719V11.57ZM20.9419 16.0616H26.719V19.2863H20.9419V16.0616ZM5.77708 20.5532H3.8147e-06V23.7779H5.77708V20.5532ZM6.98064 20.5532H12.7577V23.7779H6.98064V20.5532ZM19.7384 20.5532H13.9613V23.7779H19.7384V20.5532ZM26.719 20.5532H20.9419V23.7779H26.719V20.5532ZM19.7384 16.0616H13.9613V19.2863H19.7384V16.0616ZM6.98064 16.0616H12.7577V19.2863H6.98064V16.0616ZM12.7577 11.57H6.98064V14.7948H12.7577V11.57Z",fill:"white",fillOpacity:"0.5"}))))},ee=n("WhXI"),te=n("Rsja"),ne=n("Cnyj"),re=n("qbqq"),ae=n("BQI7"),ie=n("nj0A"),oe=n("dPk7"),ce=n("Sb23"),se=n("xejk"),le=n("OMec"),ue=n("wHqY"),de=n("fehg"),pe=n("VPTF");function fe(e){return C.a.createElement(pe.a,u()({name:"camera"},e),o||(o=C.a.createElement("path",{d:"M4 1H2l-.25 1H0v8h12V2H4.25L4 1zm6 2.5a.499.499 0 1 1 1 0 .499.499 0 1 1-1 0zm-9 0a.5.5 0 0 1 .505-.5h.99a.501.501 0 1 1 0 1h-.99A.501.501 0 0 1 1 3.5zM7 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-1a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm1.25-2a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0z",fillRule:"evenodd"})))}var he=n("h3bK"),me=n("kMTa"),ve=n("jJt0"),ye=n("0I9b"),ge=n("uVns");function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var a=k()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _()(this,n)}}var _e=function(e){g()(n,e);var t=be(n);function n(){return p()(this,n),t.apply(this,arguments)}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.isDisliked,n=e.type,r=e.presets,a=e.id,i=e.context,o=Object(x.a)("action-item-btn",{"action-force":r.dislike===ye.b.force});return C.a.createElement(ge.a,{id:a,type:n,context:i,isDisliked:t,className:o})}}]),n}(R.Component);_e.defaultProps={presets:ye.a};var Ee,ke,Oe,Se,Te,Re=_e,Ce=n("oA8K"),Ne=function(e){var t=e.children;return C.a.createElement("div",{className:"gradient-overlay"},t)},xe=n("3lCq");function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var a=k()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _()(this,n)}}var Ie=0,je=function(e){g()(n,e);var t=Ae(n);function n(e){var r;p()(this,n),(r=t.call(this,e))._onPlayerTypeChange=r._onPlayerTypeChange.bind(v()(r)),r._onThumbnailClick=r._onThumbnailClick.bind(v()(r)),r._onFavoriteToggle=r._onFavoriteToggle.bind(v()(r)),r._onLoadPicture=r._onLoadPicture.bind(v()(r)),r._onLoadExplicit=r._onLoadExplicit.bind(v()(r)),r._switchActiveImg=r._switchActiveImg.bind(v()(r)),r._shouldNavigateOnClick=r._shouldNavigateOnClick.bind(v()(r)),r._getExplicitCoverColor=r._getExplicitCoverColor.bind(v()(r)),r._intervalAnimation=null,r._contextMenuId=Object(U.c)();var a=e.id||M.a.getID(e.type,e.data),i=a,o=e.type;return r._isFlowType(r.props.type)&&Object.keys(e.data).length&&"song"===e.data.__TYPE__&&(i=Number(e.data.SNG_ID),o=F.a.Track),r.state={id:a,optionsType:o,optionsId:i,imgSrc:r._getImgSrc(e),picturesLoadedCount:0,isRadio:A.c.isRadio(),isPrivatePlaylist:"playlist"===e.type&&Number(e.data.PARENT_USER_ID)!==e.userID&&(1===Number(e.data.STATUS)||3===Number(e.data.STATUS)),indexActivePicture:0,explicitCoverColor:null},r}return h()(n,[{key:"componentDidMount",value:function(){w.a.subscribe(w.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id||M.a.getID(e.type,e.data),n=t,r=e.type;this._isFlowType(this.props.type)&&Object.keys(this.props.data).length&&"song"===this.props.data.__TYPE__&&(n=Number(e.data.SNG_ID),r=F.a.Track);var a=this._getImgSrc(e);this.setState({id:t,imgSrc:a,optionsType:r,optionsId:n,isPrivatePlaylist:"playlist"===e.type&&Number(e.data.PARENT_USER_ID)!==e.userID&&(1===Number(e.data.STATUS)||3===Number(e.data.STATUS))})}},{key:"shouldComponentUpdate",value:function(e,t,n){return this.state.id!==t.id||this.props.isFavorite!==e.isFavorite||this.state.isRadio!==t.isRadio||this.state.imgSrc!==t.imgSrc||this.state.picturesLoadedCount!==t.picturesLoadedCount||this.props.imgSrc!==e.imgSrc||this.context.isDisabled!==n.isDisabled||this.props.trackListIndex!==e.trackListIndex||this.state.indexActivePicture!==t.indexActivePicture||this.state.explicitCoverColor!==t.explicitCoverColor||this.props.shouldCensorCover!==e.shouldCensorCover||this.props.popperId!==e.popperId&&(this.props.popperId===this._contextMenuId||e.popperId===this._contextMenuId)}},{key:"componentDidUpdate",value:function(){this._checkAllPicturesAreLoaded()&&this._startAnimation()}},{key:"componentWillUnmount",value:function(){this._clearAnimation(),clearTimeout(this._navTimeoutRef),w.a.unsubscribe(w.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"render",value:function(){var e=this.props,t=e.bordered,n=e.borderedBlur,r=e.rounded,a=e.halfRounded,i=e.type,o=e.title,c=e.uploadCover,s=e.className,l=e.isSponsored,u=e.shouldCensorCover,d=e.popperId,p=Object(x.a)("thumbnail",s,{"thumbnail-bordered":t,"thumbnail-bordered-blur":n,"thumbnail-rounded":r,"thumbnail-half-rounded":a,"thumbnail-mix":["radio","generic"].indexOf(i)>=0,"thumbnail-rectangle":i===F.a.VideoLink||i===F.a.Channel,"thumbnail-animated":this._isAnimated(),"thumbnail-explicit":u,"has-contextmenu":Object(U.d)(d,this._contextMenuId)});if(l)return C.a.createElement("div",{className:p},this._renderSponsored());var f,h=this._getActions();return o&&(f="ariaThumbnailTitle"+Ie++),C.a.createElement("figure",{className:p},this._renderThumbnail(h.length,f),o?this._renderTitle(f):null,this.state.isPrivatePlaylist?null:this._renderActions(h),c!==ye.b.off?this._renderFileUpload():null)}},{key:"_renderOverlay",value:function(){if(this._getPresets().overlay===ye.c.off)return null;var e=this.props,t=e.data,n=e.type;return n===F.a.Flow?Ee||(Ee=C.a.createElement(Z.b,{width:"100%",height:"100%"})):n===F.a.Smarttracklist&&t&&(t.id&&t.id.startsWith("inspired-by")||t.SMARTTRACKLIST_ID&&t.SMARTTRACKLIST_ID.startsWith("inspired-by"))?ke||(ke=C.a.createElement(Ne,null,C.a.createElement($,{width:"100%",height:"100%"}))):null}},{key:"_renderThumbnail",value:function(e,t){var n=this.props,r=n.type,a=n.coverLink,i=n.uploadCover,o=n.shouldCensorCover,c=this.state.explicitCoverColor,s={className:Object(x.a)("picture",{"picture-link":a&&!this.context.isDisabled&&this._shouldNavigateOnClick()||r===F.a.Flow,"picture-img":this._isAnimated(),"overlay-hidden":!e&&i===ye.b.off,"no-background":this._checkAllPicturesAreLoaded()&&!o})};return t&&(s["aria-labelledby"]=t),o&&(s.style={backgroundImage:"url(".concat(M.a.getExplicitSrc(this.props.width,this.props.height),")"),backgroundColor:"".concat(c),backgroundBlendMode:"multiply",backgroundSize:"100%"}),C.a.createElement("div",u()({},s,{onClick:this._onThumbnailClick}),this._renderPictures(e,t),this._renderOverlay())}},{key:"_renderPictures",value:function(e,t){var n=this,r=this.props,a=r.imgHeight,i=r.height,o=r.imgWidth,c=r.width,s=r.alt,l=r.type,u=r.data,d=this.state.indexActivePicture;return this.state.imgSrc.map((function(e,r){var p={alt:t?"":s,className:Object(x.a)("picture-img",{active:n._isAnimated()&&r===d}),crossOrigin:"anonymous",height:a||i,key:"".concat(M.a.getID(l,u),"_").concat(r),onLoad:n._onLoadPicture,src:e,width:o||c};return n._renderPicture(p)}))}},{key:"_renderPicture",value:function(e){var t=this.props,n=t.isHighlight,r=t.blur;return n?this._renderHighlight():r>0?C.a.createElement(Ce.a,u()({},e,{blur:r})):C.a.createElement(P.a,u()({},e,{loading:"lazy",objectFit:"cover"}))}},{key:"_renderHighlight",value:function(){var e={backgroundImage:'url("'.concat(this.state.imgSrc,'")')};return C.a.createElement("div",{className:"picture-highlight",style:e})}},{key:"_renderActions",value:function(e){if(!e.length)return null;var t=Object(x.a)("action",{"action-center":this._getPresets().center});return C.a.createElement("ul",{className:t},e)}},{key:"_renderTitle",value:function(e){var t=this.props,n=t.title,r=t.type;return n?C.a.createElement("div",{className:"title"},r===F.a.Radio?C.a.createElement("p",{className:"title-label"},Object(D.a)("Mix")):null,C.a.createElement("p",{className:"title-text",id:e},n)):null}},{key:"_renderFileUpload",value:function(){var e=this.props,t=e.uploadCover,n=e.uploadType,r=e.type;if(t===ye.b.off)return null;var a=Object(x.a)({"action-item-btn action-upload":!0,"action-force":"force"===t});return C.a.createElement(Q.a,{element_id:this.state.id,type:n,directory:r},C.a.createElement("span",{className:a},Oe||(Oe=C.a.createElement(fe,{size:"20"}))))}},{key:"_renderSponsored",value:function(){var e=this.props,t=e.imgHeight,n=e.height,r=e.imgWidth,a=e.width,i=e.data,o={className:"picture",alt:"",height:t||n,src:this.state.imgSrc,width:r||a},c=A.c.getSponsoredData(i);return c.ARTWORK_URL&&(o.src=c.ARTWORK_URL),c.CTA_URL?C.a.createElement("button",{className:"thumbnail-sponsored",onClick:function(){return Object(V.b)(c)},type:"button"},C.a.createElement("img",o),C.a.createElement("span",{className:"thumbnail-sponsored-sticker"},Object(D.a)("SPONSORISÉ")),C.a.createElement(J.a,null,C.a.createElement("span",{className:"thumbnail-sponsored-link"},C.a.createElement("span",{className:"btn btn-sponsored btn-small btn-block"},C.a.createElement("span",{className:"label"},c.CTA_TEXT),Se||(Se=C.a.createElement(X.a,null)))))):C.a.createElement("div",{className:"thumbnail-sponsored"},C.a.createElement("img",o),C.a.createElement("span",{className:"thumbnail-sponsored-sticker"},Object(D.a)("SPONSORISÉ")))}},{key:"_onFavoriteToggle",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.state,n=t.optionsType,r=t.optionsId,a=this.props.isFavorite?"remove":"add";L.a[a]({type:I.a.getUserDataType(n),id:r,context:this._getContext()})}},{key:"_onPlayerTypeChange",value:function(){this.setState({isRadio:A.c.isRadio()})}},{key:"_onThumbnailClick",value:function(){var e=this.props,t=e.coverLink,n=e.externalLink;if((0,e.onClick)(),t&&!this.context.isDisabled){var r=this._getUrlWithLang();r&&this._shouldNavigateOnClick()&&(this._navTimeoutRef=setTimeout((function(){j.a.navigate(r,{externalLink:n})}),0))}}},{key:"_onLoadPicture",value:function(e){this.setState((function(e){return{picturesLoadedCount:e.picturesLoadedCount+1}})),this._onLoadExplicit(e)}},{key:"_onLoadExplicit",value:function(e){this.props.shouldCensorCover&&this.setState({explicitCoverColor:this._getExplicitCoverColor(e.target)})}},{key:"_checkAllPicturesAreLoaded",value:function(){return this.state.picturesLoadedCount>=this.state.imgSrc.length}},{key:"_getContextMenuContent",value:function(e){var t=this.state,n=t.optionsId,r=t.optionsType,a="song"===r?"track":r,i=this.props.data;"track"===a&&(i={SONG:this.props.data});var o=Object(x.a)("action-item-btn",{"action-force":e.contextMenu===ye.b.force}),c={anchor:C.a.createElement("button",{className:o,type:"button"},Te||(Te=C.a.createElement(he.a,null))),context:this._getContext(),data:i,id:n,placement:"top",type:a};return C.a.createElement(xe.a.Provider,{value:this._contextMenuId},C.a.createElement(K.a,c))}},{key:"_getContext",value:function(){var e=this.props.context,t=this.state.optionsId;return"string"==typeof e?{ID:t,TYPE:e}:e}},{key:"_getActions",value:function(){var e=this.state,t=e.isPrivatePlaylist,n=e.id,r=this.props,a=r.data,i=r.type,o=r.userID,c=r.trackList,s=r.trackListIndex,l=r.width,d=r.pageContext,p=r.isFavorite,f=r.isDisliked,h=this._getPresets();if(this.context.isDisabled)return[];var m=i===F.a.Artist||i===F.a.Radio||i===F.a.User||i===F.a.Flow||i===F.a.Livestream,v=i===F.a.Playlist&&Number(a.PARENT_USER_ID)===o||i===F.a.Show&&!B.a.isAllowed("talk"),y=a.layout_parameters&&!Object(W.f)(a.layout_parameters)||M.a.isFullWindowedAlbum(i,a)||0===a.NB_SONG,g=[];if(!t&&!y&&h.play!==ye.b.off){var b={context:this._getContext(),id:n,presets:h,trackList:c,trackListIndex:s,type:i};g.push(C.a.createElement("li",{className:"action-item",key:"play"},C.a.createElement(me.a,u()({},b,{key:"play",radio:m}))))}if(l<=64)return g;h.favorite===ye.b.off||v||g.push(C.a.createElement("li",{className:"action-item",key:"favorite"},C.a.createElement(ve.a,{id:n,type:i,presets:h,isFavorite:p,onFavoriteToggle:this._onFavoriteToggle})));var _=(0===a.NB_SONG||A.c.isRadio())&&"playlist"===i&&Number(a.PARENT_USER_ID)===o&&(1===Number(a.STATUS)||3===Number(a.STATUS));return h.contextMenu===ye.b.off||_||g.push(C.a.createElement("li",{className:"action-item",key:"contextmenu"},this._getContextMenuContent(h))),h.dislike!==ye.b.off&&g.push(C.a.createElement("li",{className:"action-item",key:"dislike"},C.a.createElement(Re,{id:n.toString(),type:i,isDisliked:f,presets:h,context:we(we({},this._getContext()),{},{TYPE:d})}))),g}},{key:"_shouldNavigateOnClick",value:function(){var e=this._getUrlWithLang();return!(!e||j.a.getCurrentPath()===e)}},{key:"_getPresets",value:function(){var e=this.props,t=e.pageContext,n=e.type;return""===t?ye.a:r[n]?we(we({},r[n].default),r[n][t]):ye.a}},{key:"_getUrlWithLang",value:function(){var e=this.props,t=e.redirectUrl,n=e.type,r=this.state.id,a=t||M.a.getClickURL(n,r);return a?Object(H.c)(a):null}},{key:"_getImgSrc",value:function(e){return e.imgSrc?"string"==typeof e.imgSrc?[e.imgSrc]:e.imgSrc:[M.a.getImageSrcForData(e.type,e.data,e.imgWidth||e.width,e.imgHeight||e.height,e.multiCover)]}},{key:"_getExplicitCoverColor",value:function(e){try{var t=Object(G.a)(e),n=t.color;if(t.visiblePixelsPercentage>10)return Object(Y.a)(n)}catch(e){}return"rgba(0,0,0,0)"}},{key:"_switchActiveImg",value:function(){this.setState((function(e){return{indexActivePicture:(e.indexActivePicture+1)%e.imgSrc.length}}))}},{key:"_isFlowType",value:function(e){return e===F.a.User||e===F.a.Flow}},{key:"_isAnimated",value:function(){return this.state.imgSrc.length>1}},{key:"_clearAnimation",value:function(){var e;this._animationHandler&&((e=this._animationHandler).id&&cancelAnimationFrame(e.id),this._animationHandler=null)}},{key:"_startAnimation",value:function(){var e,t,n,r;this._isAnimated()&&!this._animationHandler&&(this._animationHandler=(e=this._switchActiveImg,t=4e3,n={},r=performance.now(),n.id=requestAnimationFrame((function a(i){i-r>=t&&(e(),r=i),n.id=requestAnimationFrame(a)})),n))}}]),n}(R.Component);je.contextTypes={panel_name:T.a.string,isDisabled:T.a.bool,router:T.a.object},je.defaultProps={id:void 0,title:void 0,imgHeight:void 0,imgWidth:void 0,imgSrc:void 0,redirectUrl:void 0,trackListIndex:void 0,bordered:!1,borderedBlur:!1,rounded:!1,halfRounded:!1,uploadType:"picture",uploadCover:ye.b.off,className:"",height:250,width:250,data:{},multiCover:!1,blur:0,isHighlight:!1,coverLink:!0,onClick:function(){},externalLink:!1,context:"",pageContext:"",trackList:[],isSponsored:!1,alt:""};t.a=Object(N.c)((function(e,t){var n=e.user,r=e.feedbacks,a=e.popper,i="track"===t.type?F.a.Song:t.type,o=Object(O.a)(t,"context.ID")||Object(O.a)(t,"data.".concat(F.c[i]));return{shouldCensorCover:Object(q.f)(n,Object(O.a)(t,"data")||{}),userID:n.id,popperId:a.popperId,isFavorite:Object(z.h)(r,o,i),isDisliked:Object(z.g)(r,o,i)}}))(je)},Ye2i:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r="components/Popper/SHOW_POPPER",a="components/Popper/HIDE_POPPER";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{popperId:""},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r:return{popperId:t.popperId};case a:return{popperId:""};default:return e}};var i=function(e){return{type:r,popperId:e}},o=function(){return{type:a}},c=function(e,t){return e.popperId===t}},"Z+ov":function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit"],"trackIndex":true,"titleArtists":true,"multiArtist":true}')},Z4IH:function(e,t,n){"use strict";var r,a=n("lSNA"),i=n.n(a),o=(n("DQNa"),n("rB9j"),n("UxlC"),n("qePV"),n("SYor"),n("+2oP"),n("ToJy"),n("lNGS")),c=n("9z3s"),s=n("vVa8"),l=n("rb98"),u=n("GZV5"),d=n("ZWwY"),p=n("I5xK"),f=function(e){return function(t,n){var r=null,a=null,i=e?c.c[e]:null;i&&(r=t[i]?Object(l.c)(s.a.getState().feedbacks,e,t[i]):null,a=n[i]?Object(l.c)(s.a.getState().feedbacks,e,n[i]):null);var o=t.DATE_CREATE?Date.parse(t.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,u=n.DATE_CREATE?Date.parse(n.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,d=r||o||0,p=a||u||0;return d===p?0:d<p?1:-1}},h=function(e){return function(t,n,r){r="boolean"==typeof r&&r;var a=(t.ALB_TITLE||"").toLowerCase().trim(),i=(n.ALB_TITLE||"").toLowerCase().trim();return a===i?r?0:m(e)(t,n,!0):Object(u.a)(a,i)}},m=function(e){return function(t,n,r){r="boolean"==typeof r&&r;var a=(t.ART_NAME||"").toLowerCase().trim(),i=(n.ART_NAME||"").toLowerCase().trim();return a===i?r?0:h(e)(t,n,!0):Object(u.a)(a,i)}},v=function(){return function(e,t){var n=(e.TITLE||"").toLowerCase().trim(),r=(t.TITLE||"").toLowerCase().trim();return n===r?0:Object(u.a)(n,r)}},y=(r={},i()(r,p.d,m),i()(r,p.b,h),i()(r,p.g,(function(){return function(e,t){var n=e.DATE_MOD||"0000-00-00 00:00:00",r=t.DATE_MOD||"0000-00-00 00:00:00";return n===r?0:n<r?1:-1}})),i()(r,p.e,f),i()(r,p.h,v),i()(r,p.c,(function(){return function(e,t){var n=(e.NAME||"").toLowerCase().trim(),r=(t.NAME||"").toLowerCase().trim();return n===r?0:Object(u.a)(n,r)}})),i()(r,p.k,(function(e){return function(t,n){var r=o.a.data.TOP_ALBUMS_HASH||{},a=void 0!==r[t.ALB_ID]?1/(r[t.ALB_ID]+1):0,i=void 0!==r[n.ALB_ID]?1/(r[n.ALB_ID]+1):0;return a===i?h(e)(t,n):i>a?1:-1}})),i()(r,p.l,(function(){return function(e,t){var n=o.a.data.TOP_PLAYLISTS_HASH||{},r=void 0!==n[e.PLAYLIST_ID]?1/(n[e.PLAYLIST_ID]+1):0,a=void 0!==n[t.PLAYLIST_ID]?1/(n[t.PLAYLIST_ID]+1):0;return r===a?v()(e,t):a>r?1:-1}})),i()(r,p.j,(function(){return function(e,t){var n=(e.SHOW_NAME||"").toLowerCase().trim(),r=(t.SHOW_NAME||"").toLowerCase().trim();return n===r?0:Object(u.a)(n,r)}})),i()(r,p.f,f),i()(r,p.i,(function(){return function(e,t,n){var r=Object(d.a)(e)||"0000-00-00 00:00:00",a=Object(d.a)(t)||"0000-00-00 00:00:00";return r===a?n?0:function(e,t){return Number(e.ALB_ID)<Number(t.ALB_ID)?1:-1}(e,t):r<a?1:-1}})),i()(r,p.a,(function(e){return function(t,n){var r=Number(t.RANK),a=Number(n.RANK);return r===a?h(e)(t,n):a>r?1:-1}})),r);t.a=function(e,t,n){return e=e.slice(0),t===p.m||"function"!=typeof y[t]?e:e.sort(y[t](n))}},ZOXb:function(e,t,n){"use strict";var r=n("0Dky"),a=n("DMt2").start,i=Math.abs,o=Date.prototype,c=o.getTime,s=o.toISOString;e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-50000000000001))}))||!r((function(){s.call(new Date(NaN))}))?function(){if(!isFinite(c.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+a(i(e),n?6:4,0)+"-"+a(this.getUTCMonth()+1,2,0)+"-"+a(this.getUTCDate(),2,0)+"T"+a(this.getUTCHours(),2,0)+":"+a(this.getUTCMinutes(),2,0)+":"+a(this.getUTCSeconds(),2,0)+"."+a(t,3,0)+"Z"}:s},ZZqR:function(e,t,n){"use strict";var r,a=n("q1tI"),i=n.n(a),o=(n("17x9"),n("VdYI")),c=n("kUkq"),s=function(e){var t=e.isHover,n=e.isActive,a=e.size;return n?t?i.a.createElement(c.a,{size:a}):r||(r=i.a.createElement("span",{className:"equalizer equalizer-12 equalizer-dark"})):i.a.createElement(o.a,{size:a})};s.defaultProps={isHover:!1,isActive:!1,size:"auto"};t.a=s},Zkk3:function(e){e.exports=JSON.parse('{"changeOrder":true,"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Replace","Lyrics","Explicit","Artist","Album","Duration","FavoriteDate","Checkbox"],"header":{"sorter":true,"contextMenu":true,"remove":true},"toolbar":{"playAll":true,"filter":true,"sorter":true,"download":true},"infiniteScroll":true,"fillerHeight":true,"sorterStorageKey":"loved","trackIndex":true}')},Zn1i:function(e,t,n){e.exports={root:"_2v3he","is-opened":"_3OurG",isOpened:"_3OurG",topbar:"_3qF3n",mapping:"_3ZtvA",hotkey:"_2nuni",icon:"_3yydZ",single:"_2wKyb",wide:"_1WF0i",label:"_1NCT1"}},ZoLs:function(e,t,n){e.exports={root:"_1FfV3","is-active":"osRuw",isActive:"osRuw","is-short":"_2sdYH",isShort:"_2sdYH"}},aBrh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"BanIcon",paths:{16:'<path d="m3.435 13.307 9.872-9.872a7 7 0 0 1-9.872 9.872zm-.71-.705a7 7 0 0 1 9.877-9.877l-9.877 9.877zM0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8z"></path>',24:'<path d="M5.316 19.438 19.438 5.316A9.963 9.963 0 0 1 22 12c0 5.523-4.477 10-10 10-2.57 0-4.913-.97-6.684-2.562zm-.71-.704A9.964 9.964 0 0 1 2 12C2 6.477 6.477 2 12 2c2.594 0 4.957.987 6.734 2.607L4.607 18.734zM1 12c0 6.075 4.925 11 11 11s11-4.925 11-11S18.075 1 12 1 1 5.925 1 12z"></path>'}})},aOf1:function(e,t,n){"use strict";n.r(t),n.d(t,"useDeezToolsContext",(function(){return g})),n.d(t,"useDeezToolsDispatch",(function(){return b}));var r,a=n("J4zp"),i=n.n(a),o=n("lSNA"),c=n.n(o),s=(n("sMBO"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8"),n("q1tI")),l=n.n(s),u=n("orQ7"),d=n("wynh");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=(r={},c()(r,d.b.CONFIG,{}),c()(r,d.b.FEATURE,{}),c()(r,d.b.GATEKEEP,{}),r),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.c:var n;if(!t.item)throw new Error("An item to update has to be provided");return void 0!==(null===(n=e[t.item.category])||void 0===n?void 0:n[t.item.name])?(delete e[t.item.category][t.item.name],localStorage.removeItem(Object(u.d)({itemType:t.item.category,itemName:t.item.name})),f({},e)):f(f({},e),{},c()({},t.item.category,f(f({},e[t.item.category]),{},c()({},t.item.name,t.item.value))));case d.d:if(!t.item)throw new Error("An item to update has to be provided");return f(f({},e),{},c()({},t.item.category,f(f({},e[t.item.category]),{},c()({},t.item.name,t.item.value))));case d.a:return f({},h);default:throw new Error("Action type ".concat(t.type," is not handled"))}},v=Object(s.createContext)(void 0),y=Object(s.createContext)(void 0),g=function(){var e=Object(s.useContext)(v);if(void 0===e)throw new Error("useDeezToolsContext must be used within a DeezToolsProvider");return e},b=function(){var e=Object(s.useContext)(y);if(void 0===e)throw new Error("useDeezToolsDispatch must be used within a DeezToolsProvider");return e};t.default=function(e){var t=e.children,n=Object(s.useReducer)(m,h),r=i()(n,2),a=r[0],o=r[1];return l.a.createElement(v.Provider,{value:a},l.a.createElement(y.Provider,{value:o},t))}},asCL:function(e,t,n){"use strict";var r,a=n("q1tI"),i=n.n(a),o=n("eHHa"),c=n("qTzj"),s=n("KidW");t.a=function(e){var t=e.id,n=e.type;return i.a.createElement(c.a,{data:{type:n,id:t},label:Object(o.a)("Signaler un problème"),name:"CATALOG_FEEDBACK"},r||(r=i.a.createElement(s.a,null)))}},b9pq:function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("mRH6"),n("+2oP"),n("2B1R"),n("TeQF"),n("QWBl"),n("FZtP"),n("SYor"),n("17x9"),n("q1tI")),g=n.n(y),b=n("iuhU"),_=n("eHHa"),E=n("8V7w"),k=(n("rB9j"),n("UxlC"),n("2Hu5")),O=n("vx5L"),S=n("geFH");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var R=function(e){p()(n,e);var t=T(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onClick=r._onClick.bind(u()(r)),r._onRemoveClick=r._onRemoveClick.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.selected!==e.selected}},{key:"render",value:function(){var e,t,n=this.props,r=n.type,a=n.link,i=n.selected,o=n.selectable,c=n.disabled,s=n.label,l={"btn btn-tag":"button"===r,"txt-tag":"text"===r,"txt-tag-hover":"text"===r&&a,"tag-link":a&&!c,selected:i,selectable:o||c},u=Object(b.a)(l);return o||i?g.a.createElement("div",{className:u},e||(e=g.a.createElement("span",{className:"tag-label"},s)),o?this._renderSelectableButton():null,i?this._renderSelectedButton():null):a&&!c?g.a.createElement("button",{className:u,onClick:this._onClick,onKeyDown:this._onClick},t||(t=g.a.createElement("span",{className:"tag-label"},s))):g.a.createElement("div",{className:u},g.a.createElement("span",{className:"tag-label"},s))}},{key:"_renderSelectableButton",value:function(){return g.a.createElement("button",{className:"tag-action",type:"button","aria-label":Object(_.a)("Ajouter"),onClick:this._onClick},r||(r=g.a.createElement("span",{className:"icon"},g.a.createElement(O.a,null))))}},{key:"_renderSelectedButton",value:function(){return g.a.createElement("button",{className:"tag-action",type:"button","aria-label":Object(_.a)("Supprimer"),onClick:this._onRemoveClick},a||(a=g.a.createElement("span",{className:"icon"},g.a.createElement(S.a,null))))}},{key:"_onRemoveClick",value:function(e){e.stopPropagation(),this.props.onRemove(this.props.label)}},{key:"_onClick",value:function(e){if(void 0===e.keyCode||13===e.keyCode){var t=this.props,n=t.link,r=t.label,a=t.query;if(n){var i=r.replace(/^#/,"");a&&(i=a+" "+i),E.a.navigate("/tags/"+i)}k.a.trigger(k.a.tag.select,{source:this,tag:r})}}}]),n}(y.Component);R.defaultProps={query:void 0,link:!0,type:"button",selected:!1,selectable:!1,disabled:!1,onRemove:function(){}};var C=R;function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var x=function(e){p()(n,e);var t=N(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onRemove=r._onRemove.bind(u()(r)),r.state={tags:e.tags,onRemove:e.onRemove||r._onRemove},r}return s()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({tags:e.tags,onRemove:e.onRemove||this._onRemove})}},{key:"render",value:function(){var e=this,t=this.props,n=t.selected,r=t.disabled,a=t.type,i=t.overflowHidden,o=t.selectable,c=t.query,s=t.link,l=this.state.tags.slice(0,this.props.max);if(!l.length)return null;var u=Object(b.a)({"tag-list":!0,textual:"text"===a,"overflow-hidden":i,selected:n,clearfix:!0});return g.a.createElement("ul",{className:u,"aria-live":"polite"},this._renderLabel(),l.map((function(t){return g.a.createElement("li",{key:"panel-tag-"+t.LABEL},g.a.createElement(C,{label:t.LABEL||t,query:c,link:s,type:a,selectable:o,selected:n,disabled:r,onRemove:e.state.onRemove}))})))}},{key:"_renderLabel",value:function(){var e=this.props,t=e.showLabel,n=e.selectable;if(!t)return null;var r=n?Object(_.a)("Combiner avec :"):Object(_.a)("Résultats de recherche pour")+" ",a=Object(b.a)({"heading-1":!n});return g.a.createElement("li",{"aria-hidden":!n},g.a.createElement("div",{className:"tag"},g.a.createElement("span",{className:"tag-title"},g.a.createElement("span",{className:a},r))))}},{key:"_onRemove",value:function(e){if(e){var t=this.state.tags;t.length>this.props.min?(t=t.filter((function(t){return t.LABEL!==e})),this.setState({tags:t},this._navigate)):this._openSearchPanel()}}},{key:"_navigate",value:function(){if(this.props.link){var e="";this.state.tags.forEach((function(t){e+=t.LABEL.substr(1)+" "})),E.a.navigate("/tags/"+e.trim())}}},{key:"_openSearchPanel",value:function(){if(this.props.link){var e=document.getElementById("menu_search");e.click(),e.focus()}}}]),n}(y.Component);x.defaultProps={max:15,min:0,showLabel:!1,query:"",link:!0,selected:!1,selectable:!1,disabled:!1,overflowHidden:!0,type:void 0,onRemove:void 0};t.a=x},bUkg:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));n("SuFq");var r,a,i,o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("PJYZ"),d=n.n(u),p=n("7W2i"),f=n.n(p),h=n("a1gu"),m=n.n(h),v=n("Nsbk"),y=n.n(v),g=(n("wLYn"),n("R5XZ"),n("q1tI")),b=n.n(g),_=n("iuhU"),E=n("2Hu5");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var O=function(t){f()(o,t);var n=k(o);function o(){var e;return c()(this,o),(e=n.call(this))._onPageChanged=e._onPageChanged.bind(d()(e)),e._onPageDisplayed=e._onPageDisplayed.bind(d()(e)),e._updateWidth=e._updateWidth.bind(d()(e)),e._onTransitionEnd=e._onTransitionEnd.bind(d()(e)),e.state={isLoading:!1,width:0},e.contentRef=b.a.createRef(),e}return l()(o,[{key:"componentDidMount",value:function(){E.a.subscribe(E.a.navigation.page_changed,this._onPageChanged),E.a.subscribe(E.a.navigation.page_displayed,this._onPageDisplayed)}},{key:"componentWillUnmount",value:function(){clearTimeout(r),clearTimeout(i),clearInterval(a),E.a.unsubscribe(E.a.navigation.page_changed,this._onPageChanged),E.a.unsubscribe(E.a.navigation.page_displayed,this._onPageDisplayed)}},{key:"render",value:function(){var e=Object(_.a)({"page-loader":!0,opened:this.state.isLoading}),t=Object(_.a)({"page-loader-bar":!0,"has-transition":this.state.hasTransition});return b.a.createElement("div",{className:e,id:"page_loader",ref:this.contentRef},b.a.createElement("div",{className:t,style:{width:"".concat(this.state.width,"%")}}))}},{key:"_onPageChanged",value:function(){var e=this;this.state.isLoading||(this.setState({isLoading:!0,hasTransition:!0,width:20+55*Math.random()}),r=setTimeout((function(){e._updateWidth(),a=setInterval(e._updateWidth,1e3)}),1e3))}},{key:"_onPageDisplayed",value:function(){var t=this;e.nextTick((function(){t.state.isLoading&&(clearTimeout(r),clearInterval(a),t.setState({hasTransition:!1,width:100}),i=setTimeout((function(){t.contentRef.current&&t.contentRef.current.addEventListener("transitionend",t._onTransitionEnd,!1),t.setState({isLoading:!1})}),500))}))}},{key:"_onTransitionEnd",value:function(){this.setState({width:0}),this.contentRef.current&&this.contentRef.current.removeEventListener("transitionend",this._onTransitionEnd)}},{key:"_updateWidth",value:function(){this.state.width>=90&&clearInterval(a),this.setState({width:this.state.width+5})}}]),o}(g.Component)}).call(this,n("8oxB"))},beqJ:function(e,t,n){"use strict";n("SuFq");var r,a,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=(n("wLYn"),n("17x9"),n("q1tI")),g=n.n(y),b=n("iuhU"),_=n("/MKj"),E=n("5m/f"),k=n("rb98"),O=n("Rzlq"),S=n("9z3s"),T=n("H2c4"),R=n("m3Jq"),C=n("Oj4X"),N=n("OWJi");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var P=function(e){p()(n,e);var t=x(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._handleToggle=r._handleToggle.bind(u()(r)),r._handleDoubleClick=r._handleDoubleClick.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isFavorite!==e.isFavorite||this.props.id!==e.id}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isFavorite,i=e.type,o=e.tooltip,c=e.tooltipPosition,s=e.isDisabled,l=this._getTooltip(),u={className:Object(b.a)(t,"option-btn"),disabled:s,type:"button",onClick:this._handleToggle,onDoubleClick:this._handleDoubleClick,"aria-label":l},d=g.a.createElement("button",u,i===S.a.User&&g.a.createElement(R.a,{color:n&&"primary"}),i!==S.a.User&&n&&(r||(r=g.a.createElement(C.a,{color:"primary"}))),i!==S.a.User&&!n&&(a||(a=g.a.createElement(N.a,null))));return o&&!s?g.a.createElement(T.a,{text:l,position:c},d):d}},{key:"_handleDoubleClick",value:function(e){e.stopPropagation()}},{key:"_handleToggle",value:function(e){e.stopPropagation();var t=this.props,n=t.isFavorite,r=t.type,a=t.id,i=t.context,o=t.onAdd,c=t.onRemove,s={type:r,id:a,context:i};if(n){if(c)return void c(E.a,s);E.a.remove(s)}else{if(o)return void o(E.a,s);E.a.add(s)}}},{key:"_getTooltip",value:function(){var e=this.props,t=e.isFavorite,n=e.type;return"song"===n?Object(O.a)({type:n,action:"favorite"},t?"hover":"add","full"):""}}]),n}(y.Component);P.defaultProps={type:S.a.Album,tooltip:!1,tooltipPosition:"top",isDisabled:!1};t.a=Object(_.c)((function(e,t){var n=e.feedbacks;return{isFavorite:Object(k.h)(n,t.id,t.type)}}))(P)},"bh1+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("hTzS");var r=function(e){return e.app.online}},cEqK:function(e,t,n){"use strict";n("SuFq");var r=n("W8MJ"),a=n.n(r),i=n("lwsE"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("QWBl"),n("FZtP"),n("TeQF"),n("E9XD"),n("tkto"),n("yXV3"),n("J30X"),n("eoL8"),n("07d7"),n("5s+n"),n("wLYn"),n("R5XZ"),n("pDQq"),n("brp2"),n("DQNa"),n("ma9I"),n("8VJL")),h=n("HF1P"),m=n("aMzX"),v=n("vVa8"),y=n("dn5u"),g=n.n(y),b=n("orQ7"),_=n("wynh"),E=n("odOL");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var O,S={};function T(e){var t={from:e.getAttribute("from"),to:e.getAttribute("to")},n=e.getElementsByTagName("items")[0];t.node=n?n.getAttribute("node"):void 0;var r=e.getElementsByTagName("payload")[0]||e.getElementsByTagName("item")[0];t.payload=r.childNodes.length?r.childNodes[0].textContent:void 0;try{t.payload=JSON.parse(t.payload)}catch(e){}return t}function R(e){var t=this,n=T(e);return(Object(m.a)(this).listeners.message||[]).filter((function(e){return Object.keys(e.options||{}).reduce((function(t,r){return t&&(Array.isArray(e.options[r])?e.options[r]:[e.options[r]]).indexOf(n[r])>-1}),!0)})).forEach((function(e){try{e.fn(n)}catch(e){t.emit("error",e)}})),!0}function C(e){var t={client:e.getAttribute("from"),type:e.getAttribute("type")};return t.client!==this.socket.jid&&this.emit("presence",t),!0}E.Strophe.Builder.prototype.cdata||(E.Strophe.Builder.prototype.cdata=function(e){return this.node.appendChild(E.Strophe.xmlGenerator().createCDATASection(e)),this});var AuthenticationError=function(e){s()(AuthenticationError,e);var t=k(AuthenticationError);function AuthenticationError(){return o()(this,AuthenticationError),t.apply(this,arguments)}return AuthenticationError}(f.a),ConnectionError=function(e){s()(ConnectionError,e);var t=k(ConnectionError);function ConnectionError(){return o()(this,ConnectionError),t.apply(this,arguments)}return ConnectionError}(f.a),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.endpoint,r=void 0===n?"":n,a=t.id,i=void 0===a?g()():a,c=t.jid,s=t.password;o()(this,e),this.id=i,Object.defineProperty(this,"endpoint",{value:r}),Object.defineProperty(this,"jid",{value:c}),Object.defineProperty(this,"password",{value:s}),Object.defineProperty(this,"socket",{value:new E.Strophe.Connection(r)});var l=Object(m.a)(this);l.listeners={},l.retries=0}return a()(e,[{key:"connect",value:function(){var e=Object(m.a)(this);if(e.connecting)return e.connecting;if(this.socket.connected)return Promise.resolve();var t=e.connecting=new Promise((function(t,n){e.connected=function(e,r){return e?n(e):t(r)}}));return this.socket.connect(this.jid,this.password,function t(n,r){var a=this;switch(n){case E.Strophe.Status.ERROR:this.emit("error",new Error(r));break;case E.Strophe.Status.CONNFAIL:case E.Strophe.Status.CONNTIMEOUT:this.emit("error",new ConnectionError(r||"Timeout"));break;case E.Strophe.Status.AUTHFAIL:r=new AuthenticationError,this.emit("error",r),e.connected(r),e.retries=0,delete e.connecting,delete e.connected;break;case E.Strophe.Status.CONNECTED:this.socket.addHandler(R.bind(this),null,"message"),this.socket.addHandler(C.bind(this),null,"presence"),this.emit("connect"),e.connected(),e.retries=0,delete e.connecting,delete e.connected;break;case E.Strophe.Status.DISCONNECTED:this.emit("disconnect"),e.disconnecting?(e.disconnected(),delete e.disconnecting,delete e.disconnected,delete this.socket.connect_callback):self.setTimeout((function(){return e.connecting?a.socket.connect(a.jid,a.password,t.bind(a)):a.connect()}),1e3*(Math.random()*(Math.pow(2,++e.retries)-Math.pow(2,e.retries-1))+Math.pow(2,e.retries-1)));break;case E.Strophe.Status.CONNECTING:case E.Strophe.Status.AUTHENTICATING:case E.Strophe.Status.DISCONNECTING:case E.Strophe.Status.ATTACHED:case E.Strophe.Status.REDIRECT:}}.bind(this)),t}},{key:"disconnect",value:function(){var e=Object(m.a)(this);if(this===O)return Promise.reject(new Error("Cannot disconnect the singleton since the socket might be used somewhere else."));if(e.disconnecting)return e.disconnecting;if(!this.socket.connected)return Promise.resolve();var t=e.disconnecting=new Promise((function(t,n){e.disconnected=function(e,r){return e?n(e):t(r)}}));return this.socket.disconnect(),t}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(Object(m.a)(this).listeners[e]||[]).forEach((function(e){try{e.fn.apply(e,r)}catch(e){t.emit("error",e)}}))}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new E.Strophe.Builder("iq",{from:this.jid,type:"get"}).c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("items",{node:e});return this.connect().then((function(){return new Promise((function(e,a){return t.socket.sendIQ(r,(function(t){return e(T(t))}),a,n.timeout)}))}))}},{key:"off",value:function(e,t){for(var n=Object(m.a)(this),r=n.listeners[e]||[],a=r.length;a--;)t&&r[a]!==t||r.splice(a,1);r.length||delete n.listeners[e]}},{key:"on",value:function(e,t,n){var r=Object(m.a)(this);r.listeners[e]=r.listeners[e]||[],r.listeners[e].push({fn:t,options:n})}},{key:"post",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new E.Strophe.Builder("iq",{from:this.jid,type:"set"}).c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("publish",{node:e}).c("item").cdata("string"==typeof t?t:JSON.stringify(t));return this.connect().then((function(){return new Promise((function e(t){var n=Math.floor(Date.now()/1e3);return Object.keys(S).filter((function(e){return e<n})).forEach((function(e){return delete S[e]})),S[n]>=10?self.setTimeout((function(){return e(t)}),1e3):(S[n]=(S[n]||0)+1,t())}))})).then((function(){return new Promise((function(e,t){return n.socket.sendIQ(a,e,t,r.timeout)}))}))}},{key:"presence",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.connect().then((function(){return new Promise((function(r,a){return t.socket.sendPresence(new E.Strophe.Builder("presence",e),r,a,n.timeout)}))}))}}],[{key:"singleton",get:function(){var t=Object(b.b)({itemType:_.b.CONFIG,itemName:"messaging"})||h.a.get("host_messaging");return O||(O=new e({endpoint:"wss://".concat(t,"/websocket"),jid:"".concat(v.a.getState().user.id,"@").concat(t),password:v.a.getState().user.USER_TOKEN}))}}]),e}();N.AuthenticationError=AuthenticationError,N.ConnectionError=ConnectionError,t.a=N},"cI/O":function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("7W2i"),l=n.n(s),u=n("a1gu"),d=n.n(u),p=n("Nsbk"),f=n.n(p),h=(n("GKVU"),n("J30X"),n("ma9I"),n("q1tI")),m=n.n(h),v=n("9mL2"),y=n("cDf5"),g=n.n(y),b=n("PJYZ"),_=n.n(b),E=(n("wLYn"),n("qePV"),n("/MKj")),k=n("OCk3"),O=n("shcr"),S=n("MST+"),T=n("Onv7"),R=n("rod9"),C=n("3ppA"),N=n("aRb4"),x=n("9z3s"),P=n("6Sps"),w=n("6pb3"),A=n("pHhg"),I=n("LQZe");!function(e){e.EDIT="edit",e.DELETE="delete"}(r||(r={}));var j,D=n("GOkl"),L=n("hEHE"),M=(n("2B1R"),n("O397")),F=n("eHHa"),B=n("CGCA"),H=n("zs5+"),U=n("SZ5K"),z=n("d3Ol");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var q=function(e){l()(n,e);var t=V(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(_()(r)),r}return c()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.context;(0,e.dispatchDeleteSongFromPlaylist)({playlist_id:e.playlistId,songs:this.getSongIdList(),context:t})}},{key:"getSongIdList",value:function(){return this.props.ids.map((function(e){return[Number(e),Number(e)>0?0:1]}))}},{key:"render",value:function(){return m.a.createElement(B.a,{handleClick:this.handleClick},j||(j=m.a.createElement(H.a,null,m.a.createElement(z.a,null))),m.a.createElement(U.a,{value:Object(F.a)("Retirer de la playlist")}))}}]),n}(h.Component),G={dispatchDeleteSongFromPlaylist:M.d},Y=Object(E.c)(null,G)(q),W=n("UrDj"),Q=n.n(W);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var J,X,Z,$=function(e){l()(n,e);var t=K(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return m.a.createElement("div",{className:Q.a.root},this.props.children)}}]),n}(h.Component),ee=n("MvJI"),te=function(e){var t=e.id;return m.a.createElement($,null,J||(J=m.a.createElement(H.a,null,m.a.createElement(ee.a,null))),m.a.createElement(U.a,{value:"Track id : ".concat(t)}))},ne=n("MihO"),re=n("asCL"),ae=n("OfRX"),ie=n("2Hu5"),oe=n("i+V0"),ce=n("aiWK");function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var le,ue=function(e){l()(n,e);var t=se(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).apiCallRef=void 0,r.handleClick=r.handleClick.bind(_()(r)),r.handlePersonalSongDeleted=r.handlePersonalSongDeleted.bind(_()(r)),r.apiCallRef=void 0,r}return c()(n,[{key:"componentWillUnmount",value:function(){void 0!==this.apiCallRef&&ae.b.cancel(this.apiCallRef)}},{key:"handlePersonalSongDeleted",value:function(e,t){e&&ie.a.trigger(ie.a.playlist.removeSong,{playlist_id:this.props.userID,song:t.sng_list})}},{key:"handleClick",value:function(){var e=this.props,t=e.action,n=e.id;t===r.EDIT?oe.default.open("/lightbox/edit_personal_song.php?sng_id=".concat(n)):this.apiCallRef=ae.b.call({method:"personal_song.delete",data:{upload_id:n},success:this.handlePersonalSongDeleted,callback_parameters:{sng_list:n}})}},{key:"render",value:function(){return this.props.action===r.EDIT?m.a.createElement(B.a,{handleClick:this.handleClick},X||(X=m.a.createElement(H.a,null,m.a.createElement(ce.a,null))),m.a.createElement(U.a,{value:Object(F.a)("Modifier")})):m.a.createElement(B.a,{handleClick:this.handleClick},Z||(Z=m.a.createElement(H.a,null,m.a.createElement(z.a,null))),m.a.createElement(U.a,{value:Object(F.a)("Retirer de mes MP3")}))}}]),n}(h.Component),de=Object(E.c)((function(e){return{userID:e.user.id}}))(ue),pe=n("LvGN"),fe=n("AYw5");function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var me,ve,ye,ge=function(e){l()(n,e);var t=he(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=e.props,n=t.context,r=t.id;k.c.play({context:n,id:r,radio:!0,type:R.a.TRACK_MIX})},e}return c()(n,[{key:"render",value:function(){return m.a.createElement(B.a,{handleClick:this.handleClick},le||(le=m.a.createElement(H.a,null,m.a.createElement(fe.a,null))),m.a.createElement(U.a,{value:Object(F.a)("contextualmenu_text_launchtrackmix_web")}))}}]),n}(h.Component),be=n("5gQe"),_e=n("2KzU"),Ee=n("LQWP"),ke=n("VCHN");function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var Se,Te=function(e){l()(n,e);var t=Oe(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"renderChevron",value:function(){return"ltr"===this.props.langDirection?me||(me=m.a.createElement(_e.a,null)):ve||(ve=m.a.createElement(Ee.a,null))}},{key:"render",value:function(){var e=this.props.handleClick;return m.a.createElement(B.a,{handleClick:function(){e(be.a.CONTRIBUTORS)},closeOnClick:!1},ye||(ye=m.a.createElement(H.a,null,m.a.createElement(ke.a,null))),m.a.createElement(U.a,{isShort:!0,value:Object(F.a)("contextualmenu_text_seesongcredits_web")}),m.a.createElement(H.a,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}]),n}(h.Component),Re=Object(E.c)((function(e){return{langDirection:e.user.DIRECTION}}))(Te),Ce=n("r+fB"),Ne=n("NsrU"),xe=n("vEc0"),Pe=n("gEhp"),we=n("V0xF"),Ae=n("xpVx");function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var je=function(e){l()(n,e);var t=Ie(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(_()(r)),r}return c()(n,[{key:"handleClick",value:function(){var e=this,t=this.props,n=t.id,r=t.context,a=t.isPremiumUser,i=t.trackIndex,o=t.playerType,c=t.playerTrackId,s=t.playerIsRadio;if(o!==R.d.ADS){if(c!==n)return s&&!a?void xe.a.push(Object(we.c)("/track/".concat(n))):Object(Pe.u)(r.TYPE)&&i?(ie.a.subscribeOnce(ie.a.player.displayCurrentSong,(function(){e.openLyrics()})),void k.c.playTrackAtIndex(i)):(ie.a.subscribeOnce(ie.a.player.tracklist_changed,(function(){ie.a.subscribeOnce(ie.a.player.displayCurrentSong,(function(){e.openLyrics()})),k.c.control.nextSong()})),void k.c.play({addNext:!0,context:r,id:n,type:x.a.Track}));k.c.isPaused()||k.c.isPlaying()||k.c.control.play(),this.openLyrics()}}},{key:"openLyrics",value:function(){this.props.dispatchSetPlayerLyrics(!0)}},{key:"render",value:function(){return m.a.createElement(B.a,{handleClick:this.handleClick},Se||(Se=m.a.createElement(H.a,null,m.a.createElement(Ae.a,null))),m.a.createElement(U.a,{value:Object(F.a)("Écouter avec les paroles")}))}}]),n}(h.Component),De={dispatchSetPlayerLyrics:Ne.b},Le=Object(E.c)((function(e){var t=e.user,n=e.player;return{isPremiumUser:Object(S.W)(t),playerIsRadio:n.config.isRadio,playerTrackId:n.music.id,playerType:n.config.playerType}}),De)(je),Me=n("MwvU"),Fe=n("Ssqf"),Be=n("7EGn"),He=(n("oVuX"),n("B6y2"),n("QJB2")),Ue=n("pk2W"),ze=n("3HPs"),Ve=n.n(ze);function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var Ge={AUTHOR:"author",COMPOSER:"composer",MISC:"misc"},Ye={author:Object(F.a)("Auteur :"),composer:Object(F.a)("Compositeur :"),misc:Object(F.a)("Autres contributeurs :")},We=function(e){l()(n,e);var t=qe(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"renderContributors",value:function(e){var t=this.props.contributors,n=Object(Be.a)(t,e);if(!n||0===n.length)return null;var r=Object(Be.a)(Ye,e);return m.a.createElement("li",{key:e},m.a.createElement("div",{className:Ve.a.title},r),m.a.createElement("div",{className:Ve.a.subtitle},n.join(" - ")))}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(He.a,{handleClick:this.props.handleBackClick}),m.a.createElement(Ue.a,{className:Ve.a.listContainer},m.a.createElement("ul",{className:Ve.a.list},Object.values(Ge).map((function(t){return e.renderContributors(t)})))))}}]),n}(h.Component);We.panelName=be.a.CONTRIBUTORS;var Qe=We,Ke=n("tfB9"),Je=n("Di+k"),Xe=n("INFm"),Ze=n("70BM"),$e=n("Mpcf");function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var tt=function(e){l()(n,e);var t=et(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={currentPanel:r.props.forceShowPlaylists?Xe.a.panelName:null},r.updateCurrentPanel=r.updateCurrentPanel.bind(_()(r)),r.resetCurrentPanel=r.resetCurrentPanel.bind(_()(r)),r}return c()(n,[{key:"hasContributors",value:function(){var e=this.props.data;return void 0!==e.SNG_CONTRIBUTORS&&"object"===g()(e.SNG_CONTRIBUTORS)&&(e.SNG_CONTRIBUTORS.author instanceof Array||e.SNG_CONTRIBUTORS.composer instanceof Array||e.SNG_CONTRIBUTORS.misc instanceof Array)}},{key:"hasLyrics",value:function(){var e=this.props,t=e.isOnline,n=e.data,r=e.mediaType;return t&&r===R.b.SONG&&void 0!==n.LYRICS_ID&&n.LYRICS_ID>0}},{key:"isPlayable",value:function(){var e=this.props,t=e.isDisabled,n=e.isRestrictedByExplicit,r=e.mediaType,a=e.playerIsRadio;return!(t||n||a||this.isSponsoredTrack()||k.c.chromecast.isCasting()||r!==R.b.SONG)}},{key:"isPersonalTrack",value:function(){return Number(this.props.id)<0}},{key:"isSponsoredTrack",value:function(){var e=this.props.data;return k.c.helper.isSponsoredTrack(e)}},{key:"renderAddToPlaylist",value:function(){return this.props.isDisabled?null:m.a.createElement("li",null,m.a.createElement(D.a,{handleClick:this.updateCurrentPanel}))}},{key:"renderAddToQueue",value:function(){var e=this.props,t=e.context,n=e.id;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(L.a,{context:t,ids:[n],type:x.a.Track})):null}},{key:"renderContributorsPanel",value:function(){var e=this.props.data,t=this.state.currentPanel;return this.hasContributors()?m.a.createElement(Ke.a,{isVisible:t===Qe.panelName},m.a.createElement(Qe,{contributors:e.SNG_CONTRIBUTORS||{},handleBackClick:this.resetCurrentPanel})):null}},{key:"renderDeleteFromPlaylist",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return t&&"playlist_page"===t.TYPE&&n.PLAYLIST_ID&&n.PLAYLIST_PERSONNAL?m.a.createElement("li",null,m.a.createElement(Y,{context:t,ids:[r],playlistId:n.PLAYLIST_ID})):null}},{key:"renderDisplayTrackId",value:function(){var e=this.props.id;return O.a.isAllowed("employee_feature")?m.a.createElement("li",null,m.a.createElement(te,{id:e})):null}},{key:"renderEditPersonalTrack",value:function(){var e=this.props,t=e.context,n=e.id;return t&&"personal_song"===t.TYPE&&this.isPersonalTrack()?m.a.createElement("li",null,m.a.createElement(de,{action:r.EDIT,id:n})):null}},{key:"renderEditTags",value:function(){var e=this.props.id;return O.a.isAllowed("employee_feature")?m.a.createElement("li",null,m.a.createElement(ne.a,{id:e,type:x.a.Song})):null}},{key:"renderGiveFeedback",value:function(){var e=this.props.id;return m.a.createElement("li",null,m.a.createElement(re.a,{id:Number(e),type:x.a.Track}))}},{key:"renderLyrics",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return this.hasLyrics()&&this.isPlayable()?m.a.createElement("li",null,m.a.createElement(Le,{context:t,id:r,trackIndex:n.INDEX||void 0})):null}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(pe.a,{action:I.a.PLAY_NEXT,context:t,ids:[r],trackIndex:n.INDEX||void 0,type:x.a.Track})):null}},{key:"renderPlaylistsPanel",value:function(){var e=this.props,t=e.context,n=e.id,r=this.state.currentPanel===Xe.a.panelName;return m.a.createElement(Ke.a,{isVisible:r},m.a.createElement(Xe.a,{isVisible:r,context:t,handleBackClick:this.resetCurrentPanel,ids:[n]}))}},{key:"renderPlayTrackMix",value:function(){var e=this.props.id;return this.isPersonalTrack()?null:m.a.createElement("li",null,m.a.createElement(ge,{id:e,context:{ID:e,TYPE:C.a[Ze.a]}}))}},{key:"renderMainPanel",value:function(){return m.a.createElement(Je.a,{isVisible:null===this.state.currentPanel},m.a.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderPlayTrackMix(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderAddToPlaylist(),this.renderDeleteFromPlaylist(),this.renderEditPersonalTrack(),this.renderLyrics(),this.renderShare(),this.renderOpenContributors(),this.renderGiveFeedback(),this.renderEditTags(),this.renderDisplayTrackId()))}},{key:"renderOpenContributors",value:function(){return this.hasContributors()?m.a.createElement("li",null,m.a.createElement(Re,{handleClick:this.updateCurrentPanel})):null}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return this.isPersonalTrack()?null:m.a.createElement("li",null,m.a.createElement(Ce.a,{context:t,data:n,id:r,type:A.b.song}))}},{key:"renderToggleDislike",value:function(){var e=this.props,t=e.context,n=e.id;return this.isPersonalTrack()?null:m.a.createElement("li",null,m.a.createElement(Me.a,{context:t,id:n,type:x.a.Song}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id,r=e.isDisabled;return m.a.createElement("li",null,m.a.createElement(Fe.a,{context:t,id:n,isDisabled:r,type:x.a.Song}))}},{key:"resetCurrentPanel",value:function(){this.setState({currentPanel:null})}},{key:"updateCurrentPanel",value:function(e){e===Qe.panelName||e===Xe.a.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}},{key:"render",value:function(){return m.a.createElement(P.a,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel(),this.renderContributorsPanel())}}]),n}(h.Component);tt.defaultProps={forceShowPlaylists:!1};var nt=Object(w.a)(Object(E.c)((function(e,t){var n=e.app,r=e.player,a=e.user,i=t.data,o=Object(S.l)(a)===$e.d&&Object(T.d)(i);return{isOnline:n.online,mediaType:r.music.mediaType,playerIsRadio:r.config.isRadio,isDisabled:!o&&N.a.checkSongAvailable(i.FALLBACK||i)!==N.a.READABLE,isRestrictedByExplicit:o}}))(tt)),rt=n("mKhJ"),at=n.n(rt);function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var ot=function(e){l()(n,e);var t=it(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={currentPanel:r.props.forceShowPlaylists?Xe.a.panelName:null},r.updateCurrentPanel=r.updateCurrentPanel.bind(_()(r)),r.resetCurrentPanel=r.resetCurrentPanel.bind(_()(r)),r}return c()(n,[{key:"isPlayable",value:function(){var e=this.props,t=e.playerIsRadio,n=e.mediaType;return!t&&!this.isSponsoredTrack()&&!k.c.chromecast.isCasting()&&n===R.b.SONG}},{key:"isSponsoredTrack",value:function(){return k.c.helper.isSponsoredTrack()}},{key:"renderAddToPlaylist",value:function(){return m.a.createElement("li",null,m.a.createElement(D.a,{handleClick:this.updateCurrentPanel}))}},{key:"renderAddToQueue",value:function(){var e=this.props,t=e.context,n=e.ids;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(L.a,{context:t,ids:n,type:x.a.Track})):null}},{key:"renderDeleteFromPlaylist",value:function(){var e=this.props,t=e.context,n=e.data,r=e.ids;return t&&"playlist_page"===t.TYPE&&n.PLAYLIST_PERSONNAL?m.a.createElement("li",null,m.a.createElement(Y,{context:t,ids:r,playlistId:n.PLAYLIST_ID})):null}},{key:"renderHeader",value:function(){var e=this.props,t=e.hasHeader,n=e.ids;if(!t)return null;var r=n.length,a=Object(F.c)("%s titre","%s titres",{sprintf:[r],count:r});return m.a.createElement("li",{className:at.a.header},m.a.createElement("h3",null,a))}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.ids;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(pe.a,{action:I.a.PLAY_NEXT,context:t,ids:n,type:x.a.Track})):null}},{key:"renderPlaylistsPanel",value:function(){var e=this.props,t=e.context,n=e.ids,r=this.state.currentPanel===Xe.a.panelName;return m.a.createElement(Ke.a,{isVisible:r},m.a.createElement(Xe.a,{isVisible:r,context:t,handleBackClick:this.resetCurrentPanel,ids:n}))}},{key:"renderMainPanel",value:function(){return m.a.createElement(Je.a,{isVisible:null===this.state.currentPanel},m.a.createElement("ul",null,this.renderHeader(),this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist(),this.renderDeleteFromPlaylist()))}},{key:"resetCurrentPanel",value:function(){this.setState({currentPanel:null})}},{key:"updateCurrentPanel",value:function(e){e===Xe.a.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}},{key:"render",value:function(){return m.a.createElement(P.a,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}]),n}(h.Component);ot.defaultProps={forceShowPlaylists:!1,hasHeader:!1};var ct=Object(w.a)(Object(E.c)((function(e){var t=e.player;return{mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio}}))(ot)),st=n("OuPr"),lt=n("3lCq");function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var dt=function(e){l()(n,e);var t=ut(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(v.c)(),r}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.forceShowPlaylists,o=t.hasHeader,c=t.id,s=t.placement,l=Array.isArray(c)?c:[c],u=i?v.b:"";return m.a.createElement(lt.a.Consumer,null,(function(t){var c={data:{context:r,data:a,forceShowPlaylists:i,hasHeader:o,id:l[0],ids:l},hasArrow:!1,placement:s,popperId:"".concat(t||e.contextMenuId).concat(u),trigger:[st.d,st.f],usePortal:!0};return l.length<=1?m.a.createElement(nt,c,n):m.a.createElement(ct,c,n)}))}}]),n}(h.Component);dt.defaultProps={forceShowPlaylists:!1,hasHeader:!1,placement:"left"};t.a=dt},cWlz:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));n("sMBO");var r={name:"",data:{}};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:null};switch(t.type){case"fullscreen/SHOW_FULLSCREEN":return t.name?{name:t.name,data:t.data}:e;case"fullscreen/HIDE_FULLSCREEN":return r;default:return e}}var i=function(e){return{type:"fullscreen/SHOW_FULLSCREEN",name:e.name,data:e.data}},o=function(){return{type:"fullscreen/HIDE_FULLSCREEN"}}},ccPJ:function(e,t,n){e.exports={container:"_2rdNU",title:"_17dCw",text:"CQLnV"}},cyMh:function(e){e.exports=JSON.parse('{"changeOrder":true,"cells":["Play","Love","Title","Replace","EditMp3","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true,"remove":true},"toolbar":{"playAll":true,"favorite":true,"shareType":3,"contextMenu":true,"filter":true,"sorter":true},"infiniteScroll":true,"fillerHeight":true,"trackIndex":true,"unseen":true,"sorterStorageKey":"playlist","download":true}')},d54G:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("1Hxe"),s=n("Omop");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=Object(s.a)(),n=u(u({},e),t);return o.a.createElement(c.b,n)}},dPk7:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"force","preview":"on","favorite":"on","contextMenu":"on","dislike":"off"},"playlist_page":{"preview":"off","favorite":"off","contextMenu":"off"},"artist_discography_related_playlist":{"play":"on","preview":"off","favorite":"off","contextMenu":"off"},"topbar_popper_playlist":{"play":"on"}}')},dfx1:function(e,t,n){"use strict";n("DQNa");var r=n("OfRX"),a=n("2Hu5"),i=n("XoLw"),o=n("vVa8"),c=n("MST+"),s={statusExclamationMark:80,object:null,type:"no_restriction",init:function(){try{if(o.a.getState().user.id<=0||Object(c.O)(o.a.getState().user))return!1;if(o.a.getState().user.USER.OPTIONS.web_streaming&&0===o.a.getState().user.USER.OPTIONS.web_streaming_duration)return!1;r.b.call({method:"restriction.get",data:{},success:function(e){e&&(s.object=e,Math.round((new Date).getTime()/1e3)<s.object.date_end_discover?s.type="discovery_unlimited":(s.type="discovery",a.a.subscribe(a.a.player.updateRestrictTime,s.updateRestrictTime)))}})}catch(e){i.a.error(e)}return!0},updateRestrictTime:function(e,t){return s.object.time_left-=t,s.object.time_used+=t,s.object.percent=100*s.object.time_used/(s.object.time_used+s.object.time_left),s.object.percent=Math.min(s.object.percent,100),!0}};t.a=s},eRUA:function(e,t,n){"use strict";e.exports=a;var r=n("kVK+");function a(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var i="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function o(e){return e.type===a.Bytes?e.readVarint()+e.pos:e.pos+1}function c(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var a=n.pos-1;a>=e;a--)n.buf[a+r]=n.buf[a]}function l(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function g(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}a.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),a=r>>3,i=this.pos;this.type=7&r,e(a,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=g(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=g(this.buf,this.pos)+4294967296*g(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=g(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,a,i=n.buf;if(a=i[n.pos++],r=(112&a)>>4,a<128)return c(e,r,t);if(a=i[n.pos++],r|=(127&a)<<3,a<128)return c(e,r,t);if(a=i[n.pos++],r|=(127&a)<<10,a<128)return c(e,r,t);if(a=i[n.pos++],r|=(127&a)<<17,a<128)return c(e,r,t);if(a=i[n.pos++],r|=(127&a)<<24,a<128)return c(e,r,t);if(a=i[n.pos++],r|=(1&a)<<31,a<128)return c(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&i?function(e,t,n){return i.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",a=t;for(;a<n;){var i,o,c,s=e[a],l=null,u=s>239?4:s>223?3:s>191?2:1;if(a+u>n)break;1===u?s<128&&(l=s):2===u?128==(192&(i=e[a+1]))&&(l=(31&s)<<6|63&i)<=127&&(l=null):3===u?(i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&((l=(15&s)<<12|(63&i)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(i=e[a+1],o=e[a+2],c=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&c)&&((l=(15&s)<<18|(63&i)<<12|(63&o)<<6|63&c)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),a+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==a.Bytes)return e.push(this.readVarint(t));var n=o(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==a.Bytes)return e.push(this.readSVarint());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==a.Bytes)return e.push(this.readBoolean());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==a.Bytes)return e.push(this.readFloat());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==a.Bytes)return e.push(this.readDouble());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===a.Varint)for(;this.buf[this.pos++]>127;);else if(t===a.Bytes)this.pos=this.readVarint()+this.pos;else if(t===a.Fixed32)this.pos+=4;else{if(t!==a.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,a,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!a){r>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=r;continue}r=a-55296<<10|r-56320|65536,a=null}else a&&(e[n++]=239,e[n++]=191,e[n++]=189,a=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&s(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,a.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,a.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,a.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,a.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,a.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},exAA:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"loader"},e),r||(r=c.a.createElement("path",{d:"M1.735 10.22l.707-.707a5 5 0 1 0 .015-7.042l-.707-.706a6 6 0 1 1-.015 8.456z"})))}},fDhA:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a,i=n("VkAN"),o=n.n(i),c=n("UYTu"),s=Object(c.a)(r||(r=o()(["\n\tfragment AlbumContributors on Album {\n\t\tcontributors {\n\t\t\tedges {\n\t\t\t\tcursor\n\t\t\t\troles\n\t\t\t\tnode {\n\t\t\t\t\t... on Artist {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\tpicture {\n\t\t\t\t\t\t\tsmall: urls(pictureRequest: {width: 100, height: 100})\n\t\t\t\t\t\t\tmedium: urls(pictureRequest: {width: 264, height: 264})\n\t\t\t\t\t\t\tlarge: urls(pictureRequest: {width: 500, height: 500})\n\t\t\t\t\t\t\tcopyright\n\t\t\t\t\t\t\texplicitStatus\n\t\t\t\t\t\t\t__typename\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),l=Object(c.a)(a||(a=o()(["\n\tfragment AlbumBase on Album {\n\t\tid\n\t\tdisplayTitle\n\t\tcover {\n\t\t\tsmall: urls(pictureRequest: {width: 100, height: 100})\n\t\t\tmedium: urls(pictureRequest: {width: 264, height: 264})\n\t\t\tlarge: urls(pictureRequest: {width: 500, height: 500})\n\t\t\tcopyright\n\t\t\texplicitStatus\n\t\t\t__typename\n\t\t}\n\t\t...AlbumContributors\n\t}\n\t","\n"])),s)},fHnW:function(e){e.exports=JSON.parse('{"sortableCells":["FavoriteDate","Title","Artist","Album"]}')},fehg:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"off","preview":"off","favorite":"off","contextMenu":"off","dislike":"off"}}')},fhKP:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"u",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"s",(function(){return x})),n.d(t,"y",(function(){return P})),n.d(t,"z",(function(){return w})),n.d(t,"x",(function(){return A})),n.d(t,"w",(function(){return I})),n.d(t,"v",(function(){return j})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"p",(function(){return z})),n.d(t,"q",(function(){return V})),n.d(t,"n",(function(){return q})),n.d(t,"c",(function(){return Y})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return K})),n.d(t,"m",(function(){return J})),n.d(t,"r",(function(){return $})),n.d(t,"o",(function(){return ee})),n.d(t,"i",(function(){return te})),n.d(t,"g",(function(){return ne})),n.d(t,"h",(function(){return re})),n.d(t,"f",(function(){return ae}));n("tkto"),n("pNMO"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r),i=n("Muja"),o=n("Fsnq"),c=(n("sMBO"),n("TeQF"),n("yXV3"),n("zKZe"),n("2B1R"),n("qePV"),n("uqXc"),n("ma9I"),n("G4qV")),s=n("OCk3"),l=n("rod9"),u=n("HF1P"),d=n("4XRG"),p=n("2iVh"),f=n("Onv7"),h=n("8Ftv"),m=n.p+"slash/images/common/ads/player.887183beab8f8916c3546427296f2f08.jpg",v=n("VH4h"),y=n("5m/f"),g=n("9z3s"),b=n("Xn2y");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={track:{},trackPrev:{},trackNext:{},id:"-1",list:[],recommendations:[],index:0,maxPlayedIndex:0,trackDuration:0,tracklistDuration:0,albumTitle:"",trackTitle:"",trackArtists:[],isFavorite:!1,isExplicit:!1,isLastSong:!0,isSponsored:!1,sponsoredData:{},isFingerprinted:!1,mediaType:"",context:{},cover:"https://".concat(u.a.get("host_img_url_ssl"),"/cover/250x250.jpg"),unshuffledList:[],liveStreamData:{},quality:h.b.STANDARD},O=function(e){if(!Object(o.a)(e))return[];if(e.LIVE_ID)return[];var t=e.ARTISTS||[{ART_NAME:e.ART_NAME||e.SHOW_NAME,ART_ID:e.ART_ID||e.SHOW_ID}],n=[];return t.filter((function(e){return-1===n.indexOf(e.ART_ID)&&(n.push(e.ART_ID),!0)}))};var S=function(e){var t=E(E({},e),function(){var e=s.c.getCurrentSong()||{},t=Object.assign({},s.c.getPrevSong())||{},n=Object.assign({},s.c.getNextSong())||{},r=s.c.getMediaId(e),a=s.c.getMediaType()||"",i=e[r]?String(e[r]):"-1",o=s.c.getTrackList()||[];o=o.map((function(e){return Object.assign({},e)}));var c,u=s.c.getTrackList(!1,!0)||[];return{track:e,trackPrev:t,trackNext:n,id:i,list:o,unshuffledList:u=u.map((function(e){return Object.assign({},e)})),recommendations:s.c.getRecommendations(),index:s.c.getTrackListIndex(),tracklistDuration:Number(s.c.getTrackListDuration()),trackDuration:Number(s.c.getDuration())||0,albumTitle:(c=e,p.h.parser.name(c)||""),trackArtists:O(e),isFavorite:y.a.isFavorite(g.a.Song,i),isExplicit:Boolean(Object(f.d)(e)||Object(f.c)(e)),isLastSong:s.c.isLastSong(),isSponsored:s.c.helper.isSponsoredTrack(),sponsoredData:s.c.getSponsoredData()||{},liveStreamData:a===l.b.LIVE_STREAM?o[0]:{},isFingerprinted:!1,mediaType:s.c.getMediaType()||"",context:s.c.getContext()||{}}}());return t.maxPlayedIndex=Object(i.a)(e.context,t.context)?Math.max(s.c.getTrackListIndex(),e.maxPlayedIndex):s.c.getTrackListIndex(),t};function T(){var e,t,n,r,a,o,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(u.type){case b.a:case b.i:return S(c);case b.h:return e=s.c.getCurrentSong()||{},r=s.c.getMediaId(e),c.id!==String(e[r])||!Object(i.a)(c.context,s.c.getContext())||c.track&&c.track.UID&&c.track.UID!==e.UID||c.track&&c.track.TS&&c.track.TS!==e.TS?S(c):c;case b.g:return e=u.track,r=s.c.getMediaId(e),o=String(e[r]),c.id===o&&c.isFingerprinted?c:E(E({},c),{},{track:e,id:o,trackArtists:O(e),isFingerprinted:!0,isFavorite:y.a.isFavorite(g.a.Song,o),isSponsored:s.c.helper.isSponsoredTrack(e)});case b.f:return(a=y.a.isFavorite(g.a.Song,c.id))!==c.isFavorite?E(E({},c),{},{isFavorite:a}):c;case b.d:return u.trackDuration!==c.trackDuration?E(E({},c),{},{trackDuration:s.c.isLimited()?30:Number(u.trackDuration)}):c;case v.j:return s.c.getRepeat()===l.e.SINGLE?c:(t=Object.assign({},s.c.getPrevSong())||{},n=Object.assign({},s.c.getNextSong())||{},r=s.c.getMediaId(e),c.trackPrev[r]!==t[r]||c.trackNext[r]!==n[r]?E(E({},c),{},{trackPrev:t,trackNext:n,isLastSong:s.c.isLastSong()}):c);case b.e:return E(E({},c),{},{trackTitle:u.trackTitle});case b.b:return E(E({},c),{},{cover:u.cover});case b.c:return E(E({},c),{},{quality:u.quality});default:return c}}var R=function(e){return{type:b.c,quality:e}};function C(){return function(e,t){var n=Z(t());n!==t().player.music.cover&&e({type:b.b,cover:n})}}function N(){return function(e,t){var n=ee(t());n!==t().player.music.trackTitle&&e({type:b.e,trackTitle:n})}}function x(){return function(e){e({type:b.a}),e(C()),e(N()),e(Object(d.c)()),e(Object(d.b)())}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(E(E({},e),{},{type:b.h})),t(C()),t(N()),t(Object(d.c)()),t(Object(d.b)())}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(E(E({},e),{},{type:b.i})),t(C()),t(N()),t(Object(d.c)()),t(Object(d.b)())}}function A(e){return function(t){t({type:b.g,track:e.track}),t(C()),t(N())}}var I=function(){return{type:b.f}},j=function(e){return{type:b.d,trackDuration:Number(e.trackDuration)}},D=function(e){return e.player.music.mediaType||null},L=function(e){return e.player.music.id||null},M=function(e){return e.player.music.context||null},F=function(e){return e.player.music.isFingerprinted},B=function(e){return e.player.music.track||{}},H=function(e){return e.player.music.trackPrev||{}},U=function(e){return e.player.music.trackNext||{}},z=function(e){var t=e.player;return t.music.track?t.music.track.__TYPE__||t.music.track.type:null},V=function(e){var t=e.player;return t.music.track?t.music.track.UID:null},q=function(e){var t=e.player;return t.music.track?t.music.track.TS:null},G=function(e){return e.player.config.playerType},Y=function(e){return e.player.music.cover},W=function(e){return e.player.music.quality},Q=function(e){return e.player.music.albumTitle},K=function(e){return e.player.music.trackArtists},J=function(e){return e.player.music.cover},X=function(e,t,n,r){var i;if(Object(s.d)(t)||!Object(o.a)(n))return"";var c=n[(i={},a()(i,l.b.EPISODE,"EPISODE_TITLE"),a()(i,l.b.LIVE_STREAM,r?"SNG_TITLE":"LIVESTREAM_TITLE"),i)[e]]||n.SNG_TITLE;return"string"==typeof n.VERSION&&n.VERSION.length>0&&(c+=" "+n.VERSION),c};var Z=Object(c.a)([B,G,D,F,function(e){return e.player.music.isSponsored},function(e){return e.player.config.isBlindTestMode},function(e){var t=e.player;return t.music.track?t.music.track.ALB_PICTURE:""},function(e){var t=e.player;return t.music.track?t.music.track.PICTURE_URL:""},function(e){var t=e.player;return t.music.track?t.music.track.SHOW_ART_MD5:""},function(e){var t=e.player;return t.music.sponsoredData?t.music.sponsoredData:{}},function(e){return e.player.music.liveStreamData}],(function(e,t,n,r,a,i,o,c,s,d,p){var f,h=((f="https://".concat(u.a.get("host_img_url_ssl")))&&(f=f.lastIndexOf("/")===f.length-1?f.substr(0,f.length-1):f),f),v=m;if(t!==l.d.ADS&&(v="".concat(h,"/cover"),n===l.b.EPISODE?v="".concat(h,"/talk/").concat(s):i||"string"!=typeof o||(v+="/"+o),v+="/250x250.jpg"),n===l.b.EXTERNAL||n===l.b.LIVE_STREAM){var y="";v="http"===(y=n===l.b.LIVE_STREAM?r?o:p.LIVESTREAM_IMAGE_MD5:c).substring(0,4)?y:"".concat(h,"/").concat(r?"cover":"misc","/").concat(y,"/250x250.jpg")}return a&&d.ARTWORK_URL&&(v=d.ARTWORK_URL),v})),$=Object(c.a)([D,B],(function(e,t){return e===l.b.SONG&&void 0!==t.LYRICS_ID&&0!==Number(t.LYRICS_ID)})),ee=Object(c.a)([D,G,B,F],X),te=Object(c.a)([D,G,H],X),ne=Object(c.a)([D,G,U],X),re=Object(c.a)([H],O),ae=Object(c.a)([U],O)},flYr:function(e,t,n){"use strict";n.d(t,"b",(function(){return j}));n("yq1k"),n("rB9j"),n("UxlC"),n("JTJg");var r=n("2Hu5"),a=n("HF1P"),i=n("OCk3"),o=n("dfx1"),c=n("vVa8"),s=n("vEc0"),l=n("9z3s"),u=n("P3cJ"),d=n("70BM"),p=n("Xn2y"),f=Object(u.d)(l.a.Album),h=Object(u.c)(l.a.Artist,d.r),m=Object(u.c)(l.a.Playlist,d.b),v=Object(u.d)(l.a.Episode),y=Object(u.c)(l.a.User,d.i),g=Object(u.c)(l.a.Album,d.d),b=Object(u.c)(l.a.Artist,d.d),_=Object(u.c)(l.a.Playlist,d.d),E=Object(u.c)(l.a.Radio,d.d),k=Object(u.c)(l.a.Track,d.d),O=Object(u.d)(l.a.Livestream),S=Object(u.d)(l.a.Playlist),T=Object(u.c)(l.a.User,d.i),R=Object(u.d)(l.a.Radio),C=Object(u.c)(l.a.Artist,d.q),N=Object(u.d)(l.a.Show),x=Object(u.d)(l.a.Smarttracklist),P=Object(u.d)(l.a.Track),w={album:f,artist:h,episode:v,flow:y,landingalbum:g,landingartist:b,landingplaylist:_,landingradio:E,landingtrack:k,livestream:O,playlist:S,profile:T,mix:R,mixes:C,show:N,smarttracklist:x,track:P},A=/.*\/([0-9]+).*/,I=/.*\/smarttracklist\/([0-9a-z-]+).*/;function j(){var e=!1;r.a.subscribeOnce(r.a.player.tracklist_changed,(function(){return r.a.resolve(r.a.player.playerReady)})),r.a.subscribeOnce(r.a.player.playerLoaded,(function(){i.c.restoreSetting(c.a.getState().user.USER.SETTING),e&&i.c.control.play()})),o.a.init(),i.c.html5.init();var t=w[c.a.getState().app.currentPage]||m,n=["flow","landing"].includes(c.a.getState().app.currentPage),l=s.a.location&&s.a.location.query&&("true"===s.a.location.query.autoplay||"1"===s.a.location.query.autoplay),u=c.a.getState().user.PLAYLIST_WELCOME_ID;t===T?u=c.a.getState().user.USER.USER_ID:t===x&&I.test(s.a.location.pathname)?u=s.a.location.pathname.replace(I,"$1"):t!==m&&A.test(s.a.location.pathname)&&(u=s.a.location.pathname.replace(A,"$1"));var d=a.a.get("log_contexts")[t];switch(t){case h:d="topArtistFull";break;case g:case b:case _:case E:case k:d=a.a.get("log_contexts")[c.a.getState().app.currentPage]}i.c.play({autoplay:n||l,context:{ID:u,TYPE:t},id:u,initializing:!0,sync:!1,type:d,radio:[R,C,T].includes(t),callbackTrack:function(e){if(!e.length){var t=c.a.getState().user.PLAYLIST_WELCOME_ID,n=m;i.c.play({autoplay:!1,context:{ID:t,TYPE:n},id:t,initializing:!0,sync:!1,type:a.a.get("log_contexts")[n]})}}})}t.a=function(){return function(e){return function(t){var n=e(t);switch(t.type){case p.a:j()}return n}}}},fshp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));n("07d7"),n("5s+n");var r=n("OfRX"),a=n("eMQJ"),i=n("xJYM"),o=function(e,t){switch(e.type){case i.a.EPISODE:return function(e,t){return new Promise((function(n,a){r.b.call({method:"episode.bookmarkSet",data:{EPISODE_ID:e.id,OFFSET:e.offset,DURATION:t,ISHEARD:e.played?1:0},success:function(){n(e)},error:function(e){a(e)}})}))}(e,t);default:return Promise.reject(new Error("Cannot persist bookmark of type ".concat(e.type)))}},c=function(e,t){switch(e.type){case i.a.EPISODE:return function(e,t){return new Promise((function(n,a){r.b.call({method:t?"episode.markAsPlayed":"episode.markAsNotPlayed",data:{EPISODE_ID:e.id},success:function(){n(e)},error:function(e){a(e)}})}))}(e,t);default:return Promise.reject(new Error("Cannot persist bookmark of type ".concat(e.type)))}},s=function(e,t,n,r){var i=a.a.createNotPlayedBookmark(t,e);return i.updateProgress(n,r),o(i,r)},l=function(e,t,n){return e.updateProgress(t,n),o(e,n)},u=function(e,t,n){return n?n.markAsPlayed():n=a.a.createPlayedBookmark(t,e),c(n,!0)},d=function(e,t,n){return n?n.markAsNotPlayed():n=a.a.createNotPlayedBookmark(t,e),c(n,!1)}},ftm1:function(e,t,n){"use strict";n("DQNa"),n("07d7"),n("JfAA");var r,a,i=n("q1tI"),o=n.n(i),c=n("/MKj"),s=n("eHHa"),l=n("uNVz"),u=n("CGCA"),d=n("zs5+"),p=n("SZ5K"),f=n("geFH"),h=n("xr9f"),m=n("Omop");t.a=Object(c.c)((function(e,t){var n=e.cache;return{currentAudioQuality:e.user.currentAudioQuality,isPersisted:Object(l.i)(n,{id:t.id,type:t.type})}}))((function(e){var t=e.context,n=e.currentAudioQuality,i=e.id,c=e.isPersisted,l=e.type,v=Object(m.a)(),y=v.addToCache,g=v.removeFromCache,b=c?r||(r=o.a.createElement(f.a,null)):a||(a=o.a.createElement(h.a,null)),_=c?o.a.createElement(p.a,{value:Object(s.a)("desktopapp_action_removefromdownloads_web")}):o.a.createElement(p.a,{value:Object(s.a)("Télécharger")});return o.a.createElement(u.a,{handleClick:function(){var e={id:i.toString(),type:l,context:t};return c?g({entity:e}):y({entity:e,quality:n})}},o.a.createElement(d.a,null,b),_)}))},h3bK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"options"},e),r||(r=c.a.createElement("path",{d:"M10.5 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM6 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-4.5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})))}},h3fg:function(e,t,n){"use strict";var r;function a(e){document.body.offsetHeight<window.innerHeight?document.body.classList.remove("has-scrollbar-disabled"):(e||(r=window.pageYOffset),document.body.classList.toggle("has-scrollbar-disabled",!e),e&&window.scrollTo(0,r))}n.d(t,"a",(function(){return a}))},hEHE:function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=(n("wLYn"),n("q1tI")),y=n.n(v),g=n("OCk3"),b=n("eHHa"),_=n("9z3s"),E=n("CGCA"),k=n("zs5+"),O=n("SZ5K"),S=n("rzJC");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var R=function(e){d()(n,e);var t=T(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(l()(r)),r}return c()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.context,n=e.ids,r=e.type;g.c.play({addQueue:!0,context:t,id:r===_.a.Song||r===_.a.Track?n:n[0],type:r})}},{key:"render",value:function(){return y.a.createElement(E.a,{handleClick:this.handleClick},r||(r=y.a.createElement(k.a,null,y.a.createElement(S.a,null))),y.a.createElement(O.a,{value:Object(b.a)("Ajouter à la file d'attente")}))}}]),n}(v.Component);t.a=R},hG0x:function(e,t,n){"use strict";n("SuFq"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r,a=n("lSNA"),i=n.n(a),o=n("QILm"),c=n.n(o),s=n("lwsE"),l=n.n(s),u=n("W8MJ"),d=n.n(u),p=n("7W2i"),f=n.n(p),h=n("a1gu"),m=n.n(h),v=n("Nsbk"),y=n.n(v),g=(n("ma9I"),n("17x9"),n("q1tI")),b=n.n(g),_=n("pSVP"),E=n("geFH"),k=n("vVa8"),O=n("sdW4"),S=["action","message","id","onClose"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var C=function(e){f()(n,e);var t=R(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClose=function(t){k.a.dispatch(Object(O.b)(e.props.id)),e.props.onClose&&e.props.onClose(t)},e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.message,a=(e.id,e.onClose,c()(e,S)),o=[b.a.createElement("button",{type:"button",onClick:this.handleClose,key:"close"},r||(r=b.a.createElement(E.a,null)))],s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:t.concat(o),children:n},a);return b.a.createElement(_.a,s)}}]),n}(g.PureComponent);C.defaultProps={action:[],message:null,onClose:void 0,title:void 0},t.a=C},hwpZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"cancel"},e),r||(r=c.a.createElement("path",{d:"M1.75 10.25l8.5-8.5m.002 8.505L1.75 1.75",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeWidth:"1.5"})))}},"i/No":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"chevron-left"},e),r||(r=c.a.createElement("path",{d:"M4.7 6l4.5-4.4a.9.9 0 0 0 0-1.3.8.8 0 0 0-1.3 0L2.7 5.4a.9.9 0 0 0 0 1.2l5.2 5.1a.9.9 0 0 0 1.3 0 .9.9 0 0 0 0-1.3z"})))}},i21D:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("17x9"),n("q1tI")),h=n.n(f),m=n("iuhU"),v=n("eHHa"),y=n("H2c4");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var b=function(e){s()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return"small"===this.props.type?h.a.createElement(y.a,{text:Object(v.a)("label_title_explicitUPP_web")},this._renderLabel()):this._renderLabel()}},{key:"_renderLabel",value:function(){var e=this.props.type,t=Object(v.a)("label_title_explicitUPP_web"),n=Object(m.a)("explicit",{outline:"default"!==e,ellipsis:"outline"===e,small:"small"===e});return h.a.createElement("div",{className:n},"small"===e?t.charAt(0):t)}}]),n}(f.Component);b.defaultProps={type:"default"},t.a=b},iKuf:function(e,t,n){"use strict";n("SuFq");var r,a,i,o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=(n("GKVU"),n("ma9I"),n("q1tI")),y=n.n(v),g=n("shcr"),b=n("PJYZ"),_=n.n(b),E=n("vFlG"),k=(n("wLYn"),n("xJYM")),O=n("eHHa"),S=n("V0xF"),T=n("6Sps"),R=n("6pb3"),C=n("pHhg"),N=n("GOPb"),x=n("zs5+"),P=n("SZ5K"),w=n("uLqA"),A=n("/MKj"),I=n("CGCA"),j=n("2KzU"),D=n("LQWP"),L=n("tjb6"),M=n("5gQe");function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var B,H,U=function(e){d()(n,e);var t=F(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"renderChevron",value:function(){return"ltr"===this.props.langDirection?r||(r=y.a.createElement(j.a,null)):a||(a=y.a.createElement(D.a,null))}},{key:"render",value:function(){var e=this.props.handleClick;return y.a.createElement(I.a,{handleClick:function(){e(M.a.DESCRIPTION)},closeOnClick:!1},i||(i=y.a.createElement(x.a,null,y.a.createElement(L.a,null))),y.a.createElement(P.a,{isShort:!0,value:Object(O.a)("En savoir plus")}),y.a.createElement(x.a,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}]),n}(v.Component),z=Object(A.c)((function(e){return{langDirection:e.user.DIRECTION}}))(U),V=n("r+fB"),q=n("onH1"),G=n("fshp"),Y=n("H4bv"),W=n("geFH"),Q=n("R+m1");function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var J=function(e){d()(n,e);var t=K(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(_()(r)),r}return l()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.bookmark,n=e.id,r=e.dispatchMarkAsNotPlayed,a=e.dispatchMarkAsPlayed,i=e.played,o=e.type,c=null===t?void 0:t;i&&Object(G.b)(o,n,c).then((function(e){return r(e)})),Object(G.c)(o,n,c).then((function(e){return a(e)}))}},{key:"render",value:function(){return this.props.played?y.a.createElement(I.a,{handleClick:this.handleClick},B||(B=y.a.createElement(x.a,null,y.a.createElement(W.a,null))),y.a.createElement(P.a,{value:Object(O.a)("contextualmenu_text_markasnotplayed_web")})):y.a.createElement(I.a,{handleClick:this.handleClick},H||(H=y.a.createElement(x.a,null,y.a.createElement(Q.a,null))),y.a.createElement(P.a,{value:Object(O.a)("contextualmenu_text_markasplayed_web")}))}}]),n}(v.Component),X={dispatchMarkAsNotPlayed:Y.c,dispatchMarkAsPlayed:Y.d},Z=Object(A.c)((function(e,t){var n=e.bookmarks;return{bookmark:Object(q.a)(n,t.type,t.id),played:Object(q.e)(n,t.type,t.id)}}),X)(J),$=n("QJB2"),ee=n("pk2W"),te=n("ccPJ"),ne=n.n(te);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ae=function(e){d()(n,e);var t=re(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"renderTitle",value:function(){var e=this.props.title;return e?y.a.createElement("div",{className:ne.a.title},e):null}},{key:"render",value:function(){var e=this.props,t=e.handleBackClick,n=e.text;return y.a.createElement(y.a.Fragment,null,y.a.createElement($.a,{handleClick:t}),y.a.createElement(ee.a,{className:ne.a.container},y.a.createElement(y.a.Fragment,null,this.renderTitle(),y.a.createElement("div",{className:ne.a.text},n))))}}]),n}(v.Component);ae.panelName=M.a.DESCRIPTION;var ie,oe=ae,ce=n("Di+k"),se=n("tfB9");function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ue=function(e){d()(n,e);var t=le(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).state={currentPanel:r.props.forceShowDescription?oe.panelName:null},r.updateCurrentPanel=r.updateCurrentPanel.bind(_()(r)),r.resetCurrentPanel=r.resetCurrentPanel.bind(_()(r)),r}return l()(n,[{key:"hasDescription",value:function(){var e=this.props,t=e.data,n=e.forceShowDescription;return Object(E.a)(t,"EPISODE_DESCRIPTION")||!0===n}},{key:"renderDescriptionPanel",value:function(){var e=this.props.data,t=this.state.currentPanel;return this.hasDescription()?y.a.createElement(se.a,{isVisible:t===oe.panelName},y.a.createElement(oe,{handleBackClick:this.resetCurrentPanel,text:e.EPISODE_DESCRIPTION||""})):null}},{key:"renderLinkToShow",value:function(){var e=this.props.data;return y.a.createElement("li",null,y.a.createElement(w.a,{href:Object(S.c)("/show/".concat(e.SHOW_ID)),isExternal:!1},ie||(ie=y.a.createElement(x.a,null,y.a.createElement(N.a,null))),y.a.createElement(P.a,{value:Object(O.a)("Page show")})))}},{key:"renderMainPanel",value:function(){return y.a.createElement(ce.a,{isVisible:null===this.state.currentPanel},y.a.createElement("ul",null,this.renderToggleBookmark(),this.renderShare(),this.renderOpenDescription(),this.renderLinkToShow()))}},{key:"renderOpenDescription",value:function(){return this.hasDescription()?y.a.createElement("li",null,y.a.createElement(z,{handleClick:this.updateCurrentPanel})):null}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return y.a.createElement("li",null,y.a.createElement(V.a,{context:t,data:n,id:r,type:C.b.episode}))}},{key:"renderToggleBookmark",value:function(){var e=this.props.id;return y.a.createElement("li",null,y.a.createElement(Z,{id:e,type:k.a.EPISODE}))}},{key:"updateCurrentPanel",value:function(e){e===oe.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}},{key:"resetCurrentPanel",value:function(){this.setState({currentPanel:null})}},{key:"render",value:function(){return g.a.isAllowed("talk")?y.a.createElement(T.a,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderDescriptionPanel()):null}}]),n}(v.Component);ue.defaultProps={forceShowDescription:!1};var de=Object(R.a)(ue),pe=n("9mL2"),fe=n("OuPr"),he=n("3lCq");function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ve=function(e){d()(n,e);var t=me(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(pe.c)(),r}return l()(n,[{key:"render",value:function(){var e=this;if(!g.a.isAllowed("talk"))return null;var t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.forceShowDescription,o=t.id,c=t.placement,s=i?pe.a:"";return y.a.createElement(he.a.Consumer,null,(function(t){var l=t||e.contextMenuId,u={data:{context:r,data:a,forceShowDescription:i,id:o},hasArrow:!1,placement:c,popperId:"".concat(l).concat(s),trigger:[fe.d,fe.f],usePortal:!0};return y.a.createElement(de,u,n)}))}}]),n}(v.Component);ve.defaultProps={forceShowDescription:!1,placement:"left"};t.a=ve},ikOQ:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"album",(function(){return F})),n.d(r,"collaborativePlaylist",(function(){return B})),n.d(r,"curatorPlaylist",(function(){return H})),n.d(r,"chartsPlaylist",(function(){return U})),n.d(r,"curatedChartsPlaylist",(function(){return z})),n.d(r,"history",(function(){return V})),n.d(r,"personalSong",(function(){return q})),n.d(r,"loved",(function(){return G})),n.d(r,"personalLoved",(function(){return Y})),n.d(r,"personalPlaylist",(function(){return W})),n.d(r,"playlist",(function(){return Q})),n.d(r,"search",(function(){return K})),n.d(r,"searchResume",(function(){return J})),n.d(r,"talkShow",(function(){return X})),n.d(r,"talkSearch",(function(){return Z})),n.d(r,"talkSearchResume",(function(){return $})),n.d(r,"lyricsSearch",(function(){return ee})),n.d(r,"lyricsSearchResume",(function(){return te})),n.d(r,"discographyArtist",(function(){return ne})),n.d(r,"topArtist",(function(){return re})),n.d(r,"topArtistFull",(function(){return ae})),n.d(r,"queuelist",(function(){return ie})),n.d(r,"queuelistPodcast",(function(){return oe})),n.d(r,"smarttracklist",(function(){return ce})),n.d(r,"discographyPlaylist",(function(){return se})),n.d(r,"discographyPodcast",(function(){return le})),n.d(r,"dislikedSongs",(function(){return ue}));var a={};n.r(a),n.d(a,"personalLoved",(function(){return $e})),n.d(a,"default",(function(){return et}));n("tkto"),n("pNMO"),n("5DmW"),n("27RR"),n("HRxU"),n("eoL8"),n("SuFq");var i=n("lwsE"),o=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),v=n.n(m),y=n("lSNA"),g=n.n(y),b=n("J4zp"),_=n.n(b),E=n("hbEN"),k=(n("ToJy"),n("+2oP"),n("Junv"),n("TeQF"),n("Rfxz"),n("E9XD"),n("2B1R"),n("T63A"),n("wLYn"),n("yyme"),n("QWBl"),n("FZtP"),n("J30X"),n("qePV"),n("brp2"),n("DQNa"),n("ma9I"),n("yXV3"),n("zKZe"),n("pDQq"),n("R5XZ"),n("yq1k"),n("JTJg"),n("17x9")),O=n.n(k),S=n("q1tI"),T=n.n(S),R=n("/MKj"),C=n("2Hu5"),N=n("qOTP"),x=n("OfRX"),P=n("OCk3"),w=n("XoLw"),A=n("dn5u"),I=n.n(A),j=function(){var e=this;this.uniq_id=I()(),this.callbacks={},this.subscribe=function(t){t.uniq_id=I()(),e.callbacks[t.uniq_id]=t},this.unSubscribe=function(t){if({}.hasOwnProperty.call(t,"uniq_id")){var n=t.uniq_id;void 0!==e.callbacks[n]&&delete e.callbacks[n]}},this.trigger=function(t){for(var n in e.callbacks)({}).hasOwnProperty.call(e.callbacks,n)&&e.callbacks[n](t)}},D=function(e){var t=this;for(var n in this.uniq_id=I()(),this.parent={},this.callbacks={},this.eventDispatcher=new j,this.emitChange=function(e){t.eventDispatcher.trigger(e)},this.onChange=function(e){t.eventDispatcher.subscribe(e)},this.offChange=function(e){t.eventDispatcher.unSubscribe(e)},e)({}).hasOwnProperty.call(e,n)&&({}.hasOwnProperty.call(this,n)&&(this.parent[n]=this[n]),this[n]=e[n])},L=function(){return new D({items:{},defaultSelection:!1,fill:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=this.items[e[n]]||{selected:this.defaultSelection,displayContributors:!1};return this.items=t,this.emitChange(),this},getNbItems:function(){return Object.keys(this.items).length},getNbSelectedItems:function(){var e=this.items;return Object.keys(e).filter((function(t){return e[t].selected})).length},reset:function(){return this.defaultSelection=!1,this.items={},this.emitChange(),this},setDefaultSelection:function(e){return this.defaultSelection=e,this},selectAll:function(){for(var e in this.items)({}).hasOwnProperty.call(this.items,e)&&(this.items[e].selected=!0);return this.emitChange("selection"),this},unselectAll:function(){for(var e in this.items)({}).hasOwnProperty.call(this.items,e)&&(this.items[e].selected=!1);return this.emitChange("selection"),this},toggleSelection:function(e){return void 0===this.items[e]||(this.items[e].selected=!this.items[e].selected,this.emitChange("selection")),this},select:function(e){return void 0===this.items[e]||(this.items[e].selected=!0,this.emitChange("selection")),this},unselect:function(e){return void 0===this.items[e]||(this.items[e].selected=!1,this.emitChange("selection")),this},isSelected:function(e){return this.items[e]&&this.items[e].selected},hasOneSelected:function(){for(var e in this.items)if({}.hasOwnProperty.call(this.items,e)&&!0===this.items[e].selected)return!0;return!1},toggleContributors:function(e){if(void 0===this.items[e])return this;var t=this.items[e].displayContributors;return this.hideAllContributors(),!1===t&&(this.items[e].displayContributors=!0),this.emitChange("contributors"),this},displayContributors:function(e){return void 0===this.items[e]||(this.items[e].displayContributors=!0,this.emitChange("contributors")),this},hideContributors:function(e){return void 0===this.items[e]||(this.items[e].displayContributors=!1,this.emitChange("contributors")),this},hasDisplayedContributors:function(e){return this.items[e]&&this.items[e].displayContributors},getDisplayedContributors:function(){var e=[];for(var t in this.items)({}).hasOwnProperty.call(this.items,t)&&this.items[t].displayContributors&&e.push(Number(t));return e},hideAllContributors:function(){for(var e in this.items)({}).hasOwnProperty.call(this.items,e)&&(this.items[e].displayContributors=!1);return this.emitChange("contributors"),this}})},M=n("gEhp"),F=n("2hFd"),B=n("cyMh"),H=n("qNjv"),U=n("Hn4B"),z=n("CZ9Y"),V=n("pAc5"),q=n("2nUr"),G=n("ti5Q"),Y=n("Zkk3"),W=n("T9Yl"),Q=n("qfyx"),K=n("Oks6"),J=n("NIQb"),X=n("p8Y+"),Z=n("BEsB"),$=n("2F2/"),ee=n("/Axe"),te=n("3u1L"),ne=n("SjPx"),re=n("Bm8f"),ae=n("J/1v"),ie=n("upGn"),oe=n("o4Ch"),ce=n("GQjm"),se=n("Z+ov"),le=n("m7bq"),ue=n("AvqT");function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var pe=function(e){p()(n,e);var t=de(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onScroll=r._onScroll.bind(u()(r)),r._updateOffset=r._updateOffset.bind(u()(r)),r._updateStateFinal=r._updateStateFinal.bind(u()(r)),r._forceRenderOnEdgeCases=r._forceRenderOnEdgeCases.bind(u()(r)),r.state={start:0,end:Math.ceil(window.innerHeight/e.elementHeight),numberOfChildren:e.children.length,isScrolling:!1},r}return s()(n,[{key:"componentDidMount",value:function(){C.a.subscribe(C.a.layout.scroll,this._onScroll),C.a.subscribe(C.a.ads.hideAdBlockBanner,this._updateOffset),this.context.itemsStore.onChange(this._forceRenderOnEdgeCases),this._updateOffset()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({numberOfChildren:e.children.length})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.start,a=n.end,i=n.numberOfChildren,o=n.isScrolling;return r!==t.start||a!==t.end||i!==t.numberOfChildren||o!==t.isScrolling}},{key:"componentWillUnmount",value:function(){C.a.unsubscribe(C.a.layout.scroll,this._onScroll),C.a.unsubscribe(C.a.ads.hideAdBlockBanner,this._updateOffset),this.context.itemsStore.offChange(this._forceRenderOnEdgeCases),clearTimeout(this._scrollingTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.containerClassName,a=t.containerType,i=this.state,o=i.start,c=i.end,s=i.isScrolling,l=this._getDividers(n),u=n.slice(o,c+l.length);return T.a.createElement(a,{ref:function(t){return e.infiniteNode=t},style:{pointerEvents:s?"none":"auto"},className:r},this._renderTopSpacer(),u,this._renderBottomSpacer())}},{key:"_renderTopSpacer",value:function(){return T.a.createElement(this.props.spacerType,{key:"topSpacer",style:{height:this.state.start*this.props.elementHeight}})}},{key:"_renderBottomSpacer",value:function(){var e=this.props,t=e.children,n=e.spacerType,r=e.elementHeight,a=this.state,i=a.numberOfChildren,o=a.end,c=this._getDividers(t);return T.a.createElement(n,{key:"bottomSpacer",style:{height:Math.max(0,(i-o-c.length)*r)}})}},{key:"_onScroll",value:function(e,t){var n=t.height,r=t.yscroll;this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this._updateState(!0,n,r),this._scrollingTimeout=setTimeout(this._updateStateFinal,this.props.stateTTL)}},{key:"_updateState",value:function(e,t,n){e=Boolean(e);var r=this.props.elementHeight,a=this.state.numberOfChildren,i=t/2,o=t,c=i*Math.floor((n-this._offsetTop)/i),s=c+i,l=Math.floor(Math.max(0,c-o)/r),u=Math.ceil(Math.min(r*a,s+o)/r);this.state.start===l&&this.state.end===u&&this.state.isScrolling===e||l>u||this.setState({start:l,end:u,isScrolling:e})}},{key:"_updateStateFinal",value:function(){this.setState({isScrolling:!1})}},{key:"_forceRenderOnEdgeCases",value:function(){Object.keys(this.context.itemsStore.items).length===this.props.children.length&&this.forceUpdate()}},{key:"_updateOffset",value:function(){this._offsetTop=window.pageYOffset+this.infiniteNode.getBoundingClientRect().top}},{key:"_getDividers",value:function(e){return e.filter((function(e){return"divider"===e.key}))}}]),n}(S.Component);pe.contextTypes={itemsStore:O.a.object.isRequired},pe.defaultProps={containerType:"div",containerClassName:"",stateTTL:150};var fe=pe,he=n("eHHa"),me=n("bkRl"),ve=n("9z3s"),ye=n("MST+"),ge=n("mzqS"),be=n("+JhM"),_e=n("PzBR"),Ee=n("d54G"),ke=n("v0GO"),Oe=n("+U6v"),Se=n("xKPd"),Te=n("smSd"),Re=n("2Iyy"),Ce=n("h3bK"),Ne=n("0jNv"),xe=n("pHhg"),Pe=n("HF1P"),we=n("ihv3"),Ae=n("D7Xx"),Ie=n("o9cr");function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var De=function(e){p()(n,e);var t=je(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onTogglePlayAll=r._onTogglePlayAll.bind(u()(r)),r}return s()(n,[{key:"componentDidMount",value:function(){C.a.subscribe("EVENT.DATAGRID.togglePlayAll",this._onTogglePlayAll)}},{key:"componentWillUnmount",value:function(){C.a.unsubscribe("EVENT.DATAGRID.togglePlayAll",this._onTogglePlayAll)}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.items;return T.a.createElement("div",{className:"toolbar-item"},T.a.createElement(Ee.a,{id:t.ID,type:this._getType(),items:n,action:Ie.a.PLAY,color:Ie.b.PRIMARY,wordingType:Ie.e.FULL,context:t}))}},{key:"_onTogglePlayAll",value:function(){if(this._hasSameContext())return we.b.intent(Object(Ae.a)(P.c)),void P.c.control.togglePause();we.b.intent("play"),P.c.play({type:this._getType(),id:Number(this.props.context.ID),data:this.props.items,radio:"artist_smartradio"===this.props.context.TYPE||"profile_user_radio"===this.props.context.TYPE,context:this.props.context})}},{key:"_hasSameContext",value:function(){var e=P.c.getContext();return null!==e&&(Pe.a.get("log_contexts")[Object(M.b)(e.TYPE)]===Pe.a.get("log_contexts")[this.props.context.TYPE]&&e.ID===this.props.context.ID)}},{key:"_getType",value:function(){var e=this.props.gridType;return-1!==[Te.a.ChartsPlaylist,Te.a.CuratedChartsPlaylist,Te.a.PersonalPlaylist,Te.a.CuratorPlaylist,Te.a.CollaborativePlaylist].indexOf(e)?Te.a.Playlist:e===Te.a.PersonalSong?"personal_song":e}}]),n}(S.Component);De.defaultProps={items:[]};var Le=De,Me=n("0/XF");function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Be=function(e){p()(n,e);var t=Fe(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getPlaceholder",value:function(){switch(this.props.gridType){case Te.a.PersonalPlaylist:case Te.a.Playlist:return Object(he.a)("Rechercher dans la playlist");case Te.a.PersonalSong:return Object(he.a)("Rechercher dans mes MP3");case Te.a.ChartsPlaylist:case Te.a.CuratedChartsPlaylist:case Te.a.Disliked:case Te.a.Loved:case Te.a.PersonalLoved:return Object(he.a)("Rechercher parmi les titres");case Te.a.History:return Object(he.a)("Rechercher dans l'historique");default:return Object(he.a)("Rechercher dans les résultats")}}},{key:"render",value:function(){var e=this.getPlaceholder();return T.a.createElement("div",{className:"toolbar-item",role:"search","aria-label":e},T.a.createElement(Me.a,{onSearchChange:this.props.onFilter,placeholder:e,displayLoader:this.props.isApplyingFilter}))}}]),n}(S.Component);Be.defaultProps={isApplyingFilter:!1};var He=Be,Ue=(n("x0AG"),n("iuhU")),ze=n("L4cb"),Ve=n.n(ze),qe=n("y85T"),Ge=n("BM6a");function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var We=function(e){p()(n,e);var t=Ye(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._availableSorts=[{label:Object(he.a)("Ajoutés récemment"),cell:"FavoriteDate",order:"desc"},{label:Object(he.a)("Ajoutés récemment"),cell:"AddDate",order:"desc"},{label:Object(he.a)("A - Z (titre)"),cell:"Title",order:"asc"},{label:Object(he.a)("A - Z (artiste)"),cell:"Artist",order:"asc"},{label:Object(he.a)("A - Z (album)"),cell:"Album",order:"asc"},{label:Object(he.a)("Manuel"),cell:null,order:"asc"}],r._initAds=r._initAds.bind(u()(r)),r.state={hasAdsFull:!1},r}return s()(n,[{key:"componentDidMount",value:function(){C.a.subscribe(C.a.layout.adsBackground,this._initAds)}},{key:"componentWillUnmount",value:function(){C.a.unsubscribe(C.a.layout.adsBackground,this._initAds)}},{key:"render",value:function(){var e=this,t=this.props.isApplyingSort,n=Object(Ue.a)("form-input-loader",Ve.a.inputSorterLoader,{"is-active":t}),r=t?T.a.createElement(Ge.a,{thickness:2,size:18,className:n}):null,a=this._getSorts().map((function(t){return T.a.createElement(qe.f.Item,{key:"".concat(t.cell,"_").concat(t.order),label:t.label},T.a.createElement("a",{onClick:e._onSort.bind(e,t.cell,t.order),role:"button"},t.label))}));return T.a.createElement("div",{className:Object(Ue.a)("toolbar-item",{"btn-group":t})},r,T.a.createElement(qe.f,{selected:this._getSelectedIndex()},a))}},{key:"_onSort",value:function(e,t,n){n.preventDefault(),this.props.onSort(e,t)}},{key:"_initAds",value:function(e,t){this.setState({hasAdsFull:t.display,displayLabel:!t.display})}},{key:"_getSorts",value:function(){var e=this;return this._availableSorts.filter((function(t){return e.props.sortableCells.includes(t.cell)||null===t.cell}))}},{key:"_getSelectedIndex",value:function(){var e=this,t=this._getSorts(),n=t.findIndex((function(e){return null===e.cell})),r=t.findIndex((function(t){return t.cell===e.props.sortCell&&e.props.sortOrder===t.order}));return r>-1?r:n}}]),n}(S.Component);We.defaultProps={sortOrder:null,sortCell:null,sortableCells:["AddDate","Title","Artist","Album"],isApplyingSort:!1};var Qe,Ke,Je,Xe=We,Ze=n("NSSb"),$e=n("fHnW"),et=n("AhQT");function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var at=function(e){switch(e){case Te.a.ChartsPlaylist:case Te.a.CuratedChartsPlaylist:case Te.a.CuratorPlaylist:case Te.a.CollaborativePlaylist:case Te.a.PersonalPlaylist:return ve.a.Playlist;case Te.a.Song:return ve.a.Song;case Te.a.TalkShow:return ve.a.Show;default:return e}},it=function(e){p()(n,e);var t=rt(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onEditPlaylist=r._onEditPlaylist.bind(u()(r)),r._onShare=r._onShare.bind(u()(r)),r}return s()(n,[{key:"render",value:function(){return T.a.createElement("div",{className:"datagrid-toolbar"},T.a.createElement("div",{className:"toolbar-wrapper toolbar-wrapper-full"},this._renderTitle(),this._renderPlay(),this._renderFavorite(),this._renderUpload(),this._renderEditPlaylist(),this._renderShare(),this._renderDownload(),this._renderContextMenu()),T.a.createElement("div",{className:"toolbar-wrapper"},this._renderSorter(),this._renderFilter()))}},{key:"_renderTitle",value:function(){return this.context.title?T.a.createElement("div",{className:"toolbar-item heading-1"},this.context.title):null}},{key:"_renderPlay",value:function(){var e=this.props,t=e.options,n=e.gridType,r=e.items,a=e.context,i=e.hasFullWindowing;if(!1===t.toolbar.playAll||i||!r.length)return null;var o=Object(M.j)(this.props,this.context).data;return T.a.createElement(Le,{gridType:n,context:a,items:o})}},{key:"_renderFavorite",value:function(){var e=this.props,t=e.context,n=e.options,r=e.id,a=e.gridType;return!1===n.toolbar.favorite?null:T.a.createElement("div",{className:"toolbar-item"},T.a.createElement(Ee.a,{id:r,type:at(a),action:Ie.a.FAVORITE,context:t}))}},{key:"_renderEditPlaylist",value:function(){return!1===this.props.options.toolbar.edit?null:T.a.createElement("div",{className:"toolbar-item"},T.a.createElement(be.a,{iconOnly:Qe||(Qe=T.a.createElement(Re.a,null)),onClick:this._onEditPlaylist,variant:"outlined","aria-label":Object(he.a)("Editer")}))}},{key:"_renderContextMenu",value:function(){return!1===this.props.options.toolbar.contextMenu?null:T.a.createElement("div",{className:"toolbar-item"},this._renderAddContextMenu())}},{key:"_renderAddContextMenu",value:function(){var e=this.props,t=e.id,n=e.gridType,r=e.data,a=e.context,i={anchor:Ke||(Ke=T.a.createElement(be.a,{iconOnly:T.a.createElement(Ce.a,null),variant:"outlined"})),context:a,data:r,id:t,type:at(n),placement:"right"};switch(this.props.gridType){case Te.a.Album:return T.a.createElement(Oe.a,i);case Te.a.Playlist:case Te.a.ChartsPlaylist:case Te.a.CuratedChartsPlaylist:case Te.a.CuratorPlaylist:case Te.a.CollaborativePlaylist:case Te.a.PersonalPlaylist:case Te.a.PersonalLoved:return T.a.createElement(ke.a,i);case Te.a.Smarttracklist:return T.a.createElement(Se.a,i);default:return null}}},{key:"_renderUpload",value:function(){return!1===this.props.options.toolbar.upload?null:T.a.createElement("div",{className:"toolbar-item",onClick:this.props.onUpload},T.a.createElement(_e.a,{element_id:this.props.id,accept:"audio/mp3,audio/mpeg",type:"audio",directory:"user",action:"sendPersonalSong",multiFile:!0},T.a.createElement(be.a,null,Object(he.a)("Envoyer vos mp3"))))}},{key:"_renderDownload",value:function(){var e=this.props,t=e.options,n=e.id,r=e.context,a=e.gridType;return t.toolbar.download&&this.props.hasDownload?T.a.createElement("div",{className:"toolbar-item"},T.a.createElement(Ee.a,{id:n,type:at(a),action:"download",context:r})):null}},{key:"_renderFilter",value:function(){var e=this.props,t=e.options,n=e.gridType,r=e.filter,a=e.onFilter,i=e.isApplyingFilter;return!1===t.toolbar.filter?null:T.a.createElement(He,{gridType:n,filter:r,onFilter:a,isApplyingFilter:i})}},{key:"_renderSorter",value:function(){var e=this.props,t=e.options,n=e.sortCell,r=e.sortOrder,a=e.onSort,i=e.isApplyingSort;return!1===t.toolbar.sorter?null:T.a.createElement(Xe,{onSort:a,sortableCells:this._getSortableCells(),sortOrder:r,sortCell:n,isApplyingSort:i})}},{key:"_renderShare",value:function(){var e=this.props,t=e.options,n=e.gridType,r=e.data;return!t.toolbar.shareType||n===Te.a.PersonalPlaylist&&r.IS_PRIVATE?null:T.a.createElement("div",{className:"toolbar-item"},T.a.createElement(be.a,{iconOnly:Je||(Je=T.a.createElement(Ne.a,null)),onClick:this._onShare,variant:"outlined","aria-label":Object(he.a)("Partager")}))}},{key:"_onShare",value:function(){var e=this.props,t=e.id,n=e.data,r=e.context,a=e.options;this.props.openModal({name:xe.a,props:{id:t,data:n,context:r,type:a.toolbar.shareType,componentType:xe.d.directShareMasthead}})}},{key:"_onEditPlaylist",value:function(){this.props.openModal({name:"PLAYLIST_ASSISTANT",props:{type:Ze.a.EDITION,playlistId:this.props.id}})}},{key:"_getPresets",value:function(){return a[this.props.gridType]?nt(nt({},et),a[this.props.gridType]):et}},{key:"_getSortableCells",value:function(){return this._getPresets().sortableCells}}]),n}(S.Component);it.contextTypes={itemsTotal:O.a.number,type:O.a.string,title:O.a.string},it.defaultProps={data:{},filter:"",isApplyingSort:!1,isApplyingFilter:!1,sortOrder:void 0,sortCell:null,onUpload:function(){}};var ot,ct=Object(R.c)((function(e,t){var n=e.user,r=e.entities,a=t.id;return{userID:n.id,hasDownload:Object(ye.L)(n),hasFullWindowing:Object(ge.d)(n,r,a)}}),{openModal:me.c})(it),st=(n("sMBO"),n("9ae3"));function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ut=function(e){p()(n,e);var t=lt(n);function n(e,r){var a;return o()(this,n),(a=t.call(this,e))._onSelect=a._onSelect.bind(u()(a)),a._updateSelected=a._updateSelected.bind(u()(a)),a.state={selected:r.itemsStore.hasOneSelected()},a}return s()(n,[{key:"componentDidMount",value:function(){this.context.itemsStore.onChange(this._updateSelected)}},{key:"componentWillUnmount",value:function(){this.context.itemsStore.offChange(this._updateSelected)}},{key:"render",value:function(){var e=this.state.selected,t=Object(Ue.a)({checkbox:!0,checked:e});return T.a.createElement("div",{className:"datagrid-cell cell-checkbox"},T.a.createElement("label",{className:t},T.a.createElement("input",{className:"checkbox-input",type:"checkbox","data-target":"checkall",checked:e,onChange:this._onSelect}),ot||(ot=T.a.createElement(st.a,{className:"checkbox-tick",size:"10"}))))}},{key:"_onSelect",value:function(){var e=!this.state.selected;this.context.itemsStore.setDefaultSelection(e),this.context.itemsStore[e?"selectAll":"unselectAll"](),!0===e&&C.a.trigger(C.a.datagrid.allTracksSelected)}},{key:"_updateSelected",value:function(){this.setState({selected:this.context.itemsStore.hasOneSelected()})}}]),n}(S.Component);ut.contextTypes={itemsStore:O.a.object.isRequired};var dt,pt,ft=ut,ht=n("cDf5"),mt=n.n(ht),vt=n("yXPU"),yt=n.n(vt),gt=n("o0o1"),bt=n.n(gt),_t=n("O397"),Et=n("hIZU"),kt=n("5m/f"),Ot=n("H2c4"),St=n("cI/O"),Tt=n("pVnL"),Rt=n.n(Tt),Ct=n("VPTF");function Nt(e){return T.a.createElement(Ct.a,Rt()({name:"trash"},e),dt||(dt=T.a.createElement("path",{d:"M3 4h6v5.997C9 10.551 8.616 11 8.14 11H3.86C3.385 11 3 10.551 3 9.997V4zM2 2.5a.5.5 0 0 1 .5-.5h7c.276 0 .5.222.5.5V3H2v-.5zm2-1c0-.276.227-.5.499-.5H7.5c.276 0 .499.222.499.5V2H4v-.5zm1 0h2V2H5v-.5z"})))}function xt(e){return T.a.createElement(Ct.a,Rt()({name:"block"},e),pt||(pt=T.a.createElement("path",{d:"M2.836 9.871a5 5 0 0 0 7.036-7.036l-.018.019L2.836 9.87zm-.707-.707l7.017-7.018.018-.017a5 5 0 0 0-7.036 7.036zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12z"})))}var Pt,wt,At,It,jt,Dt=n("zCn5"),Lt=n("sE8/");function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ht=function(e){p()(a,e);var t,n,r=Bt(a);function a(e,t){var n;return o()(this,a),(n=r.call(this,e,t))._apiCalls=[],n._onPlayerTypeChange=n._onPlayerTypeChange.bind(u()(n)),n._updateSelection=n._updateSelection.bind(u()(n)),n._onDownloadClick=n._onDownloadClick.bind(u()(n)),n._onRemoveClick=n._onRemoveClick.bind(u()(n)),n._onDislikeClick=n._onDislikeClick.bind(u()(n)),n._onRemoved=n._onRemoved.bind(u()(n)),n.state={isRadio:P.c.isRadio(),hasOneSelected:t.itemsStore.hasOneSelected()},n}return s()(a,[{key:"componentDidMount",value:function(){this.context.itemsStore.onChange(this._updateSelection),C.a.subscribe(C.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({isRadio:P.c.isRadio(),hasOneSelected:this.context.itemsStore.hasOneSelected()})}},{key:"componentWillUnmount",value:function(){this._apiCalls.forEach(x.b.cancel),this.context.itemsStore.offChange(this._updateSelection),C.a.unsubscribe(C.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"render",value:function(){var e=this.props.options.header;if(!1===this.state.hasOneSelected)return null;var t=[];return e.remove&&t.push(T.a.createElement("div",{className:"header-action-item",key:"remove"},T.a.createElement(be.a,{iconLeft:Pt||(Pt=T.a.createElement(Nt,null)),onClick:this._onRemoveClick,size:"sm",variant:"outlined"},Object(he.a)("Supprimer")))),e.dislike&&t.push(T.a.createElement("div",{className:"header-action-item",key:"dislike"},T.a.createElement(be.a,{iconLeft:wt||(wt=T.a.createElement(xt,null)),onClick:this._onDislikeClick,size:"sm",variant:"outlined"},Object(he.c)("banfeatures_action_removetracksfromlist_web","banfeatures_action_removetracksfromlist_web",{count:this._getSelected().length})))),e.add&&t.push(T.a.createElement("div",{className:"header-action-item",key:"add"},this._renderAddContextMenu("add",Object(he.a)("Ajouter à une playlist")))),e.download&&t.push(T.a.createElement("div",{className:"header-action-item",key:"download"},T.a.createElement(Ot.a,{text:Object(he.a)("Télécharger"),position:"left"},T.a.createElement(be.a,{iconOnly:At||(At=T.a.createElement(Dt.a,null)),onClick:this._onDownloadClick,size:"sm",variant:"outlined","aria-label":Object(he.a)("Télécharger")})))),e.contextMenu&&t.push(T.a.createElement("div",{className:"header-action-item",key:"options"},this._renderAddContextMenu("options",Object(he.a)("Ajouter")))),0===t.length?null:T.a.createElement("div",{className:"datagrid-cell header-actions"},t)}},{key:"_renderAddContextMenu",value:function(e,t){for(var n,r=this.props,a=r.gridType,i=r.context,o=[],c=[],s=this._getSelected(),l=0,u=s.length;l<u;l++)n=s[l],c.push(n),o.push(Object(M.f)(n));var d=1===c.length?c[0]:{},p={anchor:"add"===e?T.a.createElement(be.a,{iconLeft:It||(It=T.a.createElement(Lt.a,null)),size:"sm",variant:"outlined"},t):jt||(jt=T.a.createElement(be.a,{iconOnly:T.a.createElement(Ce.a,null),size:"sm",variant:"outlined"})),context:i,data:Ft(Ft({},d),{},{PLAYLIST_ID:a===Te.a.Playlist||a===Te.a.PersonalPlaylist?i.ID:0,PLAYLIST_PERSONNAL:a===Te.a.PersonalPlaylist}),forceShowPlaylists:"add"===e,id:o};return T.a.createElement(St.a,p)}},{key:"_onDownloadClick",value:function(){var e=this,t=this.props.items.filter((function(t){return e.context.itemsStore.isSelected(Object(M.f)(t))}));if((t=t.map((function(e){return Object(M.f)(e)}))).length){var n=Object(M.a)(t);this._apiCalls.push(n)}}},{key:"_onDislikeClick",value:(n=yt()(bt.a.mark((function e(){var t,n=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this._getSelected().map((function(e){return e.SNG_ID}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.props.dispatchRemoveMultipleDislikesAction(t,ve.a.Song);case 5:t.map((function(e){return n.context.itemsStore.unselect(e)}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_onRemoveClick",value:(t=yt()(bt.a.mark((function e(){var t,n,r,a,i,o=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(t=this.props.items.filter((function(e){return o.context.itemsStore.isSelected(Object(M.f)(e))}))).map((function(e){var t=Object(M.f)(e);return[t,t>0?0:1]}))).length){e.next=4;break}return e.abrupt("return");case 4:if(!confirm(Object(he.c)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:t.length}))){e.next=19;break}i=[],e.t0=this.props.gridType,e.next=e.t0===Te.a.PersonalLoved?9:e.t0===Te.a.PersonalPlaylist||e.t0===Te.a.CollaborativePlaylist?14:e.t0===Te.a.PersonalSong?16:18;break;case 9:for(n=0;n<t.length;n++)i.push(t[n][0]);return e.next=12,kt.a.remove({type:ve.a.Song,id:i});case 12:return this._onRemoved(!0,{sng_list:i}),e.abrupt("break",19);case 14:return this.props.dispatchDeleteSongFromPlaylist({playlist_id:this.props.context.ID,songs:t,context:this.props.context}),e.abrupt("break",19);case 16:for(n=0;n<t.length;n++)r={upload_id:t[n][0]},a=x.b.call({method:"personal_song.delete",data:r,success:this._onRemoved,callback_parameters:{sng_list:[t[n][0]]}}),this._apiCalls.push(a);return e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_onRemoved",value:function(e,t){if(!0===e){C.a.trigger(C.a.playlist.removeSong,{playlist_id:this.props.context.ID,song:t.song_list});for(var n=0,r=t.sng_list.length;n<r;n++){var a="object"===mt()(t.sng_list[n])?t.sng_list[n][0]:t.sng_list[n];this.context.itemsStore.unselect(a),this.props.gridType===Te.a.Loved&&this.props.gridType===Te.a.PersonalLoved&&kt.a.isFavorite(ve.a.Song,a)}}}},{key:"_onPlayerTypeChange",value:function(){this.setState({isRadio:P.c.isRadio()})}},{key:"_updateSelection",value:function(e){"selection"===e&&this.setState({hasOneSelected:this.context.itemsStore.hasOneSelected()})}},{key:"_getSelected",value:function(){var e=this,t=this.props.items,n=[],r=[];return t.forEach((function(t){var a=Object(M.f)(t);e.context.itemsStore.isSelected(a)&&-1===r.indexOf(a)&&(n.push(t),r.push(a))})),n}}]),a}(S.Component);Ht.contextTypes={itemsStore:O.a.object.isRequired};var Ut,zt,Vt={dispatchDeleteSongFromPlaylist:_t.d,dispatchRemoveMultipleDislikesAction:Et.i},qt=Object(R.c)(null,Vt)(Ht),Gt=n("SZia"),Yt=n("w1He");function Wt(e){return T.a.createElement(Ct.a,Rt()({name:"sort"},e),Ut||(Ut=T.a.createElement("path",{d:"M3 4.995L9 5 5.997 1 3 4.995zM5.997 11L3 7.005 9 7l-3.003 4z"})))}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Kt=function(e){p()(n,e);var t=Qt(n);function n(){var e;return o()(this,n),(e=t.call(this))._onTrackSelection=e._onTrackSelection.bind(u()(e)),e.state={selectedTracks:0},e}return s()(n,[{key:"componentDidMount",value:function(){this.context.itemsStore.onChange(this._onTrackSelection)}},{key:"componentWillUnmount",value:function(){this.context.itemsStore.offChange(this._onTrackSelection)}},{key:"render",value:function(){var e=this,t=this.props.options.cells,n=this.state.selectedTracks;if(!t.length)return null;var r=t.map((function(t){return e._renderHeader(t)})),a=Object(Ue.a)({"datagrid-header":!0,"is-selected":n>0});return T.a.createElement("div",{className:a},n>0?this._renderSelectedHeader():T.a.createElement("div",{className:"datagrid-row"},r))}},{key:"_renderHeader",value:function(e){var t=this.props,n=t.cells,r=t.sortCell,a=t.onSort,i=t.options;if(void 0===n[e])return null;var o=n[e],c={"datagrid-cell":!0,"is-sortable":"function"==typeof o.sort,"sort-active":o.name===r,sortable:i.header.sorter&&"function"==typeof o.sort};c[o.className||""]=!0,c=Object(Ue.a)(c);var s=i.header.sorter&&a&&n[e].sort?this._onSort.bind(this,e):void 0;return T.a.createElement("div",{key:e,className:c,onClick:s,scope:"col"},this._renderLabel(e))}},{key:"_renderSelectedHeader",value:function(){var e=this.props,t=e.items,n=e.options,r=e.gridType,a=e.context,i=this.state.selectedTracks,o=i===t.length?Object(he.a)("Tous les titres"):Object(he.c)("%s titre sélectionné","%s titres sélectionnés",{count:i,sprintf:[i]}),c={items:t,options:n,gridType:r,context:a};return T.a.createElement("div",{className:"datagrid-row"},T.a.createElement("div",{className:"datagrid-cell cell-title"},T.a.createElement("span",{className:"datagrid-label ellipsis"},o)),T.a.createElement(qt,c),n.cells.indexOf("Checkbox")>-1?zt||(zt=T.a.createElement(ft,null)):null)}},{key:"_renderLabel",value:function(e){var t=this.props.cells;return t[e].getLabel?T.a.createElement("span",{className:"datagrid-label ellipsis"},t[e].getLabel(this.props.options),this._renderSortIcon(e)):null}},{key:"_renderSortIcon",value:function(e){var t=this.props,n=t.cells,r=t.sortCell,a=t.sortOrder;if(!t.options.header.sorter||"function"!=typeof n[e].sort)return null;var i={asc:Gt.a,desc:Yt.a},o=r===e?i[a]:Wt;return T.a.createElement(o,null)}},{key:"_onSort",value:function(e){this.props.options.header.sorter&&this.props.onSort(e)}},{key:"_onTrackSelection",value:function(){var e=this.context.itemsStore.getNbSelectedItems();this.setState({selectedTracks:e})}}]),n}(S.Component);Kt.contextTypes={itemsStore:O.a.object.isRequired},Kt.defaultProps={sortCell:"",sortOrder:""};var Jt,Xt=Kt,Zt=n("l4nf"),$t=n("uNVz"),en=n("rod9");function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var an=function(e){p()(n,e);var t=rn(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.gridType,r=e.item;if(!Object(M.s)(r))return null;var a={anchor:Jt||(Jt=T.a.createElement("button",{className:"action-item-btn datagrid-action",type:"button"},T.a.createElement(Lt.a,{size:"14"}))),context:t,data:nn(nn({},r),{},{PLAYLIST_ID:n===Te.a.Playlist||n===Te.a.PersonalPlaylist?t.ID:0,PLAYLIST_PERSONNAL:n===Te.a.PersonalPlaylist}),forceShowPlaylists:!0,id:Object(M.f)(r)};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action","aria-label":Object(he.a)("Ajouter à une playlist")},T.a.createElement(St.a,a))}}]),n}(S.Component),on=n("IJUe");function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var sn=function(e){p()(n,e);var t=cn(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return T.a.createElement("div",{className:"datagrid-cell cell-date"},T.a.createElement("span",{className:"datagrid-label datagrid-label-idle ellipsis"},this.props.date))}}]),n}(S.PureComponent);sn.getLabel=function(){return Object(he.a)("Ajouté")},sn.className="cell-date",sn.sort=function(e,t){return e.DATE_ADD-t.DATE_ADD};var ln,un,dn,pn=Object(R.c)((function(e,t){var n=t.item;return{date:n.DATE_ADD>0?Object(on.a)(1e3*n.DATE_ADD):"-"}}),null,(function(e){return e}))(sn),fn=n("YVrg"),hn=n("X6oL"),mn=n.n(hn),vn=n("nQb1"),yn=n("GZV5");function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var bn,_n,En,kn=mn()()((dn=un=function(e){p()(n,e);var t=gn(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._triggerTracking=r._triggerTracking.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.item;return t.ALB_ID!==e.item.ALB_ID||t.ALB_TITLE!==e.item.ALB_TITLE}},{key:"render",value:function(){var e,t=this.props,n=t.item,r=t.unavailable,a=n.ALB_TITLE;return e=void 0===n.ALB_ID||0===n.ALB_ID?T.a.createElement("span",{className:"datagrid-label datagrid-label-main",itemProp:"inAlbum"},a||"-"):r?T.a.createElement("span",{itemProp:"inAlbum"},n.ALB_TITLE):T.a.createElement(vn.a,{className:"datagrid-label datagrid-label-main",itemProp:"inAlbum",to:"/album/".concat((n.FALLBACK||n).ALB_ID)},n.ALB_TITLE),T.a.createElement("div",{className:"datagrid-cell cell-album",onClick:this._triggerTracking},T.a.createElement("div",{className:"ellipsis"},e))}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.index,r=e.tracking,a=Object(M.c)(r);a&&r.trackEvent({eventaction:"click-album-".concat(a),event:"click",eventcategory:a,eventlabel:"album-".concat(a),item:{rank:n,id:t.ALB_ID,type:ve.a.Album}})}}]),n}(S.Component),un.defaultProps={unavailable:!1},un.getLabel=function(){return Object(he.a)("Album")},un.className="cell-album",un.sort=function(e,t){return Object(yn.a)(e.ALB_TITLE.toLowerCase(),t.ALB_TITLE.toLowerCase())},un.filter=function(e,t){return-1!==Object(fn.a)(t.ALB_TITLE.toLowerCase()).indexOf(e)},ln=dn))||ln;function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Sn,Tn,Rn=mn()()((En=_n=function(e){p()(n,e);var t=On(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.item;return t.ART_ID!==e.item.ART_ID||t.ART_NAME!==e.item.ART_NAME}},{key:"render",value:function(){var e=this,t=[],n=this.props.item;if(n.ARTISTS&&n.ARTISTS.length){var r=[];n.ARTISTS.forEach((function(n,a){0!==Number(n.ROLE_ID)&&5!==Number(n.ROLE_ID)||-1!==r.indexOf(n.ART_ID)||(t.push(a>0?", ":"",T.a.createElement(vn.a,{key:"artist_".concat(n.ART_ID),className:"datagrid-label datagrid-label-main",itemProp:"byArtist",onClick:e._triggerTracking.bind(e,n.ART_ID),to:"/artist/".concat(n.ART_ID),title:n.ART_NAME},n.ART_NAME)),r.push(n.ART_ID))}))}else 0===Number(n.ART_ID)?t.push(T.a.createElement("span",{key:"artist_".concat(n.ART_NAME),className:"datagrid-label datagrid-label-main",itemProp:"byArtist",title:n.ART_NAME||"-"},n.ART_NAME||"-")):t.push(T.a.createElement(vn.a,{key:"artist_".concat(n.ART_ID),className:"datagrid-label datagrid-label-main",itemProp:"byArtist",onClick:this._triggerTracking.bind(this,n.ART_ID),to:"/artist/".concat(n.ART_ID),title:n.ART_NAME},n.ART_NAME));return T.a.createElement("div",{className:"datagrid-cell cell-artist"},T.a.createElement("div",{className:"ellipsis"},t))}},{key:"_triggerTracking",value:function(e){var t=this.props,n=t.index,r=t.tracking,a=Object(M.c)(r);a&&r.trackEvent({eventaction:"click-artist-".concat(a),event:"click",eventcategory:a,eventlabel:"artist-".concat(a),item:{rank:n,id:e,type:ve.a.Artist}})}}]),n}(S.Component),_n.getLabel=function(){return Object(he.a)("Artiste")},_n.className="cell-artist",_n.sort=function(e,t){return Object(yn.a)(e.ART_NAME.toLowerCase(),t.ART_NAME.toLowerCase())},_n.filter=function(e,t){var n=Array.isArray(t.ARTISTS)?t.ARTISTS.reduce((function(e,t){return e+="".concat(t.ART_NAME," ")}),""):t.ART_NAME||"";return-1!==Object(fn.a)(n.toLowerCase()).indexOf(e)},bn=En))||bn;function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Nn=function(e){p()(n,e);var t=Cn(n);function n(e,r){var a;return o()(this,n),(a=t.call(this,e,r))._onSelect=a._onSelect.bind(u()(a)),a._updateSelection=a._updateSelection.bind(u()(a)),a.state={selected:r.itemsStore.isSelected(Object(M.f)(e.item))},a}return s()(n,[{key:"componentDidMount",value:function(){this.context.itemsStore.onChange(this._updateSelection)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({selected:this.context.itemsStore.isSelected(Object(M.f)(e.item))})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.selected!==t.selected}},{key:"componentWillUnmount",value:function(){this.context.itemsStore.offChange(this._updateSelection)}},{key:"render",value:function(){var e=this.state.selected,t=Object(Ue.a)({checkbox:!0,checked:e});return T.a.createElement("div",{className:"datagrid-cell cell-checkbox"},T.a.createElement("label",{className:t,onDoubleClick:this._onDoubleClick},T.a.createElement("input",{className:"checkbox-input",type:"checkbox","data-target":"check",checked:e,onChange:this._onSelect}),Sn||(Sn=T.a.createElement(st.a,{className:"checkbox-tick",size:"10"}))))}},{key:"_onDoubleClick",value:function(e){e.stopPropagation()}},{key:"_onSelect",value:function(){var e=this.state.selected;this.context.itemsStore[e?"unselect":"select"](Object(M.f)(this.props.item)),this._updateSelection("selection"),this.setState({selected:!e})}},{key:"_updateSelection",value:function(e){"selection"===e&&this.setState({selected:this.context.itemsStore.isSelected(Object(M.f)(this.props.item))})}}]),n}(S.Component);Nn.contextTypes={itemsStore:O.a.object.isRequired},Nn.getLabel=function(){return Tn||(Tn=T.a.createElement(ft,null))},Nn.className="cell-checkbox";var xn,Pn=Nn;function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var jn,Dn=function(e){p()(n,e);var t=In(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.index,r=e.item,a=e.gridType;if(!Object(M.s)(r))return null;var i={anchor:xn||(xn=T.a.createElement("button",{className:"datagrid-action",type:"button"},T.a.createElement(Ce.a,null))),context:t,data:An(An({},r),{},{PLAYLIST_ID:a===Te.a.Playlist||a===Te.a.PersonalPlaylist?t.ID:0,PLAYLIST_PERSONNAL:a===Te.a.PersonalPlaylist,INDEX:n}),id:Object(M.f)(r)};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement(St.a,i))}}]),n}(S.Component);function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Mn=function(e){p()(n,e);var t=Ln(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onDownloadClick=r._onDownloadClick.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.item.SNG_ID!==e.item.SNG_ID}},{key:"componentWillUnmount",value:function(){x.b.cancel(this._apiCallRef)}},{key:"render",value:function(){return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action"},T.a.createElement(Ot.a,{text:Object(he.a)("Télécharger")},T.a.createElement("span",{className:"datagrid-action",onClick:this._onDownloadClick},jn||(jn=T.a.createElement(Dt.a,{size:"14"})))))}},{key:"_onDownloadClick",value:function(){this._apiCallRef=Object(M.a)(Object(M.f)(Object(M.d)(this.props.item)))}}]),n}(S.Component),Fn=n("/b9r");function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Hn=function(e){p()(n,e);var t=Bn(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.item;return(t.DURATION||t.duration)!==(e.item.DURATION||e.item.duration)}},{key:"render",value:function(){var e=this.props.item,t=e.DURATION||e.duration;return T.a.createElement("div",{className:"datagrid-cell cell-duration"},T.a.createElement("meta",{itemProp:"duration",content:"PT".concat(Math.floor(t/60),"M").concat(t%60,"S")}),T.a.createElement("span",{className:"datagrid-label datagrid-label-idle ellipsis"},Object(Fn.a)(t)))}}]),n}(S.Component);Hn.getLabel=function(){return Object(he.a)("D.")},Hn.className="cell-duration",Hn.sort=function(e,t){return(e.DURATION||e.duration)-(t.DURATION||t.duration)};var Un,zn=Hn,Vn=n("YV4S");function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Gn,Yn=function(e){p()(n,e);var t=qn(n);function n(){var e;return o()(this,n),(e=t.call(this))._onEditClick=e._onEditClick.bind(u()(e)),e}return s()(n,[{key:"render",value:function(){return!0===Object(M.p)(this.props.item)?null:T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement(Ot.a,{text:Object(he.a)("Editer")},T.a.createElement("span",{className:"datagrid-action",onClick:this._onEditClick},Un||(Un=T.a.createElement(Re.a,{size:"14"})))))}},{key:"_onEditClick",value:function(e){e.preventDefault(),this.props.openModal({name:Vn.a.EDIT_MP3,props:{song:this.props.item},size:"small"})}}]),n}(S.Component),Wn={openModal:me.c},Qn=Object(R.c)(null,Wn)(Yn),Kn=n("iKuf");function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Xn,Zn=function(e){p()(n,e);var t=Jn(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.item;if(!Object(M.s)(n))return null;var r={anchor:Gn||(Gn=T.a.createElement("button",{type:"button"},T.a.createElement(Ce.a,null))),context:t,data:n,id:n.EPISODE_ID};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement("div",{className:"datagrid-action"},T.a.createElement(Kn.a,r)))}}]),n}(S.Component),$n=n("onH1"),er=n("xJYM");function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var nr=function(e){p()(n,e);var t=tr(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.played!==e.played||this.props.ongoing!==e.ongoing}},{key:"render",value:function(){var e=this.props,t=e.played,n=e.ongoing,r=Object(Ue.a)("heard-status",{empty:t,half:n});return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action cell-heard"},T.a.createElement("div",{className:"heard-icon"},Xn||(Xn=T.a.createElement("span",{className:"heard-circle"})),T.a.createElement("span",{className:r})))}}]),n}(S.Component);nr.className="datagrid-cell datagrid-cell-action cell-heard";var rr,ar=Object(R.c)((function(e,t){var n=e.bookmarks;return{played:Object($n.e)(n,er.a.EPISODE,t.item.EPISODE_ID),ongoing:Object($n.d)(n,er.a.EPISODE,t.item.EPISODE_ID)}}))(nr),ir=n("q0sp");function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var cr=function(e){p()(n,e);var t=or(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.item;if(!Object(M.s)(n))return null;var r={anchor:rr||(rr=T.a.createElement("button",{type:"button"},T.a.createElement(ir.a,null))),context:t,data:n,forceShowDescription:!0,id:n.EPISODE_ID};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement("div",{className:"datagrid-action"},T.a.createElement(Kn.a,r)))}}]),n}(S.Component);cr.sort=function(e,t){return e.DATE_ADD-t.DATE_ADD};var sr=cr;n("rB9j"),n("UxlC"),n("rMz7"),n("EnZy");function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ur=function(e){p()(n,e);var t=lr(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props.item,t=new Date(e.EPISODE_PUBLISHED_TIMESTAMP.replace(" ","T")),n=!isNaN(t.getTime());return T.a.createElement("div",{className:"datagrid-cell cell-date"},T.a.createElement("span",{className:"datagrid-label datagrid-label-idle ellipsis",title:e.EPISODE_PUBLISHED_TIMESTAMP},n?T.a.createElement("meta",{itemProp:"datePublished",content:t.toISOString()}):null,n?Object(on.a)(e.EPISODE_PUBLISHED_TIMESTAMP.split(" ")[0]):"-"))}}]),n}(S.Component);ur.className="cell-date",ur.sort=function(e,t){return e.DATE_ADD-t.DATE_ADD};var dr,pr,fr,hr=ur,mr=n("mQk+");function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var yr,gr,br,_r=mn()()((fr=pr=function(e){p()(n,e);var t=vr(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._play=r._play.bind(u()(r)),r._triggerTracking=r._triggerTracking.bind(u()(r)),r}return s()(n,[{key:"render",value:function(){var e=this.props.item;return T.a.createElement("div",{className:"datagrid-cell cell-title"},T.a.createElement(mr.a,{id:Zt.d.parser.id(e),type:Zt.d.parser.type(e)}),T.a.createElement(vn.a,{itemProp:"url",to:"/episode/".concat(e.EPISODE_ID),className:"datagrid-label datagrid-label-main title ellipsis",tabIndex:"0",onClick:this._play,onKeyDown:this._play},T.a.createElement("span",{itemProp:"name"},e.EPISODE_TITLE)))}},{key:"_play",value:function(e){e.preventDefault();var t=this.props,n=t.context,r=t.item,a=t.gridType,i=t.index;!1!==t.isDirectPlayAllowed&&(Object(M.r)(r,n.TYPE)?P.c.control.togglePause():Object(M.u)(a)?P.c.playTrackAtIndex(i):(P.c.play(Object(M.j)(this.props,this.context)),this._triggerTracking()))}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.index,r=e.tracking,a=Object(M.c)(r);a&&r.trackEvent({eventaction:"click-episode-".concat(a),event:"click",eventcategory:a,eventlabel:"episode-".concat(a),item:{rank:n,id:t.EPISODE_ID,type:ve.a.Episode}})}}]),n}(S.Component),pr.contextTypes={itemsTotal:O.a.number,searchType:O.a.string},pr.defaultProps={filter:"",sortCell:""},pr.className="cell-title",pr.sort=function(e,t){return Object(yn.a)(e.EPISODE_TITLE.toLowerCase(),t.EPISODE_TITLE.toLowerCase())},dr=fr))||dr;function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var kr=mn()()((br=gr=function(e){p()(n,e);var t=Er(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._triggerTracking=r._triggerTracking.bind(u()(r)),r}return s()(n,[{key:"render",value:function(){var e=this.props.item;return T.a.createElement("div",{className:"datagrid-cell cell-show",onClick:this._triggerTracking},T.a.createElement(vn.a,{itemProp:"url",to:"/show/".concat(e.SHOW_ID),className:"datagrid-label datagrid-label-main title ellipsis",tabIndex:"0"},T.a.createElement("span",{itemProp:"name"},e.SHOW_NAME)))}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.index,r=e.tracking,a=Object(M.c)(r);a&&r.trackEvent({eventaction:"click-show-".concat(a),event:"click",eventcategory:a,eventlabel:"show-".concat(a),item:{rank:n,id:t.SHOW_ID,type:ve.a.Show}})}}]),n}(S.Component),gr.defaultProps={sortCell:""},gr.className="cell-show",gr.sort=function(e,t){return Object(yn.a)(e.SHOW_NAME.toLowerCase(),t.SHOW_NAME.toLowerCase())},yr=br))||yr,Or=n("Onv7"),Sr=n("i21D");function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Rr,Cr,Nr,xr=function(e){p()(n,e);var t=Tr(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.options;if(!Object(Or.d)(t)&&!Object(Or.c)(t))return null;var r=n.cells.length>=12,a=Object(Ue.a)("datagrid-cell",{"cell-explicit":!r,"cell-explicit-small":r});return T.a.createElement("div",{className:a},T.a.createElement(Sr.a,{type:r?"small":"outline"}))}}]),n}(S.Component),Pr=n("beqJ");function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ar,Ir,jr,Dr,Lr=mn()()((Nr=Cr=function(e){p()(n,e);var t=wr(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._handleFavoriteAdd=r._handleFavoriteAdd.bind(u()(r)),r._handleFavoriteRemove=r._handleFavoriteRemove.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.item.SNG_ID!==e.item.SNG_ID}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.context,r=Object(M.s)(t),a={className:"datagrid-action",type:ve.a.Song,id:String(this.props.item.SNG_ID_ORIGIN||this.props.item.SNG_ID),tooltip:r,isDisabled:!r,onAdd:this._handleFavoriteAdd,onRemove:this._handleFavoriteRemove,context:n};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action cell-love"},T.a.createElement(Pr.a,a))}},{key:"_handleFavoriteAdd",value:function(e,t){this.props.gridType===Te.a.PersonalLoved?e.restore(t):e.add(t),this._triggerTracking({id:t.id})}},{key:"_handleFavoriteRemove",value:function(e,t){this.props.gridType===Te.a.PersonalLoved?e.removeSoft(t):e.remove(t)}},{key:"_triggerTracking",value:function(e){var t=this.props,n=t.item,r=t.context,a=t.index,i=t.tracking;if(Object(M.f)(n)===Number(e.id)){var o=Object(M.c)(i);o&&i.trackEvent({eventaction:"click-favorite-".concat(o,"_song"),event:"click",eventcategory:o,eventlabel:"favorite-".concat(r.TYPE),item:{rank:a,id:Object(M.f)(n),type:n.__TYPE__}})}}}]),n}(S.Component),Cr.className="datagrid-cell-action cell-love",Rr=Nr))||Rr,Mr=n("NsrU"),Fr=n("vEc0"),Br=n("V0xF"),Hr=n("xpVx");function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var zr,Vr,qr,Gr,Yr,Wr,Qr,Kr=mn()()((jr=Ir=function(e){p()(n,e);var t=Ur(n);function n(){var e;return o()(this,n),(e=t.call(this))._onLyricsClick=e._onLyricsClick.bind(u()(e)),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.isOnline;return e.unavailable||void 0===t.LYRICS_ID||0===t.LYRICS_ID||!n?null:T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action"},T.a.createElement(Ot.a,{text:Object(he.a)("Écouter avec les paroles")},T.a.createElement("span",{className:"datagrid-action",onClick:this._onLyricsClick},Dr||(Dr=T.a.createElement(Hr.a,null)))))}},{key:"_onLyricsClick",value:function(e){var t=this;e.preventDefault();var n=this.props,r=n.item,a=n.gridType,i=n.index,o=n.unavailable,c=n.isDirectPlayAllowed,s=n.options,l=n.context;if(!o){if(!Object(M.r)(r,this.context.name))return Object(M.u)(a)&&!1===c?void Fr.a.push(Object(Br.c)("/track/".concat(Object(M.f)(r)))):(C.a.subscribeOnce(C.a.player.displayCurrentSong,(function(){t._onOpenLyrics()})),Object(M.u)(a)?void P.c.playTrackAtIndex(i):s.playAsTrackMix?void P.c.play({id:r.SNG_ID,type:en.a.TRACK_MIX,radio:!0,context:l,forceAsFirstTrack:!0}):void P.c.play(Object(M.j)(this.props,this.context)));P.c.isPaused()||P.c.isPlaying()||P.c.control.play(),this._onOpenLyrics()}}},{key:"_onOpenLyrics",value:function(){this.props.setPlayerLyrics(!0),this._triggerTracking()}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.context,r=e.index,a=e.tracking,i=Object(M.c)(a);i&&a.trackEvent({eventaction:"click-lyrics-".concat(i,"_song"),event:"click",eventcategory:i,eventlabel:"lyrics-".concat(n.TYPE),item:{rank:r,id:Object(M.f)(t),type:t.__TYPE__}})}}]),n}(S.Component),Ir.contextTypes={id:O.a.oneOfType([O.a.number,O.a.string]).isRequired,itemsTotal:O.a.number,name:O.a.string.isRequired,itemsStore:O.a.object.isRequired,searchType:O.a.string},Ar=jr))||Ar,Jr=Object(R.c)((function(e){return{isOnline:e.app.online}}),{setPlayerLyrics:Mr.b})(Kr),Xr=n("YdOI"),Zr=n("VdYI"),$r=n("kUkq"),ea=n("Q04h");function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var na=mn()()((qr=Vr=function(e){p()(n,e);var t=ta(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._play=r._play.bind(u()(r)),r}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.index!==e.index||this.props.active!==e.active||this.props.item.SNG_ID!==e.item.SNG_ID||this.props.items.length!==e.items.length}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.options,r=e.index,a=e.isDirectPlayAllowed;if(!Object(M.v)(t))return this._renderCalendar();var i=null;return n.unseen&&Object(M.t)(t,this.context.lastSeen)?i=Gr||(Gr=T.a.createElement("span",{className:"datagrid-badge-unseen"})):n.trackNumber?i=T.a.createElement("span",{className:"datagrid-track-number"},t.TRACK_NUMBER):n.trackIndex?i=T.a.createElement("span",{className:"datagrid-track-number"},r+1):n.cover&&(i=this._renderThumbnail()),T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action"},i,a&&n.isDirectPlayAllowed?T.a.createElement("div",{className:"datagrid-cell-hover cell-play"},T.a.createElement("a",{className:"cell-play-icons",onClick:this._play,role:"button","data-target":"play",tabIndex:"0","aria-label":Object(he.a)("Play")},Yr||(Yr=T.a.createElement("span",{className:"play-default"},T.a.createElement(Zr.a,{size:"10"}))),Wr||(Wr=T.a.createElement("span",{className:"play-hover"},T.a.createElement($r.a,{size:"10"}))),Qr||(Qr=T.a.createElement("span",{className:"play-active"},T.a.createElement("span",{className:"equalizer equalizer-inverse equalizer-12"}))))):null)}},{key:"_renderThumbnail",value:function(){var e=this.props,t=e.context,n=e.options,r=e.item,a="";switch(n.cover){case ve.a.Album:a="".concat(r.SNG_TITLE," - ").concat(r.ART_NAME);break;case ve.a.Episode:a=r.EPISODE_TITLE}return T.a.createElement("div",{className:"datagrid-cover datagrid-cover-hover"},T.a.createElement(Xr.a,{type:n.cover,coverLink:!1,data:r,context:t,height:28,width:28,alt:a}))}},{key:"_renderCalendar",value:function(){var e=Object(M.k)(this.props.item);return T.a.createElement("div",{className:"datagrid-calendar"},T.a.createElement("div",{className:"month"},Object(ea.a)(e[1])),T.a.createElement("div",{className:"day"},e[2]))}},{key:"_play",value:function(e){e.preventDefault();var t=this.props,n=t.context,r=t.item,a=t.items,i=t.gridType,o=t.index,c=t.isDirectPlayAllowed,s=t.options,l=t.isUpnext,u=t.trackListLength;if(!1!==c&&!1!==s.isDirectPlayAllowed){if(Object(M.r)(r,n.TYPE))return we.b.intent(Object(Ae.a)(P.c)),P.c.control.togglePause(),void this._triggerTracking();if(P.c.chromecast.isCasting()){var d=Object(M.g)(r,a)%P.c.chromecast.getQueueMaxItems(),p=P.c.getTrackList()[d];if(p&&String(p.SNG_ID||p.EPISODE_ID)===String(r.SNG_ID||r.EPISODE_ID))return P.c.chromecast.executeAction("playAtIndex",[d]),void this._triggerTracking()}if(Object(M.u)(i)){we.b.intent("play");var f=o+(l&&!this.props.trackList.some((function(e){return Object(M.f)(e)===Object(M.f)(r)}))?u:0);return P.c.playTrackAtIndex(f),void this._triggerTracking()}if(s.playAsTrackMix)return P.c.play({id:r.SNG_ID,type:en.a.TRACK_MIX,radio:!0,context:n,forceAsFirstTrack:!0}),we.b.intent("play"),void this._triggerTracking();we.b.intent("play"),P.c.play(Object(M.j)(this.props,this.context)),this._triggerTracking()}}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.context,r=e.index,a=e.tracking,i=Object(M.c)(a);!i||Object(M.r)(t,n.TYPE)&&(P.c.isPlaying()||P.c.isPaused())||a.trackEvent({eventaction:"click-play-".concat(i,"_song"),event:"click",eventcategory:i,eventlabel:"play-".concat(n.TYPE),item:{rank:r,id:Object(M.f)(t),type:t.__TYPE__}})}}]),n}(S.Component),Vr.contextTypes={itemsTotal:O.a.number,lastSeen:O.a.oneOfType([O.a.number,O.a.oneOf([null])]),searchType:O.a.string},Vr.getLabel=function(e){return e.trackIndex||e.trackNumber?"#":null},Vr.className="datagrid-cell datagrid-cell-action cell-play",zr=qr))||zr,ra=Object(R.c)((function(e){return{isUpnext:e.player.config.isUpnext,trackListLength:e.player.music.list.length,trackList:e.player.music.list}}))(na);n("toAj");function aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ia=function(e){p()(n,e);var t=aa(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props.item.RANK_SNG/1e5;return T.a.createElement("div",{className:"datagrid-cell cell-popularity"},T.a.createElement(Ot.a,{text:"".concat(Object(he.a)("Popularité : ")," ").concat(e.toFixed(2)," / 10"),position:"left"},this._renderNote(e)))}},{key:"_renderNote",value:function(e){for(var t=[],n=0;n<10;n++){var r=Object(Ue.a)({"datagrid-note":!0,active:n<=Math.round(e)-1});t.push(T.a.createElement("span",{key:n,className:r}))}return T.a.createElement("span",{className:"popularity-note"},t)}}]),n}(S.Component);ia.getLabel=function(){return Object(he.a)("Pop.")},ia.className="cell-popularity",ia.sort=function(e,t){return e.RANK_SNG-t.RANK_SNG};var oa,ca=ia,sa=n("hwpZ");function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ua,da,pa=function(e){p()(n,e);var t=la(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onRemoveTrack=r._onRemoveTrack.bind(u()(r)),r._onDoubleClick=r._onDoubleClick.bind(u()(r)),r}return s()(n,[{key:"render",value:function(){return this.props.options.isRadio?null:T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action cell-remove",onDoubleClick:this._onDoubleClick},T.a.createElement(Ot.a,{text:Object(he.a)("Retirer de la file d'attente")},T.a.createElement("button",{className:"datagrid-action",type:"button",onClick:this._onRemoveTrack},oa||(oa=T.a.createElement(sa.a,{size:"14"})))))}},{key:"_onDoubleClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_onRemoveTrack",value:function(e){e.preventDefault(),e.stopPropagation(),P.c.removeTracks(this.props.index)}}]),n}(S.Component),fa=n("OuPr"),ha=n("P3cJ"),ma=n("pk2W"),va=n("6pb3"),ya=n("FcjQ"),ga=n("8yji");function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var _a=function(e){p()(n,e);var t=ba(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={},r._renderTrack=r._renderTrack.bind(u()(r)),r._delete=r._delete.bind(u()(r)),r._replace=r._replace.bind(u()(r)),r._apiCallRefs=[],r}return s()(n,[{key:"componentDidMount",value:function(){this._fetchTracks()}},{key:"render",value:function(){return T.a.createElement(ya.a,{className:"popper-replace"},this._renderHeader(),this._renderResults(),this._renderFooter())}},{key:"_renderHeader",value:function(){var e=this.props.track;return T.a.createElement("div",{className:"popper-replace-header heading-4"},e.SNG_TITLE," - ",e.ART_NAME)}},{key:"_renderResults",value:function(){var e=this.state.results;return e&&0===e.length?T.a.createElement("div",{className:"popper-replace-content"},T.a.createElement("strong",{className:"popper-replace-title"},Object(he.a)("Aucune correspondance n'a été trouvée"))):e?T.a.createElement(ma.a,{className:"popper-replace-content"},T.a.createElement("div",null,T.a.createElement("strong",{className:"popper-replace-title"},Object(he.a)("Veuillez choisir un remplacant parmi la liste suivante:")),e.map(this._renderTrack))):ua||(ua=T.a.createElement("div",{className:"popper-replace-content"}))}},{key:"_renderTrack",value:function(e){var t=this.state.selected,n=Object(Ue.a)("popper-replace-row",{"is-active":t&&t.SNG_ID===e.SNG_ID});return T.a.createElement("dl",{key:e.SNG_ID,className:n},T.a.createElement("dd",null,T.a.createElement("button",{className:"popper-replace-content-play",onClick:this._play.bind(this,e),type:"button"},da||(da=T.a.createElement(Zr.a,{size:"8"}))),T.a.createElement("button",{className:"popper-replace-content-childs",onClick:this._select.bind(this,e),type:"button"},T.a.createElement("span",{className:"popper-replace-content-child"},e.SNG_TITLE),T.a.createElement("span",{className:"popper-replace-content-child"},e.ART_NAME),T.a.createElement("span",{className:"popper-replace-content-child"},e.ALB_TITLE))))}},{key:"_renderFooter",value:function(){var e=this.state.selected;return T.a.createElement("div",{className:"popper-replace-bottom clearfix"},T.a.createElement("span",{className:"popper-replace-btn pull-left"},T.a.createElement(be.a,{size:"sm",onClick:this._delete},Object(he.a)("Supprimer"))),e?T.a.createElement("span",{className:"popper-replace-btn pull-right"},T.a.createElement(be.a,{color:"primary",size:"sm",onClick:this._replace},Object(he.a)("Remplacer"))):null)}},{key:"_play",value:function(e){P.c.play({data:[e]})}},{key:"_select",value:function(e){this.setState({selected:e})}},{key:"_delete",value:function(){var e=this;if(confirm(Object(he.a)("Voulez-vous vraiment effacer ce morceau ?"))){var t=this.props.track;this._isPersonalLovedContext()?this.props.dispatchRemoveFavoriteAction(t.SNG_ID,ve.a.Song,{}).then((function(){e.props.onClose()})):this.props.dispatchDeleteSongFromPlaylist({playlist_id:this.context.id,songs:[[t.SNG_ID,0]],context:{}}).then((function(t){t&&e.props.onClose()}))}}},{key:"_replace",value:function(){var e=this,t=this.props,n=t.track,r=t.dispatchReplaceSong,a=t.dispatchReplaceFavoriteAction,i=this.state.selected;this._isPersonalLovedContext()?a(ve.a.Song,n.SNG_ID,i.SNG_ID,Object(ga.a)()).then((function(){C.a.trigger(C.a.user.updateFavorite,{id:Number(n.SNG_ID),item:i}),e.props.onClose()})):r({selectedSong:i,oldSongId:n.SNG_ID,playlistId:this.context.id}).then((function(t){t&&e.props.onClose()}))}},{key:"_fetchTracks",value:function(){var e=this,t=this.state.results,n=this.props.track;if(!t){var r=x.b.call({method:"search.music",data:{QUERY:'artist:"'.concat(n.ART_NAME,'" track:"').concat(n.SNG_TITLE,'"'),FILTER:0,OUTPUT:"TRACK",NB:5,COUNTRY:this.props.userCountry},success:function(t){e.setState({results:t.data})}});this._apiCallRefs.push(r)}}},{key:"_isPersonalLovedContext",value:function(){return this.context.name===Object(ha.d)(ve.a.Playlist)&&this.context.id===this.props.lovedTracksId}}]),n}(S.Component);_a.contextTypes={id:O.a.oneOfType([O.a.number,O.a.string]).isRequired,name:O.a.string.isRequired};var Ea,ka,Oa={dispatchDeleteSongFromPlaylist:_t.d,dispatchReplaceSong:_t.h,dispatchReplaceFavoriteAction:Et.m,dispatchRemoveFavoriteAction:Et.h},Sa=Object(va.a)(Object(R.c)((function(e){var t=e.user;return{lovedTracksId:Number(t.USER.LOVEDTRACKS_ID),userCountry:t.COUNTRY}}),Oa)(_a));function Ta(e){return T.a.createElement(Ct.a,Rt()({name:"replace"},e),Ea||(Ea=T.a.createElement("path",{d:"M9 3L5 0v2C.726 2 0 4.506 0 8c0-1.729 1-4 5-4v2l4-3zM7 6L3 9l4 3v-2c4.5 0 5-2.518 5-6.1C12 5.729 11.223 8 7 8V6z"})))}function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ca,Na,xa,Pa,wa,Aa,Ia=function(e){p()(n,e);var t=Ra(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.index;if(Object(M.s)(t))return null;var r={popperId:"replace-track-".concat(n),trigger:[fa.d],tooltip:{text:Object(he.a)("Remplacer")},data:{track:t}};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action cell-replace"},T.a.createElement(Sa,r,ka||(ka=T.a.createElement("button",{className:"datagrid-action",type:"button"},T.a.createElement(Ta,{size:"14"})))))}}]),n}(S.Component),ja=n("lE2N");n("oVuX");function Da(e){return T.a.createElement(Ct.a,Rt()({name:"link"},e),Ca||(Ca=T.a.createElement("path",{d:"M11.123 5.052L9.007 7.145a3.017 3.017 0 0 1-4.233 0 2.931 2.931 0 0 1-.576-.826l.771-.763c.087.326.252.636.51.891.78.77 2.043.77 2.822 0l2.117-2.093c.78-.77.78-2.02 0-2.79a2.012 2.012 0 0 0-2.822 0L6.055 3.088a3.002 3.002 0 0 0-1.125-.283L6.89.867a3.017 3.017 0 0 1 4.233 0 2.935 2.935 0 0 1 0 4.185zM7.25 4.744c.25.25.434.537.578.838l-.774.775a1.984 1.984 0 0 0-.512-.905 2 2 0 0 0-2.83 0L1.586 7.577a2.005 2.005 0 0 0 0 2.834 2 2 0 0 0 2.831 0l1.546-1.547c.358.17.74.267 1.128.287L5.126 11.12a3 3 0 0 1-4.247 0 3.008 3.008 0 0 1 0-4.251l2.124-2.125a3 3 0 0 1 4.246 0z"})))}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ma,Fa=mn()()((Pa=xa=function(e){p()(n,e);var t=La(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onPlayerTypeChange=r._onPlayerTypeChange.bind(u()(r)),r._play=r._play.bind(u()(r)),r.state={isRadio:P.c.isRadio()},r}return s()(n,[{key:"componentDidMount",value:function(){C.a.subscribe(C.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"shouldComponentUpdate",value:function(e,t){var n=Object(M.f)(this.props.item),r=Object(M.f)(e.item);return n!==r||e.item.SNG_TITLE!==this.props.item.SNG_TITLE||e.active!==this.props.active||t.isRadio!==this.state.isRadio||this.context.itemsStore.hasDisplayedContributors(n)!==this.context.itemsStore.hasDisplayedContributors(r)}},{key:"componentWillUnmount",value:function(){x.b.cancel(this._apiCallRef),C.a.unsubscribe(C.a.player.changePlayerType,this._onPlayerTypeChange)}},{key:"render",value:function(){var e,t=this.props,n=t.item,r=t.rightMessage,a=t.unavailable,i=T.a.createElement("div",{className:"datagrid-cell cell-title"},T.a.createElement("div",{className:"ellipsis"},T.a.createElement(mr.a,{id:null!==(e=n.SNG_ID_ORIGIN)&&void 0!==e?e:Zt.d.parser.id(n),type:Zt.d.parser.type(n)}),this._renderTitle(),this._renderAllArtists(),this._renderMultiArtist()));return a?T.a.createElement(Ot.a,{text:r},i):i}},{key:"_renderTitle",value:function(){var e=this._getTitle(),t=this.props,n=t.item,r=t.active;return!1===t.isDirectPlayAllowed&&!1===r?T.a.createElement("span",{itemProp:"name"},e):n.SNG_ID<0?T.a.createElement("button",{itemProp:"name",className:"datagrid-label datagrid-label-main title",onClick:this._play,onKeyDown:this._play},e):T.a.createElement(vn.a,{itemProp:"url",to:"/track/".concat(this.props.item.SNG_ID),className:"datagrid-label datagrid-label-main title",tabIndex:"0",onClick:this._play,role:"button",onKeyDown:this._play},T.a.createElement("span",{itemProp:"name"},e))}},{key:"_renderLink",value:function(){var e=this.props,t=e.item,n=e.options;return void 0===t.FALLBACK||!0!==n.fallback?null:T.a.createElement("li",null,T.a.createElement(Ot.a,{text:Object(he.a)("Afficher la source de ce titre")},T.a.createElement(vn.a,{to:"/album/".concat(t.FALLBACK.ALB_ID),"aria-label":Object(he.a)("Afficher la source de ce titre")},wa||(wa=T.a.createElement(Da,null)))))}},{key:"_renderArtists",value:function(e){return Object(ja.a)(e,(function(e){return e.ART_ID})).map((function(e,t){return[t>0?", ":"",T.a.createElement(vn.a,{key:e.ART_ID,className:"datagrid-label-sub",to:"/artist/".concat(e.ART_ID)},e.ART_NAME)]}))}},{key:"_renderMultiArtist",value:function(){var e=this.props,t=e.item;if(!e.options.multiArtist||!Array.isArray(t.MULTI_ARTIST)||0===t.MULTI_ARTIST.length)return null;var n=t.MULTI_ARTIST.filter((function(e){return 0===Number(e.ROLE_ID)||5===Number(e.ROLE_ID)})),r=this._renderArtists(n);return T.a.createElement("span",{className:"datagrid-label-artist"},r)}},{key:"_renderAllArtists",value:function(){var e=this.props,t=e.item;return e.options.titleArtists?T.a.createElement(T.a.Fragment,null,Aa||(Aa=T.a.createElement("span",null," - ")),this._renderArtists(t.ARTISTS)):null}},{key:"_onPlayerTypeChange",value:function(){this.setState({isRadio:P.c.isRadio()})}},{key:"_play",value:function(e){if(e.preventDefault(),void 0===e.keyCode||13===e.keyCode){var t=this.props,n=t.index,r=t.isDirectPlayAllowed,a=t.item,i=t.gridType,o=t.options,c=t.context;!1!==r&&!1!==o.isDirectPlayAllowed&&(Object(M.r)(a,this.context.name)?P.c.control.togglePause():Object(M.u)(i)?P.c.playTrackAtIndex(n):o.playAsTrackMix?P.c.play({id:a.SNG_ID,type:en.a.TRACK_MIX,radio:!0,context:c,forceAsFirstTrack:!0}):(P.c.play(Object(M.j)(this.props,this.context)),this._triggerTracking()))}}},{key:"_getTitle",value:function(){var e=[],t=this.props.item;return void 0!==t.SNG_CONTRIBUTORS&&void 0!==t.SNG_CONTRIBUTORS.abbreviated_composer&&""!==t.SNG_CONTRIBUTORS.abbreviated_composer&&e.push(t.SNG_CONTRIBUTORS.abbreviated_composer),e.push(t.SNG_TITLE),e=e.join(" | "),"string"==typeof t.VERSION&&""!==t.VERSION&&(e+=" "+t.VERSION),e}},{key:"_toggleContributors",value:function(e){e.preventDefault(),this.context.itemsStore.toggleContributors(Object(M.f)(this.props.item))}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.item,n=e.context,r=e.index,a=e.tracking,i=Object(M.c)(a);!i||Object(M.r)(t,n.TYPE)&&(P.c.isPlaying()||P.c.isPaused())||a.trackEvent({eventaction:"click-play-".concat(i,"_song"),event:"click",eventcategory:i,eventlabel:"play-".concat(n.TYPE),item:{rank:r,id:Object(M.f)(t),type:t.__TYPE__}})}},{key:"_getContext",value:function(e){switch(e){case"discography":case"topArtist":return"artist";case ve.a.PersonalPlaylist:return"playlist";default:return e}}}]),n}(S.Component),xa.contextTypes={id:O.a.oneOfType([O.a.number,O.a.string]).isRequired,name:O.a.string.isRequired,itemsStore:O.a.object.isRequired,itemsTotal:O.a.number,searchType:O.a.string},xa.defaultProps={rightMessage:""},xa.getLabel=function(){return Object(he.a)("Titre")},xa.className="cell-title",xa.sort=function(e,t){return Object(yn.a)(e.SNG_TITLE.toLowerCase(),t.SNG_TITLE.toLowerCase())},xa.filter=function(e,t){return-1!==Object(fn.a)(t.SNG_TITLE.toLowerCase()).indexOf(e)},Na=Pa))||Na,Ba=n("G55l"),Ha=n("WQcZ");function Ua(e){return T.a.createElement(Ct.a,Rt()({name:"arrow-down"},e),Ma||(Ma=T.a.createElement("path",{d:"M7 8.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-5 5a.997.997 0 0 1-1.414 0l-5-5a1 1 0 1 1 1.414-1.414L5 8.586V1a1 1 0 1 1 2 0v7.586z"})))}function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Va=function(e){p()(n,e);var t=za(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.item.VARIATION!==e.item.VARIATION}},{key:"render",value:function(){var e=this.props.item.VARIATION,t=Number(e)||0,n="eq",r=Ba.a;return t>0&&(n="up",r=Ha.a),t<0&&(n="down",r=Ua),T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action cell-variation"},T.a.createElement(r,{className:"datagrid-variation-".concat(n)}))}}]),n}(S.Component);Va.className="datagrid-cell datagrid-cell-action cell-variation",Va.sort=function(e,t){return e=Number(e.VARIATION)||.5,(t=Number(t.VARIATION)||.5)-e};var qa,Ga=Va;function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Wa,Qa=function(e){p()(n,e);var t=Ya(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props.item;return e.hasFallback()?T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement(Ot.a,{text:Object(he.a)("Afficher la source de ce titre")},T.a.createElement(vn.a,{className:"datagrid-action",to:"/album/".concat(e.FALLBACK.ALB_ID)},qa||(qa=T.a.createElement(Da,{size:"14"}))))):null}}]),n}(S.Component),Ka=n("rmyn"),Ja={artist:"ART_ID",album:"ALB_ID",radio:"RADIO_ID",track:"SNG_ID",song:"SNG_ID",show:"SHOW_ID",episode:"EPISODE_ID"};function Xa(e){return e[Ja[e.__TYPE__]]}function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var $a=function(e){p()(n,e);var t=Za(n);function n(e){var r;return o()(this,n),(r=t.call(this,e))._onShare=r._onShare.bind(u()(r)),r}return s()(n,[{key:"render",value:function(){var e=this.props.item;return Object(M.s)(e)?T.a.createElement("div",{className:"datagrid-cell datagrid-cell-hover datagrid-cell-action"},T.a.createElement(Ot.a,{text:Object(he.a)("Partager")},T.a.createElement("button",{className:"datagrid-action",onClick:this._onShare},Wa||(Wa=T.a.createElement(Ne.a,{size:"14"}))))):null}},{key:"_onShare",value:function(){var e=this.props,t=e.item,n=e.context;this.props.openModal({name:xe.a,props:{componentType:xe.d.contextualMenu,context:n,data:t,id:Xa(t),type:Object(Ka.a)(t.__TYPE__)}})}}]),n}(S.Component),ei=Object(R.c)(null,{openModal:me.c})($a),ti=n("uVns");function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ii=function(e){p()(n,e);var t=ai(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.item.SNG_ID!==e.item.SNG_ID}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.context,r=Object(M.s)(t),a={className:"datagrid-action",type:ve.a.Song,id:String(this.props.item.SNG_ID_ORIGIN||this.props.item.SNG_ID),tooltip:r,isDisabled:!r,context:ri(ri({},n),{},{ID:Object(M.f)(t)})};return T.a.createElement("div",{className:"datagrid-cell datagrid-cell-action cell-dislike"},T.a.createElement(ti.a,a))}}]),n}(S.Component);ii.contextTypes={name:O.a.string.isRequired},ii.className="datagrid-cell-action cell-dislike";var oi=ii,ci=n("rb98");function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var li=function(e){p()(n,e);var t=si(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return T.a.createElement("div",{className:"datagrid-cell cell-date"},T.a.createElement("span",{className:"datagrid-label datagrid-label-idle ellipsis"},this.props.favoriteDate))}}]),n}(S.PureComponent);li.getLabel=function(){return Object(he.a)("Ajouté")},li.className="cell-date",li.sort=function(e,t){var n=Zt.d.parser.type(e),r=Zt.d.parser.id(e),a=Zt.d.parser.type(t),i=Zt.d.parser.id(t);return kt.a.getFavoriteTimestamp(n,r)-kt.a.getFavoriteTimestamp(a,i)};var ui={AddToPlaylist:an,AddDate:pn,Album:kn,Artist:Rn,Checkbox:Pn,ContextMenu:Dn,Download:Mn,Duration:zn,EditMp3:Qn,EpisodeAdd:Zn,EpisodeHeard:ar,EpisodeInformation:sr,EpisodeReleaseDate:hr,EpisodeTitle:_r,ShowName:kr,Explicit:xr,Love:Lr,Lyrics:Jr,Play:ra,Popularity:ca,RemoveFromQueueList:pa,Replace:Ia,Title:Fa,Variation:Ga,FallbackLink:Qa,Share:ei,Dislike:oi,FavoriteDate:Object(R.c)((function(e,t){var n=e.feedbacks,r=t.item,a=t.type,i=Zt.d.parser.id(r),o=Object(ci.c)(n,a,i);return{favoriteDate:o?Object(on.a)(1e3*o):"-"}}))(li)},di=n("fhKP"),pi=n("9mL2"),fi=n("3lCq");function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var vi=function(e){p()(n,e);var t=mi(n);function n(e,r){var a;return o()(this,n),(a=t.call(this,e,r))._onProgressBarTransitionEnd=function(){return a.setState({progressFinished:!0})},a._play=a._play.bind(u()(a)),a._onDownloadProgress=a._onDownloadProgress.bind(u()(a)),a._contextMenuId=Object(pi.c)(),a.state={progress:0,progressFinished:e.isDownloaded},a}return s()(n,[{key:"componentDidMount",value:function(){this.props.isPersisted&&!this.props.isDownloaded&&C.a.subscribe(C.a.offline.download,this._onDownloadProgress)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.index!==e.index||this.props.filter!==e.filter||this.props.sortCell!==e.sortCell||this.props.sortOrder!==e.sortOrder||this.props.draggable!==e.draggable||this.props.item.ART_NAME!==e.item.ART_NAME||this.props.item.ALB_TITLE!==e.item.ALB_TITLE||this.props.item.SNG_TITLE!==e.item.SNG_TITLE||this.props.item.title!==e.item.title||this.props.items.length!==e.items.length||this.props.isSameItemInPlayer!==e.isSameItemInPlayer||this.props.isPlayerPaused!==e.isPlayerPaused||this.props.isPlayerPlaying!==e.isPlayerPlaying||this.props.isDownloaded!==e.isDownloaded||this.props.isPersisted!==e.isPersisted||this.state.progress!==t.progress||this.state.progressFinished!==t.progressFinished||this.props.popperId!==e.popperId&&(Object(pi.d)(this.props.popperId,this._contextMenuId)||Object(pi.d)(e.popperId,this._contextMenuId))}},{key:"componentDidUpdate",value:function(e){this.props.isPersisted!==e.isPersisted&&(this.props.isPersisted&&!this.props.isDownloaded?C.a.subscribe(C.a.offline.download,this._onDownloadProgress):C.a.unsubscribe(C.a.offline.download,this._onDownloadProgress))}},{key:"componentWillUnmount",value:function(){C.a.unsubscribe(C.a.offline.download,this._onDownloadProgress)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.gridType,a=t.item,i=t.items,o=t.options,c=t.filter,s=t.sortCell,l=t.index,u=t.draggable,d=t.isPlayerPaused,p=t.isPlayerPlaying,f=t.popperId,h=t.onDragStart,m=t.onDrop,v=t.onDragOver,y=t.onDragEnd,g=t.context,b=Object(M.f)(Object(M.d)(a)),_=this._isDirectPlayAllowed(a),E=Object(M.h)(a),k=this._isTrackActive()&&(d||p),O=Object(Ue.a)("datagrid-row",{song:r!==Te.a.TalkShow,show:r===Te.a.TalkShow,unavailable:!_,active:k,paused:d,unseen:o.unseen&&Object(M.t)(a,this.context.lastSeen),soon:!Object(M.v)(a),new:(r===Te.a.ChartsPlaylist||r===Te.a.CuratedChartsPlaylist)&&void 0===a.VARIATION,"is-first":0===l,"is-last":l===i.length-1,"has-contextmenu":Object(pi.d)(f,this._contextMenuId)||f==="replace-track-".concat(l)}),S=o.cells.map((function(t){return e._renderCell(t,{gridType:r,type:n,item:a,items:i,index:l,filter:c,sortCell:s,active:k,options:o,unavailable:!Object(M.s)(a),isDirectPlayAllowed:_,rightMessage:E,context:g})}));return T.a.createElement(fi.a.Provider,{value:this._contextMenuId},T.a.createElement("div",{className:O,key:"item-".concat(b),"data-key":b,draggable:u,onDoubleClick:this._play,onDragStart:h,onDrop:m,onDragOver:v,onDragEnd:y,itemProp:"track",itemScope:!0,itemType:"http://schema.org/MusicRecording"},S,this._renderProgressBar()))}},{key:"_renderCell",value:function(e,t){return void 0===ui[e]?T.a.createElement("div",{key:e,className:"datagrid-cell cell-action"}):T.a.createElement(ui[e],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e},t))}},{key:"_renderProgressBar",value:function(){if(!this.props.isPersisted||this.state.progressFinished)return null;var e=Object(Ue.a)("datagrid-progress",{invisible:0===this.state.progress}),t=1===this.state.progress?this._onProgressBarTransitionEnd:void 0,n={transform:"translate3d(-".concat(100-100*this.state.progress,"%, 0, 0)")};return T.a.createElement("div",{className:e},T.a.createElement("div",{className:"datagrid-progress-bar",style:n,onTransitionEnd:t}))}},{key:"_onDownloadProgress",value:function(e,t,n){if(n!==this.state.progress){var r=Zt.d.parser.id(this.props.item),a=Zt.d.parser.type(this.props.item);t.type===a&&t.id===r&&this.setState({progress:n})}}},{key:"_play",value:function(e){e.preventDefault();var t=this.props,n=t.item,r=t.items,a=t.gridType,i=t.index,o=t.options,c=t.context;if(!1!==this._isDirectPlayAllowed(n))if(this._isTrackActive())P.c.control.togglePause();else{if(P.c.chromecast.isCasting()){var s=Object(M.g)(n,r)%P.c.chromecast.getQueueMaxItems(),l=P.c.getTrackList()[s];if(l&&String(l.SNG_ID||l.EPISODE_ID)===String(n.SNG_ID||n.EPISODE_ID))return void P.c.chromecast.executeAction("playAtIndex",[s])}Object(M.u)(a)?P.c.playTrackAtIndex(i):o.playAsTrackMix?P.c.play({id:n.SNG_ID,type:en.a.TRACK_MIX,radio:!0,context:c,forceAsFirstTrack:!0}):P.c.play(Object(M.j)(this.props,this.context))}}},{key:"_isTrackActive",value:function(){return this.props.isSameItemInPlayer&&Object(M.n)(this.context.name)}},{key:"_isDirectPlayAllowed",value:function(e){var t=this.props,n=t.options,r=t.isPremiumUser;return Object(M.s)(e)&&(!1===n.isRadio||r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{progressFinished:!(e.isPersisted||!e.isDownloaded||t.progressFinished)||t.progressFinished}}}]),n}(S.Component);vi.contextTypes={id:O.a.oneOfType([O.a.number,O.a.string]),itemsTotal:O.a.number,name:O.a.string,lastSeen:O.a.oneOfType([O.a.number,O.a.oneOf([null])]),searchType:O.a.string},vi.defaultProps={filter:"",sortCell:"",sortOrder:"",draggable:!1,onDragStart:function(){},onDrop:function(){},onDragOver:function(){},onDragEnd:function(){}};var yi=Object(R.c)((function(e,t){var n,r=e.cache,a=e.popper,i=e.user,o=e.player,c=t.item,s=Zt.d.parser.id(c.FALLBACK||c),l=Zt.d.parser.type(c.FALLBACK||c),u={id:null!==(n=c.SNG_ID_ORIGIN)&&void 0!==n?n:Zt.d.parser.id(c),type:l};return{isSameItemInPlayer:!(Object(di.p)({player:o})!==l||Object(di.e)({player:o})!==s||c.UID&&Object(di.q)({player:o})!==c.UID||c.TS&&Object(di.n)({player:o})!==c.TS),isPlayerPaused:!0===o.control.paused,isPlayerPlaying:!0===o.control.playing,isDownloaded:Object($t.d)(r,u),isPersisted:Object($t.i)(r,u),isPremiumUser:Object(ye.W)(i),popperId:a.popperId,type:l}}))(vi);function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var bi=function(e){p()(n,e);var t=gi(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).defaultImage="https://".concat(Pe.a.get("host_img_url_ssl"),"/cover/d41d8cd98f00b204e9800998ecf8427e/30x30-000000-80-0-0.jpg"),e}return s()(n,[{key:"render",value:function(){var e=this.props.items;return e?1===e.length?this._renderDragImageSingle():this._renderDragImageMultiple():this._renderPlaceholder()}},{key:"_renderPlaceholder",value:function(){return T.a.createElement("div",{className:"datagrid-ghost",id:"naboo_datagrid_ghost_single","aria-grabbed":this.props.isDragging,"aria-dropeffect":this.props.isDragging?"move":"none","aria-hidden":!this.props.isDragging,ref:this.props.forwardedRef},T.a.createElement("img",{className:"picture",src:this.defaultImage}))}},{key:"_renderDragImageSingle",value:function(){var e=this.props.items[0],t=e.RANK_SNG/1e5;return T.a.createElement("div",{className:"datagrid-ghost",id:"naboo_datagrid_ghost_single","aria-grabbed":this.props.isDragging,"aria-dropeffect":this.props.isDragging?"move":"none",ref:this.props.forwardedRef},T.a.createElement("div",{className:"wrapper-table"},T.a.createElement("span",{className:"cell cell-thumbnail"},T.a.createElement("figure",{className:"thumbnail thumbnail-bordered"},T.a.createElement("img",{className:"picture",src:this.defaultImage}))),T.a.createElement("span",{className:"cell cell-track"},T.a.createElement("div",{className:"ellipsis"},T.a.createElement("strong",null,e.SNG_TITLE)),T.a.createElement("div",{className:"ellipsis"},e.ALB_TITLE)),T.a.createElement("span",{className:"cell cell-length"},Object(Fn.a)(e.DURATION)),T.a.createElement("span",{className:"cell cell-popularity"},T.a.createElement("span",{className:"note note-"+Math.round(t)}))))}},{key:"_renderDragImageMultiple",value:function(){var e=this.props.items.length,t=Object(he.c)("%s titre","%s titres",{sprintf:[e],count:e});return T.a.createElement("div",{className:"datagrid-ghost multiple",id:"naboo_datagrid_ghost_multi","aria-grabbed":this.props.isDragging,"aria-dropeffect":this.props.isDragging?"move":"none",ref:this.props.forwardedRef},T.a.createElement("div",{className:"wrapper-table"},T.a.createElement("span",{className:"cell cell-thumbnail"},T.a.createElement("figure",{className:"thumbnail thumbnail-bordered"},T.a.createElement("img",{className:"picture",src:this.defaultImage}))),T.a.createElement("span",{className:"cell"},T.a.createElement("strong",null,t))))}}]),n}(S.Component);bi.defaultProps={items:null,isDragging:!1};var _i=T.a.forwardRef((function(e,t){return T.a.createElement(bi,Rt()({},e,{forwardedRef:t}))}));_i.displayName="dragImage";var Ei,ki,Oi=_i,Si=n("shcr");function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ni={availableOnly:!1,titleArtists:!1,cdNumber:!1,cells:["Play","Love","Title","Artist","Album","Duration"],changeOrder:!1,contributors:!1,cover:!1,fallback:!1,fillerHeight:!1,header:!1,infiniteScroll:!1,isRadio:!1,multiArtist:!1,sorterStorageKey:"",toolbar:!1,trackIndex:!1,trackNumber:!1,unseen:!1,isDirectPlayAllowed:!0,forcePlayerReloadTrack:!1,playAsTrackMix:!1},xi={add:!1,download:!1,remove:!1,sorter:!1},Pi={contextMenu:!1,download:!1,edit:!1,favorite:!1,filter:!1,playAll:!1,playlistAssistant:!1,shareType:!1,sorter:!1,upload:!1};function wi(e){return e.id||e.context.ID}var Ai=function(){var e=[];for(var t in ui)({}).hasOwnProperty.call(ui,t)&&void 0!==ui[t].filter&&e.push(ui[t].filter);return e}();function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r[e]||{},a=Object.entries(Ni).map((function(e){var r=_()(e,2),a=r[0],i=r[1];return[a,[t[a],n[a],i].filter((function(e){return void 0!==e})).shift()]})).reduce((function(e,t){var n=_()(t,2),r=n[0],a=n[1];return Ci(Ci({},e),{},g()({},r,a))}),{});return a.header=!!a.header&&Ci(Ci({},xi),a.header),a.toolbar=!!a.toolbar&&Ci(Ci({},Pi),a.toolbar),a}var ji=function(e){p()(n,e);var t=Ti(n);function n(e,r){var a;o()(this,n),(a=t.call(this,e,r)).fillerHeight=0,a._apiCallRefs=[],a._filteredItems=[],a._dragDebounce=0,a._onAddPersonalSong=a._onAddPersonalSong.bind(u()(a)),a._onUpdatePersonalSong=a._onUpdatePersonalSong.bind(u()(a)),a._onRemoveSong=a._onRemoveSong.bind(u()(a)),a._onSendPersonalSong=a._onSendPersonalSong.bind(u()(a)),a._onSort=a._onSort.bind(u()(a)),a._onFilter=Object(E.a)(a._onFilter.bind(u()(a)),300),a._drop=a._drop.bind(u()(a)),a._dragOver=a._dragOver.bind(u()(a)),a._dragEnd=a._dragEnd.bind(u()(a)),a.dragImageRef=T.a.createRef(),a.listRef=T.a.createRef(),a.dataGridRef=T.a.createRef();var i=N.a.hydrate(e.items),c=i.map(M.f),s=wi(e),l=Ii(e.type,e.options),d=Object(M.l)(s,l.sorterStorageKey),p=d.cell,f=d.order;return a.state={dragDivider:null,dragItems:null,filter:"",id:s,isDragging:!1,items:i,options:l,sortCell:p,sortOrder:f,store:L().fill(c),type:e.type,isApplyingFilter:!1,isApplyingSort:!1},a}return s()(n,[{key:"getChildContext",value:function(){return{id:this.state.id,name:this.props.context.TYPE,itemsStore:this.state.store,itemsTotal:this.props.itemsTotal||this.state.store.getNbItems(),type:this.props.type}}},{key:"componentDidMount",value:function(){C.a.subscribe(C.a.user.sendPersonalSong,this._onSendPersonalSong),C.a.subscribe(C.a.user.addPersonalSong,this._onAddPersonalSong),C.a.subscribe(C.a.user.updatePersonalSong,this._onUpdatePersonalSong),C.a.subscribe(C.a.playlist.removeSong,this._onRemoveSong),C.a.subscribe(C.a.player.tracklist_changed,this._onRemoveSong);var e=wi(this.props),t=Ii(this.props.type,this.props.options),n=Object(M.l)(e,t.sorterStorageKey),r=n.cell,a=n.order;(null!==r||a&&"asc"!==a)&&this._onSort(r,a),!0===this.state.options.infiniteScroll&&this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this._apiCallRefs.forEach(x.b.cancel),C.a.unsubscribe(C.a.user.sendPersonalSong,this._onSendPersonalSong),C.a.unsubscribe(C.a.user.addPersonalSong,this._onAddPersonalSong),C.a.unsubscribe(C.a.user.updatePersonalSong,this._onUpdatePersonalSong),C.a.unsubscribe(C.a.playlist.removeSong,this._onRemoveSong),C.a.unsubscribe(C.a.player.tracklist_changed,this._onRemoveSong)}},{key:"addItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(r){if("number"!=typeof r.count||r.count===e.length){r=r.data||r,e=r.map((function(e){return void 0===e.DATE_ADD&&(e.DATE_ADD=Number(Date.now()/1e3)),e})),e=N.a.hydrate(e);var a=(e=n?e.concat(t.state.items):t.state.items.concat(e)).map(M.f);t.state.store.fill(a),t.setState({items:e}),C.a.trigger(C.a.datagrid.addedItems,{items:e})}};if("number"!=typeof(e=Array.isArray(e)?e:[e])[0])r(e);else{e=e.map((function(e){return[e,0]}));var a=x.b.call({method:"song.getListAllData",data:{sng_ids:e},success:r});this._apiCallRefs.push(a)}}},{key:"removeItems",value:function(e){e=(e=Array.isArray(e)?e:[e]).map((function(e){return Number(Array.isArray(e)?e[0]:e)})),e=this.state.items.filter((function(t){return-1===e.indexOf(Number(t.SNG_ID))})),this.setState({items:e})}},{key:"updateItem",value:function(e,t){for(var n=this.state.items.slice(0),r=0,a=n.length;r<a;r++)if(Number(n[r].SNG_ID)===e){n[r]=Object.assign({},n[r],t);break}this.setState({items:N.a.hydrate(n)},this._forceListUpdate)}},{key:"render",value:function(){var e=this.state,t=e.options,n=e.items;return!0===t.infiniteScroll&&!0===t.fillerHeight&&(this.fillerHeight=this._getFillerHeight(this.props.scrollingContainer,n)),T.a.createElement("div",{className:"datagrid-container"},this._renderToolbar(n),this.props.caption?T.a.createElement("span",{className:"hide sr-only"},this.props.caption):null,T.a.createElement("div",{ref:this.dataGridRef,className:"datagrid"},this._renderHeader(n),this._renderBody(n)),this._renderDragImage())}},{key:"_renderToolbar",value:function(e){var t=this.props,n=t.onLoadAll,r=t.pageData,a=t.context,i=this.state,o=i.options,c=i.id,s=i.type,l=i.filter,u=i.sortOrder,d=i.sortCell;return!1===o.toolbar?null:T.a.createElement(ct,{id:c,gridType:s,context:a,data:r,items:e,options:o,onFilter:this._onFilter,filter:l,sortOrder:u,sortCell:d,onSort:this._onSort,onUpload:function(){return n()},isApplyingSort:this.state.isApplyingSort,isApplyingFilter:this.state.isApplyingFilter})}},{key:"_renderHeader",value:function(e){var t=this.props,n=t.type,r=t.pageData,a=t.context,i=this.state,o=i.options,c=i.sortOrder,s=i.sortCell;return o.header?T.a.createElement(Xt,{cells:ui,nbTracks:r.NB_SONG,items:e,options:o,sortOrder:c,sortCell:s,onSort:this._onSort,context:a,gridType:n}):null}},{key:"_renderBody",value:function(e){return!1===this.state.options.infiniteScroll?this._renderLines(e):T.a.createElement(fe,{ref:this.listRef,containerType:"div",spacerType:"div",elementHeight:M.w},this._renderLines(e))}},{key:"_renderLines",value:function(e){var t,n,r,a,i,o,c,s,l=[],u=[],d=this.props.context,p=this.state,f=p.options,h=p.sortCell,m=p.dragDivider,v=p.type,y=p.filter,g=p.sortOrder;f.changeOrder&&null===h&&(r=!0,i=this._drop,o=this._dragOver,c=this._dragEnd);for(var b=0,_=e.length;b<_;++b)t=Object(M.d)(e[b]),n=Object(M.f)(t),!0===f.availableOnly&&!1===Object(M.s)(e[b])||(m&&m[0]===n&&"before"===m[1]&&l.push(Ei||(Ei=T.a.createElement("div",{key:"divider",className:"datagrid-drag-divider"}))),f.changeOrder&&null===h&&(a=this._dragStart.bind(this,e[b])),f.cdNumber&&t.DISK_NUMBER!==s&&null===h&&(u.push(b),s=t.DISK_NUMBER),l.push(T.a.createElement(yi,{gridType:v,context:d,items:e,item:e[b],filter:y,sortCell:h,sortOrder:g,options:f,index:b,draggable:r,onDragStart:a,onDrop:i,onDragOver:o,onDragEnd:c,key:Object(M.i)(e[b])})),m&&m[0]===n&&"after"===m[1]&&l.push(ki||(ki=T.a.createElement("div",{key:"divider",className:"datagrid-drag-divider"}))));return f.cdNumber&&u.length>1&&u.forEach((function(e,t){var n=String(t+1),r=e+t;l.splice(r,0,T.a.createElement("div",{className:"datagrid-divider",key:"cd-"+n},T.a.createElement("div",{className:"datagrid-row"},"CD ",n)))})),!1===f.infiniteScroll||this.fillerHeight>0&&l.push(T.a.createElement("div",{key:"filler",style:{height:this.fillerHeight}})),l}},{key:"_renderDragImage",value:function(){var e=this.state,t=e.dragItems,n=e.isDragging;return T.a.createElement(Oi,{ref:this.dragImageRef,items:t,isDragging:n})}},{key:"_onSort",value:function(e,t){var n=this;(null===e||void 0!==ui[e]&&"function"==typeof ui[e].sort)&&this.setState({isApplyingSort:!0},(function(){var r=n._updateSort.bind(n,e,t),a=n._updateSort.bind(n,n.state.sortCell,n.state.sortOrder);"function"!=typeof n.props.onLoadAll?setTimeout(r,0):n.props.onLoadAll({success:r,error:a})}))}},{key:"_onFilter",value:function(e){var t=this;this.setState({isApplyingFilter:!0},(function(){var n=t._updateFilter.bind(t,e),r=t._updateFilter.bind(t,"");"function"!=typeof t.props.onLoadAll?setTimeout(n,0):t.props.onLoadAll({success:n,error:r})}))}},{key:"_onRemoveSong",value:function(e,t){var n=this.props.type,r=[Te.a.PersonalPlaylist,Te.a.PersonalSong].indexOf(n)>-1;("PLAYLIST.removeSong"!==e.namespace||r&&this.state.id===Number(t.playlist_id))&&"PLAYER.tracklist_changed"!==e.namespace&&([Te.a.Loved,Te.a.PersonalLoved].includes(this.props.type)&&this.state.id===this.props.lovedTracksId||this.removeItems(t.song))}},{key:"_onAddPersonalSong",value:function(e,t){this.props.type===Te.a.PersonalSong&&this.state.id===this.props.userID&&this.addItems(Number(t))}},{key:"_onUpdatePersonalSong",value:function(e,t){this.props.type===Te.a.PersonalSong&&this.state.id===this.props.userID&&this.updateItem(t.id,t.item)}},{key:"_onSendPersonalSong",value:function(e,t){this.addItems(t.sng_id)}},{key:"_forceListUpdate",value:function(){this.listRef.current&&this.listRef.current.forceUpdate()}},{key:"_updateSort",value:function(e,t){var n=this.state,r=n.sortCell,a=n.sortOrder,i=n.options;if(void 0===t)switch(r===e&&a){case"asc":t="desc";break;case"desc":t=void 0,e=null;break;default:t="asc"}Object(M.y)(this.state.id,i.sorterStorageKey,{cell:e,order:t}),a!==t||r!==e?this.setState({sortOrder:t,sortCell:e,isApplyingSort:!1},this._forceListUpdate):this.setState({isApplyingSort:!1})}},{key:"_updateFilter",value:function(e){this.state.filter!==e?this.setState({filter:e,isApplyingFilter:!1},this._forceListUpdate):this.setState({isApplyingFilter:!1})}},{key:"_getFillerHeight",value:function(e,t){if(!this.dataGridRef.current)return 0;var n=e?e.offsetHeight:window.innerHeight,r=this.dataGridRef.current.getBoundingClientRect().top,a=M.z+M.o+t.length*M.w;return Math.max(0,n-r-a)}},{key:"_dragStart",value:function(e,t){var n,r=this.state.items,a=[];this.state.store.select(Object(M.f)(e));for(var i=0,o=r.length;i<o;i++)n=Object(M.f)(r[i]),this.state.store.isSelected(n)&&a.push(r[i]);if(Object(M.u)(this.props.type)&&a.length>1)return this.state.store.unselectAll(),void t.preventDefault();this.setState({dragItems:a,isDragging:!0}),document.body.classList&&document.body.classList.add("is-dragging"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),"setDragImage"in t.dataTransfer&&t.dataTransfer.setDragImage(this.dragImageRef.current,-10,-10)}},{key:"_drop",value:function(){var e,t,n=this,r=this.state.items.slice(0),a=0,i=!1,o=!1,c=this.state,s=c.dragDivider,l=c.dragItems;for(Object(M.g)(Object(M.e)(s[0],r),r)<Object(M.g)(l[0],r)?o=!0:i=!0,e=0,t=l.length;e<t;e++){var u=this._getIndexes(l[e],s);this._moveItem(r,u.src+(i?a--:0),u.dest+(o?a++:0))}var d=[];for(e=0,t=r.length;e<t;e++)d.push(Object(M.f)(r[e]));switch(this.props.type){case Te.a.PersonalPlaylist:case Te.a.CollaborativePlaylist:this.props.dispatchPlaylistUpdateOrder({playlist_id:this.state.id,position:"0",order:d});break;case Te.a.PersonalLoved:Si.a.isAllowed("unlimited_favorite_tracks")?this.props.dispatchReorderFavorites(ve.a.Song,d.map(String)).catch((function(e){n._forceListUpdate(),w.a.error(e)})):this.props.dispatchUpdateFavoriteSongsOrder({playlist_id:this.state.id,order:d}).catch((function(e){n._forceListUpdate(),w.a.error(e)}));break;case Te.a.Queuelist:case Te.a.QueuelistPodcast:P.c.orderTracks(d)}this._apiCallRefs.push(void 0),this.setState({items:r},this._forceListUpdate),this._cleanAfterDrag()}},{key:"_dragEnd",value:function(){this._cleanAfterDrag()}},{key:"_dragOver",value:function(e){e.preventDefault();var t=Date.now();if(!(t-this._dragDebounce<150)){this._dragDebounce=t;var n=this.state.dragDivider,r=Number(e.currentTarget.getAttribute("data-key")),a=e.currentTarget.getBoundingClientRect(),i=e.clientY-a.top<M.w/2?"before":"after";n&&r===n[0]&&i===n[1]||this.setState({dragDivider:[r,i]},this._forceListUpdate)}}},{key:"_cleanAfterDrag",value:function(){var e=this.state,t=e.dragDivider,n=e.items;if(document.body.classList&&document.body.classList.remove("is-dragging"),null!==t){var r,a,i;for(r=0,a=n.length;r<a;r++)i=Object(M.f)(n[r]),this.state.store.unselect(i);this.setState({dragItems:null,dragDivider:null,isDragging:!1},this._forceListUpdate)}}},{key:"_getIndexes",value:function(e,t){var n,r,a,i,o,c=Object(M.f)(Object(M.d)(e)),s=t[0],l=t[1],u=this.state.items;for(n=0,r=u.length;n<r&&(c===(a=Object(M.f)(Object(M.d)(u[n])))&&(i=n),s===a&&(o=n),!i||!o);n++);return i<o&&"before"===l?o-=1:i>o&&"after"===l&&(o+=1),{src:i,dest:o}}},{key:"_moveItem",value:function(e,t,n){var r,a=e[t];if(t<n)for(r=t;r<n;r++)e[r]=e[r+1];else for(r=t;r>n;r--)e[r]=e[r-1];e[n]=a}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=function(e,t,n){return void 0===ui[t]||"function"!=typeof ui[t].sort?e:((e=e.slice()).sort(ui[t].sort),"asc"===n?e:e.reverse())}(function(e,t){return""===t?e:e.filter((function(e){return Ai.some((function(n){return n(t,e)}))}))}(e.items,t.filter),t.sortCell,t.sortOrder),r=N.a.hydrate(n),a=r.map(M.f),i=wi(e),o=Ii(e.type,e.options),c=Object(M.l)(i,o.sorterStorageKey),s=c.cell,l=c.order;i!==t.id&&t.store.reset();var u=t.id!==i||e.type!==t.type||t.items.length!==t.store.getNbItems()||Object(M.u)(e.type)||Object(M.q)(e.type);return u&&t.store.fill(a),{id:i,items:u?r:t.items,options:o,sortCell:s,sortOrder:l,type:e.type}}}]),n}(S.Component);ji.childContextTypes={id:O.a.oneOfType([O.a.number,O.a.string]),name:O.a.string,itemsStore:O.a.object,itemsTotal:O.a.number,type:O.a.string},ji.defaultProps={id:0,caption:void 0,options:void 0,scrollingContainer:void 0,onLoadAll:void 0,pageData:{}};var Di={dispatchPlaylistUpdateOrder:_t.j,dispatchUpdateFavoriteSongsOrder:_t.i,dispatchReorderFavorites:Et.l};t.a=Object(R.c)((function(e){var t=e.user;return{userID:t.id,lovedTracksId:Number(t.USER.LOVEDTRACKS_ID)}}),Di,null,{forwardRef:!0})(ji)},imBb:function(e,t,n){var r;!function(a,i,o){if(a){for(var c,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)s[111+p]="f"+p;for(p=0;p<=9;++p)s[p+96]=p.toString();g.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);c=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),a.Mousetrap=g,e.exports&&(e.exports=g),void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}function f(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!c)for(var e in c={},s)e>95&&e<112||s.hasOwnProperty(e)&&(c[s[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function y(e,t){var n,r,a,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),a=0;a<n.length;++a)r=n[a],d[r]&&(r=d[r]),t&&"keypress"!=t&&u[r]&&(r=u[r],i.push("shift")),m(r)&&i.push(r);return{key:r,modifiers:i,action:t=v(r,i,t)}}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},a=!1,o=!1,c=!1;function s(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(c=!1)}function l(e,n,a,i,o,c){var s,l,u,d,p=[],f=a.type;if(!t._callbacks[e])return[];for("keyup"==f&&m(e)&&(n=[e]),s=0;s<t._callbacks[e].length;++s)if(l=t._callbacks[e][s],(i||!l.seq||r[l.seq]==l.level)&&f==l.action&&("keypress"==f&&!a.metaKey&&!a.ctrlKey||(u=n,d=l.modifiers,u.sort().join(",")===d.sort().join(",")))){var h=!i&&l.combo==o,v=i&&l.seq==i&&l.level==c;(h||v)&&t._callbacks[e].splice(s,1),p.push(l)}return p}function u(e,n,r,a){t.stopCallback(n,n.target||n.srcElement,r,a)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||a!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):a=!1)}function p(e,t,i,o){function l(t){return function(){c=t,++r[e],clearTimeout(n),n=setTimeout(s,1e3)}}function d(t){u(i,t,e),"keyup"!==o&&(a=h(t)),setTimeout(s,10)}r[e]=0;for(var p=0;p<t.length;++p){var f=p+1===t.length?d:l(o||y(t[p+1]).action);v(t[p],f,o,e,p)}}function v(e,n,r,a,i){t._directMap[e+":"+r]=n;var o,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,n,r):(o=y(e,r),t._callbacks[o.key]=t._callbacks[o.key]||[],l(o.key,o.modifiers,{type:o.action},a,e,i),t._callbacks[o.key][a?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:a,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,a=l(e,t,n),i={},d=0,p=!1;for(r=0;r<a.length;++r)a[r].seq&&(d=Math.max(d,a[r].level));for(r=0;r<a.length;++r)if(a[r].seq){if(a[r].level!=d)continue;p=!0,i[a[r].seq]=1,u(a[r].callback,n,a[r].combo,a[r].seq)}else p||u(a[r].callback,n,a[r].combo);var f="keypress"==n.type&&o;n.type!=c||m(e)||f||s(i),o=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},f(e,"keypress",d),f(e,"keydown",d),f(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},j3u8:function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function i(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,i)}function o(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,a,i){function o(e,t,r){e in n.attributeNames&&i.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var c,s=++t,l=0;;){var u=e.charAt(s);switch(u){case"=":if(1===l)c=e.slice(t,s),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(i.warning('attribute value must after "="'),c=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");o(c,d=e.slice(t,s).replace(/&#?\w+;/g,a),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');o(c,d=e.slice(t,s).replace(/&#?\w+;/g,a),t),i.warning('attribute "'+c+'" missed start quot('+u+")!!"),t=s+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,s)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===l&&(d=c),4==l?(i.warning('attribute "'+d+'" missed quot(")!'),o(c,d.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),o(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(l){case 0:n.setTagName(e.slice(t,s)),l=6;break;case 1:c=e.slice(t,s),l=2;break;case 4:var d=e.slice(t,s).replace(/&#?\w+;/g,a);i.warning('attribute "'+d+'" missed quot(")!!'),o(c,d,t);case 5:l=6}else switch(l){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),o(c,c,t),t=s,l=1;break;case 5:i.warning('attribute space is required"'+c+'"!!');case 6:l=1,t=s;break;case 3:l=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function l(e,t,n){for(var r=e.tagName,a=null,i=e.length;i--;){var o=e[i],c=o.qName,s=o.value;if((f=c.indexOf(":"))>0)var l=o.prefix=c.slice(0,f),u=c.slice(f+1),d="xmlns"===l&&u;else u=c,l=null,d="xmlns"===c&&"";o.localName=u,!1!==d&&(null==a&&(a={},p(n,n={})),n[d]=a[d]=s,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,s))}for(i=e.length;i--;){(l=(o=e[i]).prefix)&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=n[l||""]))}var f;(f=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,f),u=e.localName=r.slice(f+1)):(l=null,u=e.localName=r);var h=e.uri=n[l||""];if(t.startElement(h,u,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(h,u,r),a)for(l in a)t.endPrefixMapping(l)}function u(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),o=e.substring(t+1,i);if(/[&<]/.test(o))return/^script$/i.test(n)?(a.characters(o,0,o.length),i):(o=o.replace(/&#?\w+;/g,r),a.characters(o,0,o.length),i)}return t+1}function d(e,t,n,r){var a=r[n];return null==a&&((a=e.lastIndexOf("</"+n+">"))<t&&(a=e.lastIndexOf("</"+n)),r[n]=a),a<t}function p(e,t){for(var n in e)t[n]=e[n]}function f(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(a=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,a-t-4),a+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var a=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,a-t-9),n.endCDATA(),a+3}var i=function(e,t){var n,r=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;a.lastIndex=t,a.exec(e);for(;n=a.exec(e);)if(r.push(n),n[1])return r}(e,t),o=i.length;if(o>1&&/!doctype/i.test(i[0][0])){var c=i[1][0],s=!1,l=!1;o>3&&(/^public$/i.test(i[2][0])?(s=i[3][0],l=o>4&&i[4][0]):/^system$/i.test(i[2][0])&&(l=i[3][0]));var u=i[o-1];return n.startDTD(c,s,l),n.endDTD(),u.index+u[0].length}}return-1}function h(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return n.processingInstruction(a[1],a[2]),r+2}return-1}return-1}function m(){this.attributeNames={}}i.prototype=new Error,i.prototype.name=i.name,o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,a){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function p(t){if(t>O){var n=e.substring(O,t).replace(/&#?\w+;/g,o);_&&v(O),r.characters(n,0,t-O),O=t}}function v(t,n){for(;t>=g&&(n=b.exec(e));)y=n.index,g=y+n[0].length,_.lineNumber++;_.columnNumber=t-y+1}var y=0,g=0,b=/.*(?:\r\n?|\n)|.*$/g,_=r.locator,E=[{currentNSMap:t}],k={},O=0;for(;;){try{var S=e.indexOf("<",O);if(S<0){if(!e.substr(O).match(/^\s*$/)){var T=r.doc,R=T.createTextNode(e.substr(O));T.appendChild(R),r.currentElement=R}return}switch(S>O&&p(S),e.charAt(S+1)){case"/":var C=e.indexOf(">",S+3),N=e.substring(S+2,C),x=E.pop();C<0?(N=e.substring(S+2).replace(/[\s<].*/,""),a.error("end tag name: "+N+" is not complete:"+x.tagName),C=S+1+N.length):N.match(/\s</)&&(N=N.replace(/[\s<].*/,""),a.error("end tag name: "+N+" maybe not complete"),C=S+1+N.length);var P=x.localNSMap,w=x.tagName==N;if(w||x.tagName&&x.tagName.toLowerCase()==N.toLowerCase()){if(r.endElement(x.uri,x.localName,N),P)for(var A in P)r.endPrefixMapping(A);w||a.fatalError("end tag name: "+N+" is not match the current start tagName:"+x.tagName)}else E.push(x);C++;break;case"?":_&&v(S),C=h(e,S,r);break;case"!":_&&v(S),C=f(e,S,r,a);break;default:_&&v(S);var I=new m,j=E[E.length-1].currentNSMap,D=(C=s(e,S,I,j,o,a),I.length);if(!I.closed&&d(e,C,I.tagName,k)&&(I.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),_&&D){for(var L=c(_,{}),M=0;M<D;M++){var F=I[M];v(F.offset),F.locator=c(_,{})}r.locator=L,l(I,r,j)&&E.push(I),r.locator=_}else l(I,r,j)&&E.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?C++:C=u(e,C,I.tagName,o,r)}}catch(e){if(e instanceof i)throw e;a.error("element parse error: "+e),C=-1}C>O?O=C:p(Math.max(S,O)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},m.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=o,t.ParseError=i},j5dG:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return R})),n.d(t,"p",(function(){return C})),n.d(t,"o",(function(){return N})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return I}));var r,a=n("lSNA"),i=n.n(a),o=n("7EGn"),c=(n("rB9j"),n("Rm1S"),n("QWBl"),n("SYor"),n("OfRX")),s=n("vVa8"),l=n("9z3s"),u=n("1Unx"),d=n("I7q+"),p=n("k9xA"),f="default",h="trending",m="alternative",v="force_correction",y="force_no_correction",g="history",b="fuzzy",_="suggested_query",E="suggested_history",k="display_result",O="view_all",S=(r={},i()(r,l.a.Artist,"view_all_artists"),i()(r,l.a.Album,"view_all_albums"),i()(r,l.a.Track,"view_all_songs"),i()(r,l.a.Playlist,"view_all_playlists"),i()(r,l.a.Radio,"view_all_radios"),i()(r,l.a.Show,"view_all_shows"),i()(r,l.a.User,"view_all_users"),i()(r,l.a.Livestream,"view_all_livestreams"),i()(r,l.a.Channel,"view_all_channels"),i()(r,l.a.Episode,"view_all_episodes"),i()(r,p.b,"view_all_lyrics"),r),T="TAG",R="search",C="tags",N="searchTag";var x=[];function P(e,t,n,r,a,i){var l=c.b.call({method:"log_central.log",data:{BATCH:[{channel:"search_action",params:{action:a,method:i,context:r,query:e?e.trim().substring(0,80):"",suggested_query:t?t.trim().substring(0,80):"",search_version:Object(o.a)(s.a.getState(),"user.USER.ABTEST.search.option","default"),item:n}}]}});x.push(l)}function w(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"click_item";if(e&&""!==e){var c={song:"SNG_ID",album:"ALB_ID",artist:"ART_ID",playlist:"PLAYLIST_ID",radio:"RADIO_ID",show:"SHOW_ID",user:"USER_ID",channel:"id"},s={id:a?a[c[a.__TYPE__]]||a.id:null,rank:i,type:a?a.__TYPE__||a.type:"query"};P(e,t,s,n,o,r)}}function A(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"click_item";if((!e||""===e)&&n!==g&&n!==h){var o=s.a.getState();e=o&&o.searchSuggest&&o.searchSuggest.suggestedQueries&&o.searchSuggest.suggestedQueries.query||o.searchSuggest.suggestedContent&&o.searchSuggest.suggestedContent.query||""}P(e,t,{id:0,rank:a,type:"query"},n,i,r)}function I(e){if(e.pagecategory===d.CONTEXT_PAGE_SEARCH){var t,n=e.eventaction,r=e.item,a=e.pagename,i="string"!=typeof(t=n)?"":t.match(/click-play-/)?"play":t.match(/click-favorite-/)?"add_to_favorite":t.match(/click-lyrics-/)?"lyrics":t.match(/click-[a-z]+-search_page/)||t.match(/click-best-[a-z]+-search_page/)?"click_item":"";i&&P(a,"",r,function(e){return e.match(/best|top/)?"best_result":f}(n),i,u.a)}}},jEe0:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));n("M4XY");const r=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function a(){return Boolean(r&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)}function i(){return Boolean(r&&"loading"in HTMLImageElement.prototype)}},jJt0:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("ma9I"),n("q1tI")),h=n.n(f),m=(n("17x9"),n("iuhU")),v=n("X6oL"),y=n.n(v),g=n("eHHa"),b=n("0I9b"),_=n("Oj4X"),E=n("OWJi"),k=function(e){var t=e.isActive,n=e.size,r="24"===String(n)?"24":void 0;return t?h.a.createElement(_.a,{color:"primary",size:r}):h.a.createElement(E.a,{size:r})};k.defaultProps={isActive:!1};var O,S,T,R=k;function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var N=y()()((T=S=function(e){s()(n,e);var t=C(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isHover:!1},e._onMouseEnter=function(){e.setState({isHover:!0})},e._onMouseLeave=function(t){t.currentTarget.blur(),e.setState({isHover:!1})},e._onMouseClick=function(t){e.props.onFavoriteToggle(t),e._triggerTracking()},e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.isFavorite,n=e.presets,r={className:Object(m.a)("action-item-btn",{"action-force":n.favorite===b.b.force}),type:"button",onClick:this._onMouseClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,"aria-label":t?Object(g.a)("Retirer des Coups de cœur"):Object(g.a)("Ajouter aux Coups de cœur")},a={isActive:t,isHover:this.state.isHover};return h.a.createElement("button",r,h.a.createElement(R,a))}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.id,n=e.type,r=e.isFavorite,a=this.props.tracking.getTrackingData(),i=a.pagecategory||a.pagename;i&&!r&&this.props.tracking.trackEvent({eventaction:"click-favorite-".concat(i,"_").concat(n),event:"click",eventcategory:i,eventlabel:"favorite-".concat(i,"_").concat(n),item:{id:t,type:n,rank:a.index||0}})}}]),n}(f.Component),S.defaultProps={presets:b.a},O=T))||O;t.a=N},k9xA:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return y}));n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r,a,i,o=n("lSNA"),c=n.n(o),s=n("9z3s"),l=n("eHHa"),u=n("smSd");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p="top_result",f="lyrics",h=(r={},c()(r,s.a.Track,Object(l.a)("Titres")),c()(r,s.a.Artist,Object(l.a)("Artistes")),c()(r,s.a.Album,Object(l.a)("Albums")),c()(r,s.a.Playlist,Object(l.a)("Playlists")),c()(r,s.a.Radio,Object(l.c)("Mix","Mix",{count:2})),c()(r,s.a.Channel,Object(l.a)("Univers")),c()(r,s.a.Show,Object(l.a)("Podcasts")),c()(r,s.a.Livestream,Object(l.a)("Radios")),c()(r,s.a.User,Object(l.a)("Profils")),c()(r,s.a.Episode,Object(l.a)("generic_title_episodes_web")),c()(r,f,Object(l.a)("generic_title_lyricsmatches_web")),r),m=(a={},c()(a,s.a.Track,u.a.SearchResume),c()(a,s.a.Episode,u.a.TalkSearchResume),c()(a,f,u.a.LyricsSearchResume),a),v=(i={},c()(i,s.a.Track,u.a.Search),c()(i,s.a.Episode,u.a.TalkSearch),c()(i,f,u.a.LyricsSearch),i),y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(c()({},p,!0),h)},kMTa:function(e,t,n){"use strict";n("SuFq");var r,a,i,o=n("lwsE"),c=n.n(o),s=n("W8MJ"),l=n.n(s),u=n("PJYZ"),d=n.n(u),p=n("7W2i"),f=n.n(p),h=n("a1gu"),m=n.n(h),v=n("Nsbk"),y=n.n(v),g=(n("wLYn"),n("qePV"),n("R5XZ"),n("2B1R"),n("TeQF"),n("J30X"),n("17x9"),n("q1tI")),b=n.n(g),_=n("iuhU"),E=n("X6oL"),k=n.n(E),O=n("eHHa"),S=n("OCk3"),T=n("OfRX"),R=n("aRb4"),C=n("2Hu5"),N=n("HF1P"),x=n("9z3s"),P=n("5El0"),w=n("ihv3"),A=n("D7Xx"),I=n("0I9b"),j=n("ZZqR"),D=n("H2c4");function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var M=k()()((i=a=function(e){f()(n,e);var t=L(n);function n(e,r){var a;return c()(this,n),(a=t.call(this,e,r)).state={playing:a._getPlayingStatus(),isHover:!1,previewActive:!1},a._previewTimer=null,a._previewTimeout=500,a._naturalPreviewEnd=!1,a._updateOnAir=a._updateOnAir.bind(d()(a)),a._onNaturalPreviewEnd=a._onNaturalPreviewEnd.bind(d()(a)),a._onThumbnailClick=a._onThumbnailClick.bind(d()(a)),a._onPlay=a._onPlay.bind(d()(a)),a._onMouseEnter=a._onMouseEnter.bind(d()(a)),a._onMouseLeave=a._onMouseLeave.bind(d()(a)),a}return l()(n,[{key:"componentDidMount",value:function(){C.a.subscribe(C.a.player.finish,this._updateOnAir),C.a.subscribe(C.a.player.playing,this._updateOnAir),C.a.subscribe(C.a.player.finishPreview,this._onNaturalPreviewEnd),C.a.subscribe(C.a.thumbnail.togglePlay,this._onThumbnailClick)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({playing:this._getPlayingStatus(e)})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.id!==e.id||this.props.presets.preview!==e.presets.preview||this.state.playing!==t.playing||this.state.isHover!==t.isHover||this.state.previewActive!==t.previewActive||this.props.trackListIndex!==e.trackListIndex}},{key:"componentDidUpdate",value:function(e,t){this.props.presets.preview!==I.b.off&&t.previewActive!==this.state.previewActive&&this[this.state.previewActive?"_previewPlay":"_previewStop"](),this._updateOnAir()}},{key:"componentWillUnmount",value:function(){T.b.cancel(this._previewApiRef),C.a.unsubscribe(C.a.player.finish,this._updateOnAir),C.a.unsubscribe(C.a.player.playing,this._updateOnAir),C.a.unsubscribe(C.a.player.finishPreview,this._onNaturalPreviewEnd),C.a.unsubscribe(C.a.thumbnail.togglePlay,this._onThumbnailClick)}},{key:"render",value:function(){var e=this.state,t=e.previewActive,n=e.isHover,r=e.playing,a=this.props.presets,i=a.play,o=a.preview,c={className:Object(_.a)("action-item-btn",{"action-preview":t,"action-force":i===I.b.force,active:r}),type:"button","aria-label":i?Object(O.a)("Pause"):Object(O.a)("Play"),onMouseDown:this._togglePreview.bind(this,!0),onMouseUp:this._togglePreview.bind(this,!1),onMouseLeave:this._onMouseLeave,onMouseEnter:this._onMouseEnter,onClick:this._onPlay},s=b.a.createElement("button",c,b.a.createElement(j.a,{isHover:n,isActive:r}));return o===I.b.off||r?s:b.a.createElement(D.a,{text:Object(O.a)("Cliquer longuement pour écouter un extrait"),delay:700},s)}},{key:"_onPlay",value:function(e){if(this.props.presets.preview!==I.b.off){if(this._naturalPreviewEnd)return void(this._naturalPreviewEnd=!1);if(this.state.previewActive)return void e.stopPropagation()}e.stopPropagation(),this._play()}},{key:"_onMouseLeave",value:function(){this.setState({isHover:!1},this._togglePreview(!1))}},{key:"_onMouseEnter",value:function(){this.setState({isHover:!0})}},{key:"_onThumbnailClick",value:function(){var e=S.c.getContext();null!==e&&e.ID===this.props.id&&this._play()}},{key:"_onNaturalPreviewEnd",value:function(){this.props.presets.preview!==I.b.off&&this.state.previewActive&&this._updatePreviewState(!1,!0)}},{key:"_play",value:function(){var e=this.props,t=e.presets.preview,n=e.context,r=e.type,a=e.id,i=e.radio,o=e.trackList,c=e.trackListIndex;if(t!==I.b.force&&!Object(S.d)(S.c.getPlayerType())){if(this._shouldTogglePlayState())return w.b.intent(Object(A.a)(S.c)),S.c.control.togglePause(),void(S.c.isPlaying()||this._triggerTracking());if("queuelist"===(n.TYPE||n))return w.b.intent("play"),S.c.playTrackAtIndex(this.props.trackListIndex),void this._triggerTracking();var s={type:r,id:a,radio:i,context:"string"==typeof n?{ID:a,TYPE:n}:n,data:o};"number"==typeof c&&(s.index=c),o.length>0&&(s.data=o),w.b.intent("play"),S.c.play(s),this._triggerTracking()}}},{key:"_shouldTogglePlayState",value:function(){var e=this.props,t=e.context,n=e.trackListIndex,r=e.id,a=t.TYPE||t;if("queuelist"===a)return Number(n)===S.c.getTrackListIndex();var i=S.c.getContext();return!!i&&(N.a.get("log_contexts")[i.TYPE]===N.a.get("log_contexts")[a]&&String(i.ID)===String(r))}},{key:"_getPlayingStatus",value:function(e){if(e=e||this.props,S.c.isPlaying()){var t=S.c.getContext(),n=t?t.ID:null,r=S.c.getCurrentSong("MEDIA_ID"),a=e.type===x.a.User?x.a.Flow:e.type;if(String(e.id)===String(r)||String(e.id)===String(n))return e.presets.isNotAnimatedFromTrackListIndex||e.type!==x.a.Track&&e.type!==x.a.Episode||"number"!=typeof e.trackListIndex?N.a.get("log_contexts")[t.TYPE]===a&&e.radio===S.c.isRadio():e.trackListIndex===S.c.getIndexSong()}return!1}},{key:"_updateOnAir",value:function(){var e=this._getPlayingStatus();this.setState({playing:e}),this.props.onChange&&this.props.onChange(e)}},{key:"_togglePreview",value:function(e){var t=this;this.props.presets.preview===I.b.off||e&&this.state.playing||(clearTimeout(this._previewTimer),e&&this.state.previewActive||Object(S.d)(S.c.getPlayerType())||(this._previewTimer=setTimeout((function(){t._updatePreviewState(e)}),this._previewTimeout)))}},{key:"_updatePreviewState",value:function(e,t){var n=this;C.a.trigger(C.a.tooltip.hide),this.setState({previewActive:e},(function(){n._naturalPreviewEnd=t}))}},{key:"_previewPlay",value:function(){var e=this,t=this.props,n=t.type,r=t.id,a=P.a.getPreviewMethod(n,r);this._previewApiRef=T.b.call({method:a.method,data:a.data,success:function(t){var n=e._extractPreviewData(t.data),r=Number(n.GAIN),a=((n||{}).MEDIA||[]).filter((function(e){return"preview"===e.TYPE})).map((function(e){return Array.isArray(e.HREF)?e.HREF[0]:e.HREF})).shift();a?S.c.trigger("audioPlayer_startPreview",[a,r]):e._updatePreviewState(!1,!0)},error:function(){e._updatePreviewState(!1,!0)}})}},{key:"_previewStop",value:function(){T.b.cancel(this._previewApiRef),S.c.trigger("audioPlayer_endPreview")}},{key:"_extractPreviewData",value:function(e){if(!Array.isArray(e)||!e.length)return null;if(!(e[0].MEDIA||[]).filter((function(e){return"preview"===e.TYPE})).length)return null;var t=e[0];if(Number(R.a.checkSongAvailable(t))!==Number(R.a.READABLE)){if(!t.FALLBACK)return null;t=t.FALLBACK}return t}},{key:"_triggerTracking",value:function(){var e=this.props,t=e.id,n=e.context,r=e.type,a=S.c.getContext();if(this.props.tracking&&a&&(a.ID!==t||!S.c.isPaused())){var i=this.props.tracking.getTrackingData(),o=i.pagecategory||i.pagename;if(o){var c=n.TYPE||n;this.props.tracking.trackEvent({eventaction:"click-play-".concat(c),event:"click",eventcategory:o,eventlabel:"play-".concat(c),item:{id:t,type:r,rank:i.index||0}})}}}}]),n}(g.Component),a.defaultProps={id:null,radio:!1,context:"",trackList:[],trackListIndex:null,presets:I.a,onChange:void 0},r=i))||r;t.a=M},kUkq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"pause"},e),r||(r=c.a.createElement("path",{d:"M2.495 0h2.01C4.778 0 5 .224 5 .5v11a.5.5 0 0 1-.495.5h-2.01A.498.498 0 0 1 2 11.5V.5a.5.5 0 0 1 .495-.5zM7 .5a.5.5 0 0 1 .495-.5h2.01c.273 0 .495.224.495.5v11a.5.5 0 0 1-.495.5h-2.01A.498.498 0 0 1 7 11.5V.5z"})))}},"kVK+":function(e,t){t.read=function(e,t,n,r,a){var i,o,c=8*a-r-1,s=(1<<c)-1,l=s>>1,u=-7,d=n?a-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=c;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===s)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),i-=l}return(f?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,c,s,l=8*i-a-1,u=(1<<l)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+d>=1?p/s:p*Math.pow(2,1-d))*s>=2&&(o++,s/=2),o+d>=u?(c=0,o=u):o+d>=1?(c=(t*s-1)*Math.pow(2,a),o+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+f]=255&c,f+=h,c/=256,a-=8);for(o=o<<a|c,l+=a;l>0;e[n+f]=255&o,f+=h,o/=256,l-=8);e[n+f-h]|=128*m}},lE2N:function(e,t,n){"use strict";var r=function(e){return e},a=n("jLvU");t.a=function(e,t){return e&&e.length?Object(a.a)(e,r(t,2)):[]}},m3Jq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("sh+/");const a=Object(r.a)({displayName:"UserPlusIcon",paths:{16:'<path d="M5.5 4.004a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM3 7h5a2 2 0 0 1 2 2v1H1V9a2 2 0 0 1 2-2zm0-1a3 3 0 0 0-3 3v2h11V9a3 3 0 0 0-3-3H3zm10 9v-2h-2v-1h2v-2h1v2h2v1h-2v2h-1z"></path>',24:'<path d="M11.5 5.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0zm1 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zM3 14v2h12v-2a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3zm-1 0a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v3H2v-3zm16 4v-3h1v3h3v1h-3v3h-1v-3h-3v-1h3z"></path>'}})},m7bq:function(e){e.exports=JSON.parse('{"cells":["Play","EpisodeHeard","EpisodeTitle","Explicit","EpisodeInformation","Duration"]}')},mKhJ:function(e,t,n){e.exports={header:"SZAFP"}},"mQk+":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("/MKj"),o=n("iuhU"),c=n("eHHa"),s=n("H2c4"),l=n("uNVz");t.a=Object(i.c)((function(e,t){var n=e.cache,r=t.id,a=t.type;return{isDownloaded:Object(l.d)(n,{id:r,type:a}),isPersisted:Object(l.i)(n,{id:r,type:a})}}))((function(e){var t=e.className,n=void 0===t?"":t,r=e.isDownloaded;if(!e.isPersisted)return null;var i=Object(o.a)("download-indicator",n,{"is-completed":r}),l=r?Object(c.a)("Téléchargé"):Object(c.a)("desktopapp_title_queued_web");return a.a.createElement(s.a,{text:l},a.a.createElement("span",{className:i}))}))},n4O7:function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},nXLv:function(e){e.exports=JSON.parse('{"label":true,"next":true,"pause":true,"play":true,"prev":true,"timer":true,"title":{"id":"ART_ID","url":"/artist/"}}')},nj0A:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"force","preview":"off","favorite":"off","contextMenu":"off","dislike":"off"}}')},o4Ch:function(e){e.exports=JSON.parse('{"cells":["Play","EpisodeHeard","EpisodeTitle","Explicit","EpisodeInformation","Share","Duration","EpisodeReleaseDate"],"cover":"episode","sorterStorageKey":"queuelist"}')},o9cr:function(e,t,n){"use strict";var r,a,i,o,c;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),function(e){e.DOWNLOAD="download",e.FAVORITE="favorite",e.PLAY="play",e.SHUFFLE="shuffle",e.FOLLOW="follow"}(r||(r={})),function(e){e.BLOCK="block",e.EMPTY="",e.LINK="link"}(a||(a={})),function(e){e.DEFAULT="default",e.PRIMARY="primary"}(i||(i={})),function(e){e.FULL="full",e.NONE="none",e.STANDARD="standard"}(o||(o={})),function(e){e.ACTIVE="active",e.DEFAULT="default",e.HOVER="hover",e.RESUME="resume"}(c||(c={}))},oA8K:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("17x9"),n("q1tI")),h=n.n(f);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var v=function(e){s()(n,e);var t=m(n);function n(){var e;return a()(this,n),(e=t.call(this))._canvasRef=h.a.createRef(),e}return o()(n,[{key:"componentDidMount",value:function(){var e=this,t=this._canvasRef.current;t.height=this.props.height,t.width=this.props.width;var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var r=t.getContext("2d"),a=e.props.width*(n.height/e.props.height),i=e.props.height*(n.width/e.props.width),o=Math.max(0,Math.round(n.width/2-a/2)),c=Math.max(0,Math.round(n.height/2-i/2)),s=n.width-2*o,l=n.height-2*c,u=e.props.width,d=e.props.height;r.drawImage(n,o,c,s,l,0,0,u,d),r.globalAlpha=.5;for(var p=-e.props.blur;p<=e.props.blur;p+=2)for(var f=-e.props.blur;f<=e.props.blur;f+=2)r.drawImage(t,f,p),f>=0&&p>=0&&r.drawImage(t,-(f-2.5),-(p-2.5));r.globalAlpha=1},n.src=this.props.src,n.alt=this.props.alt}},{key:"render",value:function(){return h.a.createElement("canvas",{className:this.props.className,ref:this._canvasRef})}}]),n}(f.Component);v.defaultProps={blur:3,className:"",alt:""},t.a=v},oZVF:function(e,t,n){"use strict";function r(){return window.matchMedia("\n\t\tonly screen and (min-resolution: 192dpi),\n\t\tonly screen and (min-resolution: 2dppx),\n\t\tonly screen and (min-resolution: 75.6dpcm),\n\t\tonly screen and (-webkit-min-device-pixel-ratio: 2)\n\t").matches}n.d(t,"a",(function(){return r}))},odOL:function(e,t,n){(function(e){(function(t){"use strict";var r=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){var e=r.WebSocket;if(void 0===e)try{e=n("n4O7")}catch(e){throw new Error('You must install the "ws" package to use Strophe in nodejs.')}return e}(),v=function(){var e=r.DOMParser;if(void 0===e)try{e=n("FFbo").DOMParser}catch(e){throw new Error('You must install the "xmldom" package to use Strophe in nodejs.')}return e}();function y(){if("undefined"==typeof document)try{return(new(0,n("FFbo").DOMImplementation)).createDocument("jabber:client","strophe",null)}catch(e){throw new Error('You must install the "xmldom" package to use Strophe in nodejs.')}if(void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10){var e=function(){for(var e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}();return e.appendChild(e.createElement("strophe")),e}return document.implementation.createDocument("jabber:client","strophe",null)}var g=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},b=function(e){if("string"!=typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},_=function(e,t,n,r,a,i){return g((o=g(g(t,e),g(r,i)))<<(c=a)|o>>>32-c,n);var o,c},E=function(e,t,n,r,a,i,o){return _(t&n|~t&r,e,t,a,i,o)},k=function(e,t,n,r,a,i,o){return _(t&r|n&~r,e,t,a,i,o)},O=function(e,t,n,r,a,i,o){return _(t^n^r,e,t,a,i,o)},S=function(e,t,n,r,a,i,o){return _(n^(t|~r),e,t,a,i,o)},T=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,r,a,i,o=1732584193,c=-271733879,s=-1732584194,l=271733878,u=0;u<e.length;u+=16)n=o,r=c,a=s,i=l,o=E(o,c,s,l,e[u+0],7,-680876936),l=E(l,o,c,s,e[u+1],12,-389564586),s=E(s,l,o,c,e[u+2],17,606105819),c=E(c,s,l,o,e[u+3],22,-1044525330),o=E(o,c,s,l,e[u+4],7,-176418897),l=E(l,o,c,s,e[u+5],12,1200080426),s=E(s,l,o,c,e[u+6],17,-1473231341),c=E(c,s,l,o,e[u+7],22,-45705983),o=E(o,c,s,l,e[u+8],7,1770035416),l=E(l,o,c,s,e[u+9],12,-1958414417),s=E(s,l,o,c,e[u+10],17,-42063),c=E(c,s,l,o,e[u+11],22,-1990404162),o=E(o,c,s,l,e[u+12],7,1804603682),l=E(l,o,c,s,e[u+13],12,-40341101),s=E(s,l,o,c,e[u+14],17,-1502002290),c=E(c,s,l,o,e[u+15],22,1236535329),o=k(o,c,s,l,e[u+1],5,-165796510),l=k(l,o,c,s,e[u+6],9,-1069501632),s=k(s,l,o,c,e[u+11],14,643717713),c=k(c,s,l,o,e[u+0],20,-373897302),o=k(o,c,s,l,e[u+5],5,-701558691),l=k(l,o,c,s,e[u+10],9,38016083),s=k(s,l,o,c,e[u+15],14,-660478335),c=k(c,s,l,o,e[u+4],20,-405537848),o=k(o,c,s,l,e[u+9],5,568446438),l=k(l,o,c,s,e[u+14],9,-1019803690),s=k(s,l,o,c,e[u+3],14,-187363961),c=k(c,s,l,o,e[u+8],20,1163531501),o=k(o,c,s,l,e[u+13],5,-1444681467),l=k(l,o,c,s,e[u+2],9,-51403784),s=k(s,l,o,c,e[u+7],14,1735328473),c=k(c,s,l,o,e[u+12],20,-1926607734),o=O(o,c,s,l,e[u+5],4,-378558),l=O(l,o,c,s,e[u+8],11,-2022574463),s=O(s,l,o,c,e[u+11],16,1839030562),c=O(c,s,l,o,e[u+14],23,-35309556),o=O(o,c,s,l,e[u+1],4,-1530992060),l=O(l,o,c,s,e[u+4],11,1272893353),s=O(s,l,o,c,e[u+7],16,-155497632),c=O(c,s,l,o,e[u+10],23,-1094730640),o=O(o,c,s,l,e[u+13],4,681279174),l=O(l,o,c,s,e[u+0],11,-358537222),s=O(s,l,o,c,e[u+3],16,-722521979),c=O(c,s,l,o,e[u+6],23,76029189),o=O(o,c,s,l,e[u+9],4,-640364487),l=O(l,o,c,s,e[u+12],11,-421815835),s=O(s,l,o,c,e[u+15],16,530742520),c=O(c,s,l,o,e[u+2],23,-995338651),o=S(o,c,s,l,e[u+0],6,-198630844),l=S(l,o,c,s,e[u+7],10,1126891415),s=S(s,l,o,c,e[u+14],15,-1416354905),c=S(c,s,l,o,e[u+5],21,-57434055),o=S(o,c,s,l,e[u+12],6,1700485571),l=S(l,o,c,s,e[u+3],10,-1894986606),s=S(s,l,o,c,e[u+10],15,-1051523),c=S(c,s,l,o,e[u+1],21,-2054922799),o=S(o,c,s,l,e[u+8],6,1873313359),l=S(l,o,c,s,e[u+15],10,-30611744),s=S(s,l,o,c,e[u+6],15,-1560198380),c=S(c,s,l,o,e[u+13],21,1309151649),o=S(o,c,s,l,e[u+4],6,-145523070),l=S(l,o,c,s,e[u+11],10,-1120210379),s=S(s,l,o,c,e[u+2],15,718787259),c=S(c,s,l,o,e[u+9],21,-343485551),o=g(o,n),c=g(c,r),s=g(s,a),l=g(l,i);return[o,c,s,l]},R={hexdigest:function(e){return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t}(T(b(e),8*e.length))},hash:function(e){return function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(T(b(e),8*e.length))}},C=function(){function e(t,n,r){i(this,e),this.mechname=t,this.isClientFirst=n,this.priority=r}return c(e,[{key:"test",value:function(){return!0}},{key:"onStart",value:function(e){this._connection=e}},{key:"onChallenge",value:function(e,t){throw new Error("You should implement challenge handling!")}},{key:"clientChallenge",value:function(e){if(!this.isClientFirst)throw new Error("clientChallenge should not be called if isClientFirst is false!");return this.onChallenge(e)}},{key:"onFailure",value:function(){this._connection=null}},{key:"onSuccess",value:function(){this._connection=null}}]),e}(),N=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ANONYMOUS",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"test",value:function(e){return null===e.authcid}}]),n}(C),x=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EXTERNAL",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"onChallenge",value:function(e){return e.authcid===e.authzid?"":e.authzid}}]),n}(C),P=function(e){var t,n,r="",a=e.length;for(t=0;t<a;t++)(n=e.charCodeAt(t))>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},w=function(e){for(var t in e=e||{})if(Object.prototype.hasOwnProperty.call(e,t)){var n="",r="",i="",o=e[t],c="object"===a(o),s=escape(unescape(c?o.value:o));c&&(n=o.expires?";expires="+o.expires:"",r=o.domain?";domain="+o.domain:"",i=o.path?";path="+o.path:""),document.cookie=t+"="+s+n+r+i}},A=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OAUTHBEARER",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"test",value:function(e){return null!==e.pass}},{key:"onChallenge",value:function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="",t+="auth=Bearer ",t+=e.pass,t+="",P(t+="")}}]),n}(C),I=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PLAIN",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"test",value:function(e){return null!==e.authcid}},{key:"onChallenge",value:function(e){var t=e.authcid,n=e.authzid,r=e.domain,a=e.pass;if(!r)throw new Error("SASLPlain onChallenge: domain is not defined!");var i=n!=="".concat(t,"@").concat(r)?n:"";return i+="\0",i+=t,i+="\0",P(i+=a)}}]),n}(C);function j(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,a,i,o,c,s,l,u=new Array(80),d=1732584193,p=-271733879,f=-1732584194,h=271733878,m=-1009589776;for(n=0;n<e.length;n+=16){for(i=d,o=p,c=f,s=h,l=m,r=0;r<80;r++)u[r]=r<16?e[n+r]:B(u[r-3]^u[r-8]^u[r-14]^u[r-16],1),a=F(F(B(d,5),D(r,p,f,h)),F(F(m,u[r]),L(r))),m=h,h=f,f=B(p,30),p=d,d=a;d=F(d,i),p=F(p,o),f=F(f,c),h=F(h,s),m=F(m,l)}return[d,p,f,h,m]}function D(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function L(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function M(e,t){var n=H(e);n.length>16&&(n=j(n,8*e.length));for(var r=new Array(16),a=new Array(16),i=0;i<16;i++)r[i]=909522486^n[i],a[i]=1549556828^n[i];var o=j(r.concat(H(t)),512+8*t.length);return j(a.concat(o),672)}function F(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function B(e,t){return e<<t|e>>>32-t}function H(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function U(e){for(var t,n,r="",a=0;a<4*e.length;a+=3)for(t=(e[a>>2]>>8*(3-a%4)&255)<<16|(e[a+1>>2]>>8*(3-(a+1)%4)&255)<<8|e[a+2>>2]>>8*(3-(a+2)%4)&255,n=0;n<4;n++)8*a+6*n>32*e.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return r}function z(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}var V={b64_hmac_sha1:function(e,t){return U(M(e,t))},b64_sha1:function(e){return U(j(H(e),8*e.length))},binb2str:z,core_hmac_sha1:M,str_hmac_sha1:function(e,t){return z(M(e,t))},str_sha1:function(e){return z(j(H(e),8*e.length))}},q=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SCRAM-SHA-1",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"test",value:function(e){return null!==e.authcid}},{key:"onChallenge",value:function(e,t){for(var n,r,a,i,o,c,s,l,u="c=biws,",d="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),p=e._sasl_data.cnonce,f=/([a-z]+)=([^,]+)(,|$)/;t.match(f);){var h=t.match(f);switch(t=t.replace(h[0],""),h[1]){case"r":n=h[2];break;case"s":r=h[2];break;case"i":a=h[2]}}if(n.substr(0,p.length)!==p)return e._sasl_data={},e._sasl_failure_cb();d+=u+="r="+n,r=atob(r),r+="\0\0\0";var m=P(e.pass);for(i=c=V.core_hmac_sha1(m,r),s=1;s<a;s++){for(o=V.core_hmac_sha1(m,V.binb2str(c)),l=0;l<5;l++)i[l]^=o[l];c=o}i=V.binb2str(i);var v=V.core_hmac_sha1(i,"Client Key"),y=V.str_hmac_sha1(i,"Server Key"),g=V.core_hmac_sha1(V.str_sha1(V.binb2str(v)),d);for(e._sasl_data["server-signature"]=V.b64_hmac_sha1(y,d),l=0;l<5;l++)v[l]^=g[l];return u+=",p="+btoa(V.binb2str(v))}},{key:"clientChallenge",value:function(e,t){var n=t||R.hexdigest(""+1234567890*Math.random()),r="n="+P(e.authcid);return r+=",r=",r+=n,e._sasl_data.cnonce=n,e._sasl_data["client-first-message-bare"]=r,r="n,,"+r}}]),n}(C),G=function(e){s(n,e);var t=p(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X-OAUTH2",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return i(this,n),t.call(this,e,r,a)}return c(n,[{key:"test",value:function(e){return null!==e.pass}},{key:"onChallenge",value:function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,P(t)}}]),n}(C);var Y={atob:function(e){if((e=(e="".concat(e)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(e=e.replace(/==?$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return null;for(var t="",n=0,r=0,a=0;a<e.length;a++)n<<=6,n|=(i=e[a],/[A-Z]/.test(i)?i.charCodeAt(0)-"A".charCodeAt(0):/[a-z]/.test(i)?i.charCodeAt(0)-"a".charCodeAt(0)+26:/[0-9]/.test(i)?i.charCodeAt(0)-"0".charCodeAt(0)+52:"+"===i?62:"/"===i?63:void 0),24===(r+=6)&&(t+=String.fromCharCode((16711680&n)>>16),t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n),n=r=0);var i;return 12===r?(n>>=4,t+=String.fromCharCode(n)):18===r&&(n>>=2,t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n)),t},btoa:function(e){var t;for(e="".concat(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;var n,r="";for(t=0;t<e.length;t+=3){var a=[void 0,void 0,void 0,void 0];a[0]=e.charCodeAt(t)>>2,a[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(a[1]|=e.charCodeAt(t+1)>>4,a[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(a[2]|=e.charCodeAt(t+2)>>6,a[3]=63&e.charCodeAt(t+2));for(var i=0;i<a.length;i++)void 0===a[i]?r+="=":r+=(n=a[i])<26?String.fromCharCode(n+"A".charCodeAt(0)):n<52?String.fromCharCode(n-26+"a".charCodeAt(0)):n<62?String.fromCharCode(n-52+"0".charCodeAt(0)):62===n?"+":63===n?"/":void 0}return r}};function W(e,t){return new X.Builder(e,t)}function Q(e){return new X.Builder("message",e)}function K(e){return new X.Builder("iq",e)}function J(e){return new X.Builder("presence",e)}var X={VERSION:"1.4.2",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<X.XHTML.tags.length;t++)if(e===X.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==X.XHTML.attributes[e]&&X.XHTML.attributes[e].length>0)for(var n=0;n<X.XHTML.attributes[e].length;n++)if(t===X.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<X.XHTML.css.length;t++)if(e===X.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11,ATTACHFAIL:12},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){X.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];a.nodeType!==X.ElementType.NORMAL||t&&!this.isTagEqual(a,t)||n(a)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,xmlGenerator:function(){return X._xmlGenerator||(X._xmlGenerator=y()),X._xmlGenerator},xmlElement:function(e){if(!e)return null;for(var t=X.xmlGenerator().createElement(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"==typeof r||"number"==typeof r)t.appendChild(X.xmlTextNode(r));else if("object"===a(r)&&"function"==typeof r.sort)for(var i=0;i<r.length;i++){var o=r[i];"object"===a(o)&&"function"==typeof o.sort&&void 0!==o[1]&&null!==o[1]&&t.setAttribute(o[0],o[1])}else if("object"===a(r))for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]&&null!==r[c]&&t.setAttribute(c,r[c])}return t},xmlescape:function(e){return e=(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return e=(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return X.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return v?t=(new v).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===X.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===X.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return X.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===X.ElementType.NORMAL){t=X.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(X.copyElement(e.childNodes[r]))}else e.nodeType===X.ElementType.TEXT&&(t=X.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===X.ElementType.NORMAL){var n=e.nodeName.toLowerCase();if(X.XHTML.validTag(n))try{t=X.xmlElement(n);for(var r=0;r<X.XHTML.attributes[n].length;r++){var i=X.XHTML.attributes[n][r],o=e.getAttribute(i);if(null!=o&&""!==o&&!1!==o&&0!==o)if("style"===i&&"object"===a(o)&&void 0!==o.cssText&&(o=o.cssText),"style"===i){for(var c=[],s=o.split(";"),l=0;l<s.length;l++){var u=s[l].split(":"),d=u[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(X.XHTML.validCSS(d)){var p=u[1].replace(/^\s*/,"").replace(/\s*$/,"");c.push(d+": "+p)}}c.length>0&&(o=c.join("; "),t.setAttribute(i,o))}else t.setAttribute(i,o)}for(var f=0;f<e.childNodes.length;f++)t.appendChild(X.createHtml(e.childNodes[f]))}catch(e){t=X.xmlTextNode("")}else{t=X.xmlGenerator().createDocumentFragment();for(var h=0;h<e.childNodes.length;h++)t.appendChild(X.createHtml(e.childNodes[h]))}}else if(e.nodeType===X.ElementType.FRAGMENT){t=X.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)t.appendChild(X.createHtml(e.childNodes[m]))}else e.nodeType===X.ElementType.TEXT&&(t=X.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=X.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&X.fatal(e.stack),e.sourceURL?X.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?X.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):X.fatal("error: "+e.message)},log:function(e,t){var n;e===this.LogLevel.FATAL&&(null===(n=console)||void 0===n||n.error(t))},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=f(Array(e.attributes.length).keys()).map((function(t){return e.attributes[t].nodeName}));t.sort();var n=t.reduce((function(t,n){return"".concat(t," ").concat(n,'="').concat(X.xmlescape(e.attributes.getNamedItem(n).value),'"')}),"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];switch(a.nodeType){case X.ElementType.NORMAL:n+=X.serialize(a);break;case X.ElementType.TEXT:n+=X.xmlescape(a.nodeValue);break;case X.ElementType.CDATA:n+="<![CDATA["+a.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){X._connectionPlugins[e]=t}};X.Builder=function(){function e(t,n){i(this,e),"presence"!==t&&"message"!==t&&"iq"!==t||(n&&!n.xmlns?n.xmlns=X.NS.CLIENT:n||(n={xmlns:X.NS.CLIENT})),this.nodeTree=X.xmlElement(t,n),this.node=this.nodeTree}return c(e,[{key:"tree",value:function(){return this.nodeTree}},{key:"toString",value:function(){return X.serialize(this.nodeTree)}},{key:"up",value:function(){return this.node=this.node.parentNode,this}},{key:"root",value:function(){return this.node=this.nodeTree,this}},{key:"attrs",value:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this}},{key:"c",value:function(e,t,n){var r=X.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this}},{key:"cnode",value:function(e){var t,n=X.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var r=t?n.importNode(e,!0):X.copyElement(e);return this.node.appendChild(r),this.node=r,this}},{key:"t",value:function(e){var t=X.xmlTextNode(e);return this.node.appendChild(t),this}},{key:"h",value:function(e){var t=X.xmlGenerator().createElement("body");t.innerHTML=e;for(var n=X.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}}]),e}(),X.Handler=function(e,t,n,r,a,i,o){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=a,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(X.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=i?X.getBareJidFromJid(i):null:this.from=i,this.user=!0},X.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(X.forEachChild(e,null,(function(e){t.getNamespace(e)===t.ns&&(n=!0)})),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=X.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!X.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw X._handleError(e),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},X.TimedHandler=function(){function e(t,n){i(this,e),this.period=t,this.handler=n,this.lastCalled=(new Date).getTime(),this.user=!0}return c(e,[{key:"run",value:function(){return this.lastCalled=(new Date).getTime(),this.handler()}},{key:"reset",value:function(){this.lastCalled=(new Date).getTime()}},{key:"toString",value:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}}]),e}(),X.Connection=function(){function e(t,n){var r=this;for(var a in i(this,e),this.service=t,this.options=n||{},this.setProtocol(),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_bind=!1,this.do_session=!1,this.mechanisms={},this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout((function(){return r._onIdle()}),100),w(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),X._connectionPlugins)if(Object.prototype.hasOwnProperty.call(X._connectionPlugins,a)){var o=function(){};o.prototype=X._connectionPlugins[a],this[a]=new o,this[a].init(this)}}return c(e,[{key:"setProtocol",value:function(){var e=this.options.protocol||"";this.options.worker?this._proto=new X.WorkerWebsocket(this):0===this.service.indexOf("ws:")||0===this.service.indexOf("wss:")||0===e.indexOf("ws")?this._proto=new X.Websocket(this):this._proto=new X.Bosh(this)}},{key:"reset",value:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"getUniqueId",value:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return"string"==typeof e||"number"==typeof e?t+":"+e:t+""}},{key:"addProtocolErrorHandler",value:function(e,t,n){this.protocolErrorHandlers[e][t]=n}},{key:"connect",value:function(e,t,n,r,a,i,o){this.jid=e,this.authzid=X.getBareJidFromJid(this.jid),this.authcid=o||X.getNodeFromJid(this.jid),this.pass=t,this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=X.getDomainFromJid(this.jid),this._changeConnectStatus(X.Status.CONNECTING,null),this._proto._connect(r,a,i)}},{key:"attach",value:function(e,t,n,r,a,i,o){if(this._proto._attach)return this._proto._attach(e,t,n,r,a,i,o);var c=new Error('The "attach" method is not available for your connection protocol');throw c.name="StropheSessionError",c}},{key:"restore",value:function(e,t,n,r,a){if(!this._sessionCachingSupported()){var i=new Error('The "restore" method can only be used with a BOSH connection.');throw i.name="StropheSessionError",i}this._proto._restore(e,t,n,r,a)}},{key:"_sessionCachingSupported",value:function(){if(this._proto instanceof X.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1}},{key:"xmlInput",value:function(e){}},{key:"xmlOutput",value:function(e){}},{key:"rawInput",value:function(e){}},{key:"rawOutput",value:function(e){}},{key:"nextValidRid",value:function(e){}},{key:"send",value:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}}},{key:"flush",value:function(){clearTimeout(this._idleTimeout),this._onIdle()}},{key:"sendPresence",value:function(e,t,n,r){var a=this,i=null;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendPresence"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof n){var c=this.addHandler((function(e){i&&a.deleteTimedHandler(i),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)}),null,"presence",null,o);r&&(i=this.addTimedHandler(r,(function(){return a.deleteHandler(c),n&&n(null),!1})))}return this.send(e),o}},{key:"sendIQ",value:function(e,t,n,r){var a=this,i=null;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendIQ"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof n){var c=this.addHandler((function(e){i&&a.deleteTimedHandler(i);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var o=new Error("Got bad IQ type of ".concat(r));throw o.name="StropheError",o}n&&n(e)}}),null,"iq",["error","result"],o);r&&(i=this.addTimedHandler(r,(function(){return a.deleteHandler(c),n&&n(null),!1})))}return this.send(e),o}},{key:"_queueData",value:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)}},{key:"_sendRestart",value:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout((function(){return e._onIdle()}),100)}},{key:"addTimedHandler",value:function(e,t){var n=new X.TimedHandler(e,t);return this.addTimeds.push(n),n}},{key:"deleteTimedHandler",value:function(e){this.removeTimeds.push(e)}},{key:"addHandler",value:function(e,t,n,r,a,i,o){var c=new X.Handler(e,t,n,r,a,i,o);return this.addHandlers.push(c),c}},{key:"deleteHandler",value:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)}},{key:"registerSASLMechanisms",value:function(e){var t=this;this.mechanisms={},(e=e||[X.SASLAnonymous,X.SASLExternal,X.SASLOAuthBearer,X.SASLXOAuth2,X.SASLPlain,X.SASLSHA1]).forEach((function(e){return t.registerSASLMechanism(e)}))}},{key:"registerSASLMechanism",value:function(e){var t=new e;this.mechanisms[t.mechname]=t}},{key:"disconnect",value:function(e){if(this._changeConnectStatus(X.Status.DISCONNECTING,e),e?X.warn("Disconnect was called because: "+e):X.info("Disconnect was called"),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=J({xmlns:X.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else X.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()}},{key:"_changeConnectStatus",value:function(e,t,n){for(var r in X._connectionPlugins)if(Object.prototype.hasOwnProperty.call(X._connectionPlugins,r)){var a=this[r];if(a.statusChanged)try{a.statusChanged(e,t)}catch(e){X.error("".concat(r," plugin caused an exception changing status: ").concat(e))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(e){X._handleError(e),X.error("User connection callback caused an exception: ".concat(e))}}},{key:"_doDisconnect",value:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),X.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(X.Status.DISCONNECTED,e),this.connected=!1}},{key:"_dataRecv",value:function(e,t){var n=this,r=this._proto._reqToData(e);if(null!==r){for(this.xmlInput!==X.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==X.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(X.serialize(r)));this.removeHandlers.length>0;){var a=this.removeHandlers.pop(),i=this.handlers.indexOf(a);i>=0&&this.handlers.splice(i,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var o=r.getAttribute("type");if(null!==o&&"terminate"===o){if(this.disconnecting)return;var c=r.getAttribute("condition"),s=r.getElementsByTagName("conflict");return null!==c?("remote-stream-error"===c&&s.length>0&&(c="conflict"),this._changeConnectStatus(X.Status.CONNFAIL,c)):this._changeConnectStatus(X.Status.CONNFAIL,X.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(c)}X.forEachChild(r,null,(function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var a=t[r];try{(!a.isMatch(e)||!n.authenticated&&a.user||a.run(e))&&n.handlers.push(a)}catch(e){X.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}}))}}}},{key:"_connect_cb",value:function(e,t,n){var r,a=this;X.debug("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(e){if(e.name!==X.ErrorCondition.BAD_FORMAT)throw e;this._changeConnectStatus(X.Status.CONNFAIL,X.ErrorCondition.BAD_FORMAT),this._doDisconnect(X.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==X.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==X.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(X.serialize(r))),this._proto._connect_cb(r)!==X.Status.CONNFAIL))if(r.getElementsByTagNameNS?r.getElementsByTagNameNS(X.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0){var i=Array.from(r.getElementsByTagName("mechanism")).map((function(e){return a.mechanisms[e.textContent]})).filter((function(e){return e}));0!==i.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)}},{key:"sortMechanismsByPriority",value:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].priority>e[n].priority&&(n=r);if(n!==t){var a=e[t];e[t]=e[n],e[n]=a}}return e}},{key:"authenticate",value:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()}},{key:"_attemptSASLAuth",value:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=e[n],this._sasl_mechanism.onStart(this);var r=W("auth",{xmlns:X.NS.SASL,mechanism:this._sasl_mechanism.mechname});if(this._sasl_mechanism.isClientFirst){var a=this._sasl_mechanism.clientChallenge(this);r.t(Y.btoa(a))}this.send(r.tree()),t=!0;break}return t}},{key:"_sasl_challenge_cb",value:function(e){var t=Y.atob(X.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=W("response",{xmlns:X.NS.SASL});return""!==n&&r.t(Y.btoa(n)),this.send(r.tree()),!0}},{key:"_attemptLegacyAuth",value:function(){null===X.getNodeFromJid(this.jid)?(this._changeConnectStatus(X.Status.CONNFAIL,X.ErrorCondition.MISSING_JID_NODE),this.disconnect(X.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(X.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(K({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:X.NS.AUTH}).c("username",{}).t(X.getNodeFromJid(this.jid)).tree()))}},{key:"_onLegacyAuthIQResult",value:function(e){var t=K({type:"set",id:"_auth_2"}).c("query",{xmlns:X.NS.AUTH}).c("username",{}).t(X.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return X.getResourceFromJid(this.jid)||(this.jid=X.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(X.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1}},{key:"_sasl_success_cb",value:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=Y.atob(X.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}X.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var a=[],i=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return a.push(this._addSysHandler((function(e){return i(a,e)}),null,"stream:features",null,null)),a.push(this._addSysHandler((function(e){return i(a,e)}),X.NS.STREAM,"features",null,null)),this._sendRestart(),!1}},{key:"_onStreamFeaturesAfterSASL",value:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(X.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(X.Status.AUTHFAIL,null),!1)}},{key:"bind",value:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=X.getResourceFromJid(this.jid);e?this.send(K({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:X.NS.BIND}).c("resource",{}).t(e).tree()):this.send(K({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:X.NS.BIND}).tree())}else X.log(X.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')}},{key:"_onResourceBindResultIQ",value:function(e){var t;if("error"===e.getAttribute("type"))return X.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=X.ErrorCondition.CONFLICT),this._changeConnectStatus(X.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return X.warn("Resource binding failed."),this._changeConnectStatus(X.Status.AUTHFAIL,null,e),!1;var r=n[0].getElementsByTagName("jid");r.length>0&&(this.authenticated=!0,this.jid=X.getText(r[0]),this.do_session?this._establishSession():this._changeConnectStatus(X.Status.CONNECTED,null))}},{key:"_establishSession",value:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(X.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(K({type:"set",id:"_session_auth_2"}).c("session",{xmlns:X.NS.SESSION}).tree())}},{key:"_onSessionResultIQ",value:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(X.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return this.authenticated=!1,X.warn("Session creation failed."),this._changeConnectStatus(X.Status.AUTHFAIL,null,e),!1;return!1}},{key:"_sasl_failure_cb",value:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(X.Status.AUTHFAIL,null,e),!1}},{key:"_auth2_cb",value:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(X.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(X.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1}},{key:"_addSysTimedHandler",value:function(e,t){var n=new X.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n}},{key:"_addSysHandler",value:function(e,t,n,r,a){var i=new X.Handler(e,t,n,r,a);return i.user=!1,this.addHandlers.push(i),i}},{key:"_onDisconnectTimeout",value:function(){return X.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(X.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1}},{key:"_onIdle",value:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),a=[],i=0;i<this.timedHandlers.length;i++){var o=this.timedHandlers[i];!this.authenticated&&o.user||(o.lastCalled+o.period-r<=0?o.run()&&a.push(o):a.push(o))}this.timedHandlers=a,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout((function(){return e._onIdle()}),100))}}]),e}(),X.SASLMechanism=C,X.SASLAnonymous=N,X.SASLPlain=I,X.SASLSHA1=q,X.SASLOAuthBearer=A,X.SASLExternal=x,X.SASLXOAuth2=G;var Z={Strophe:X,$build:W,$iq:K,$msg:Q,$pres:J,SHA1:V,MD5:R,b64_hmac_sha1:V.b64_hmac_sha1,b64_sha1:V.b64_sha1,str_hmac_sha1:V.str_hmac_sha1,str_sha1:V.str_sha1};X.Request=function(){function e(t,n,r,a){i(this,e),this.id=++X._requestId,this.xmlData=t,this.data=X.serialize(t),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=a||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()}return c(e,[{key:"getResponse",value:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw X.error("invalid response received"),X.error("responseText: "+this.xhr.responseText),X.error("responseXML: "+X.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(X.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new v).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){X.error("invalid response received: "+e.querySelector("parsererror").textContent),X.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=X.ErrorCondition.BAD_FORMAT,t}}return e}},{key:"_newXHR",value:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}}]),e}(),X.Bosh=function(){function e(t){i(this,e),this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]}return c(e,[{key:"_buildBody",value:function(){var e=W("body",{rid:this.rid++,xmlns:X.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e}},{key:"_reset",value:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}},{key:"_connect",value:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":X.NS.BOSH});n&&r.attrs({route:n});var a=this._conn._connect_cb;this._requests.push(new X.Request(r.tree(),this._onRequestStateChange.bind(this,a.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()}},{key:"_attach",value:function(e,t,n,r,a,i,o){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=X.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=a||this.wait,this.hold=i||this.hold,this.window=o||this.window,this._conn._changeConnectStatus(X.Status.ATTACHED,null)}},{key:"_restore",value:function(e,t,n,r,a){var i=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=i&&i.rid&&i.sid&&i.jid&&(null==e||X.getBareJidFromJid(i.jid)===X.getBareJidFromJid(e)||null===X.getNodeFromJid(e)&&X.getDomainFromJid(i.jid)===e))){var o=new Error("_restore: no restoreable session.");throw o.name="StropheSessionError",o}this._conn.restored=!0,this._attach(i.jid,i.sid,i.rid,t,n,r,a)}},{key:"_cacheSession",value:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")}},{key:"_connect_cb",value:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");X.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(X.Status.CONNFAIL,n)):this._conn._changeConnectStatus(X.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),X.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var a=e.getAttribute("requests");a&&(this.window=parseInt(a,10));var i=e.getAttribute("hold");i&&(this.hold=parseInt(i,10));var o=e.getAttribute("wait");o&&(this.wait=parseInt(o,10));var c=e.getAttribute("inactivity");c&&(this.inactivity=parseInt(c,10))}},{key:"_disconnect",value:function(e){this._sendTerminate(e)}},{key:"_doDisconnect",value:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}},{key:"_emptyQueue",value:function(){return 0===this._requests.length}},{key:"_callProtocolErrorHandlers",value:function(t){var n=e._getRequestStatus(t),r=this._conn.protocolErrorHandlers.HTTP[n];r&&r.call(this,n)}},{key:"_hitError",value:function(e){this.errors++,X.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()}},{key:"_no_auth_received",value:function(e){X.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new X.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}},{key:"_onDisconnectTimeout",value:function(){this._abortAllRequests()}},{key:"_abortAllRequests",value:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}}},{key:"_onIdle",value:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(X.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":X.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new X.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(X.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(X.TIMEOUT*this.wait)&&(X.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(X.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}}},{key:"_onRequestStateChange",value:function(t,n){if(X.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort)n.abort=!1;else if(4===n.xhr.readyState){var r=e._getRequestStatus(n);if(this.lastResponseHeaders=n.xhr.getAllResponseHeaders(),this._conn.disconnecting&&r>=400)return this._hitError(r),void this._callProtocolErrorHandlers(n);var a=r>0&&r<500,i=n.sends>this._conn.maxRetries;if((a||i)&&(this._removeRequest(n),X.debug("request id "+n.id+" should now be removed")),200===r){var o=this._requests[0]===n;(this._requests[1]===n||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(X.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(n.rid)+1),X.debug("request id "+n.id+"."+n.sends+" got 200"),t(n),this.errors=0}else 0===r||r>=400&&r<600||r>=12e3?(X.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),this._hitError(r),this._callProtocolErrorHandlers(n),r>=400&&r<500&&(this._conn._changeConnectStatus(X.Status.DISCONNECTING,null),this._conn._doDisconnect())):X.error("request id "+n.id+"."+n.sends+" error "+r+" happened");a||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(X.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}}},{key:"_processRequest",value:function(t){var n=this,r=this._requests[t],a=e._getRequestStatus(r,-1);if(r.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=r.age(),o=!isNaN(i)&&i>Math.floor(X.TIMEOUT*this.wait),c=null!==r.dead&&r.timeDead()>Math.floor(X.SECONDARY_TIMEOUT*this.wait),s=4===r.xhr.readyState&&(a<1||a>=500);if((o||c||s)&&(c&&X.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),r.abort=!0,r.xhr.abort(),r.xhr.onreadystatechange=function(){},this._requests[t]=new X.Request(r.xmlData,r.origFunc,r.rid,r.sends),r=this._requests[t]),0===r.xhr.readyState){X.debug("request id "+r.id+"."+r.sends+" posting");try{var l=this._conn.options.contentType||"text/xml; charset=utf-8";r.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==r.xhr.setRequestHeader&&r.xhr.setRequestHeader("Content-Type",l),this._conn.options.withCredentials&&(r.xhr.withCredentials=!0)}catch(e){return X.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(X.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(r.date=new Date,n._conn.options.customHeaders){var e=n._conn.options.customHeaders;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.xhr.setRequestHeader(t,e[t])}r.xhr.send(r.data)};if(r.sends>1){var d=1e3*Math.min(Math.floor(X.TIMEOUT*this.wait),Math.pow(r.sends,3));setTimeout((function(){u()}),d)}else u();r.sends++,this._conn.xmlOutput!==X.Connection.prototype.xmlOutput&&(r.xmlData.nodeName===this.strip&&r.xmlData.childNodes.length?this._conn.xmlOutput(r.xmlData.childNodes[0]):this._conn.xmlOutput(r.xmlData)),this._conn.rawOutput!==X.Connection.prototype.rawOutput&&this._conn.rawOutput(r.data)}else X.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+r.xhr.readyState)}}},{key:"_removeRequest",value:function(e){X.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()}},{key:"_restartRequest",value:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)}},{key:"_reqToData",value:function(e){try{return e.getResponse()}catch(e){if("parsererror"!==e.message)throw e;this._conn.disconnect("strophe-parsererror")}}},{key:"_sendTerminate",value:function(e){X.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new X.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()}},{key:"_send",value:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout((function(){return e._conn._onIdle()}),100)}},{key:"_sendRestart",value:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)}},{key:"_throttledRequestHandler",value:function(){this._requests?X.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):X.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}],[{key:"_getRequestStatus",value:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(e){X.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof t?t:0),n}}]),e}(),X.Bosh.prototype.strip=null,X.Websocket=function(){function e(t){i(this,e),this._conn=t,this.strip="wrapper";var n=t.service;if(0!==n.indexOf("ws:")&&0!==n.indexOf("wss:")){var r="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?r+="ws":r+="wss",r+="://"+window.location.host,0!==n.indexOf("/")?r+=window.location.pathname+n:r+=n,t.service=r}}return c(e,[{key:"_buildStream",value:function(){return W("open",{xmlns:X.NS.FRAMING,to:this._conn.domain,version:"1.0"})}},{key:"_checkStreamError",value:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(X.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],a="",i="",o=0;o<r.childNodes.length;o++){var c=r.childNodes[o];if("urn:ietf:params:xml:ns:xmpp-streams"!==c.getAttribute("xmlns"))break;"text"===c.nodeName?i=c.textContent:a=c.nodeName}var s="WebSocket stream error: ";return s+=a||"unknown",i&&(s+=" - "+i),X.error(s),this._conn._changeConnectStatus(t,a),this._conn._doDisconnect(),!0}},{key:"_reset",value:function(){}},{key:"_connect",value:function(){var e=this;this._closeSocket(),this.socket=new m(this._conn.service,"xmpp"),this.socket.onopen=function(){return e._onOpen()},this.socket.onerror=function(t){return e._onError(t)},this.socket.onclose=function(t){return e._onClose(t)},this.socket.onmessage=function(t){return e._onInitialMessage(t)}}},{key:"_connect_cb",value:function(e){if(this._checkStreamError(e,X.Status.CONNFAIL))return X.Status.CONNFAIL}},{key:"_handleStreamStart",value:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==X.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!=typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(X.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)}},{key:"_onInitialMessage",value:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new v).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new v).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var a=r.getAttribute("see-other-uri");if(a){var i=this._conn.service;(i.indexOf("wss:")>=0&&a.indexOf("wss:")>=0||i.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(X.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=a,this._connect())}else this._conn._changeConnectStatus(X.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{this._replaceMessageHandler();var o=this._streamWrap(e.data),c=(new v).parseFromString(o,"text/xml").documentElement;this._conn._connect_cb(c,null,e.data)}}},{key:"_replaceMessageHandler",value:function(){var e=this;this.socket.onmessage=function(t){return e._onMessage(t)}}},{key:"_disconnect",value:function(e){var t=this;if(this.socket&&this.socket.readyState!==m.CLOSED){e&&this._conn.send(e);var n=W("close",{xmlns:X.NS.FRAMING});this._conn.xmlOutput(n.tree());var r=X.serialize(n);this._conn.rawOutput(r);try{this.socket.send(r)}catch(e){X.warn("Couldn't send <close /> tag.")}}setTimeout((function(){return t._conn._doDisconnect}),0)}},{key:"_doDisconnect",value:function(){X.debug("WebSockets _doDisconnect was called"),this._closeSocket()}},{key:"_streamWrap",value:function(e){return"<wrapper>"+e+"</wrapper>"}},{key:"_closeSocket",value:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){X.debug(e.message)}this.socket=null}},{key:"_emptyQueue",value:function(){return!0}},{key:"_onClose",value:function(e){this._conn.connected&&!this._conn.disconnecting?(X.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(X.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(X.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):X.debug("Websocket closed")}},{key:"_no_auth_received",value:function(e){X.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(X.Status.CONNFAIL,X.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()}},{key:"_onDisconnectTimeout",value:function(){}},{key:"_abortAllRequests",value:function(){}},{key:"_onError",value:function(e){X.error("Websocket error "+e),this._conn._changeConnectStatus(X.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()}},{key:"_onIdle",value:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n=void 0;n="restart"===e[t]?this._buildStream().tree():e[t];var r=X.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}}},{key:"_onMessage",value:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new v).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var r=this._streamWrap(e.data);t=(new v).parseFromString(r,"text/xml").documentElement}return this._checkStreamError(t,X.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(X.serialize(t))):void this._conn._dataRecv(t,e.data)}},{key:"_onOpen",value:function(){X.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=X.serialize(e);this._conn.rawOutput(t),this.socket.send(t)}},{key:"_reqToData",value:function(e){return e}},{key:"_send",value:function(){this._conn.flush()}},{key:"_sendRestart",value:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}]),e}();var $={};$.debug=X.LogLevel.DEBUG,$.info=X.LogLevel.INFO,$.warn=X.LogLevel.WARN,$.error=X.LogLevel.ERROR,$.fatal=X.LogLevel.FATAL,X.WorkerWebsocket=function(e){s(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e))._conn=e,r.worker=new SharedWorker(r._conn.options.worker,"Strophe XMPP Connection"),r.worker.onerror=function(e){var t;null===(t=console)||void 0===t||t.error(e),X.log(X.LogLevel.ERROR,"Shared Worker Error: ".concat(e))},r}return c(n,[{key:"_connect",value:function(){var e=this;this._messageHandler=function(t){return e._onInitialMessage(t)},this.worker.port.start(),this.worker.port.onmessage=function(t){return e._onWorkerMessage(t)},this.worker.port.postMessage(["_connect",this._conn.service,this._conn.jid])}},{key:"_attach",value:function(e){var t=this;this._messageHandler=function(e){return t._onMessage(e)},this._conn.connect_callback=e,this.worker.port.start(),this.worker.port.onmessage=function(e){return t._onWorkerMessage(e)},this.worker.port.postMessage(["_attach",this._conn.service])}},{key:"_attachCallback",value:function(e,t){e===X.Status.ATTACHED?(this._conn.jid=t,this._conn.authenticated=!0,this._conn.connected=!0,this._conn.restored=!0,this._conn._changeConnectStatus(X.Status.ATTACHED)):e===X.Status.ATTACHFAIL&&(this._conn.authenticated=!1,this._conn.connected=!1,this._conn.restored=!1,this._conn._changeConnectStatus(X.Status.ATTACHFAIL))}},{key:"_disconnect",value:function(e,t){t&&this._conn.send(t);var n=W("close",{xmlns:X.NS.FRAMING});this._conn.xmlOutput(n.tree());var r=X.serialize(n);this._conn.rawOutput(r),this.worker.port.postMessage(["send",r]),this._conn._doDisconnect()}},{key:"_onClose",value:function(e){this._conn.connected&&!this._conn.disconnecting?(X.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected?(X.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(X.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):X.debug("Websocket closed")}},{key:"_closeSocket",value:function(){this.worker.port.postMessage(["_closeSocket"])}},{key:"_replaceMessageHandler",value:function(){var e=this;this._messageHandler=function(t){return e._onMessage(t)}}},{key:"_onWorkerMessage",value:function(e){var t=e.data,n=t[0];if("_onMessage"===n)this._messageHandler(t[1]);else if(n in this)try{this[n].apply(this,e.data.slice(1))}catch(e){X.log(X.LogLevel.ERROR,e)}else if("log"===n){var r=t[1],a=t[2];X.log($[r],a)}else X.log(X.LogLevel.ERROR,"Found unhandled service worker message: ".concat(t))}},{key:"socket",get:function(){var e=this;return{send:function(t){return e.worker.port.postMessage(["send",t])}}}}]),n}(X.Websocket),r.$build=Z.$build,r.$iq=Z.$iq,r.$msg=Z.$msg,r.$pres=Z.$pres,r.Strophe=Z.Strophe;var ee=V.b64_sha1;t.$build=W,t.$iq=K,t.$msg=Q,t.$pres=J,t.Strophe=X,t.b64_sha1=ee,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n("yLpj"))},ou1I:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r,a=n("yXPU"),i=n.n(a),o=n("oaNE"),c=n("o0o1"),s=n.n(c),l=(n("07d7"),n("5s+n"),n("QWBl"),n("OfRX")),u=n("vVa8");!function(e){e.FAILURE="entities/AUDIOBREAK/FETCH_AUDIOBREAK_FAILURE",e.SUCCESS="entities/AUDIOBREAK/FETCH_AUDIOBREAK_SUCCESS"}(r||(r={}));t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,t.type===r.SUCCESS?Object(o.a)({},e,t.data):e};var d=[],p=function(e){return new Promise((function(t,n){var a=u.a.getState().player,i=l.b.call({method:"deezer.getAudiobreak",data:{consent_string:e||"",listening_context:a.music.context,track_list:a.music.list},success:function(e){t({type:r.SUCCESS,data:e})},error:function(e){n(e)}});d.push(i)}))},f=function(e){return function(){var t=i()(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,p(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ozDk:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("7W2i"),l=n.n(s),u=n("a1gu"),d=n.n(u),p=n("Nsbk"),f=n.n(p),h=(n("17x9"),n("q1tI")),m=n.n(h),v=n("iuhU"),y=n("eHHa");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var b={light:"light",dark:"dark"},_=function(e){l()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,a=e.width,i=e.color,o=Object(v.a)("flow-logo",t),c=Object(v.a)("flow-logo-svg",{"is-light":i===b.light,"is-dark":i===b.dark});return m.a.createElement("div",{className:o},m.a.createElement("svg",{className:c,width:a,height:n,viewBox:"0 0 64 26"},m.a.createElement("desc",null,Object(y.a)("FLOW")),r||(r=m.a.createElement("path",{d:"M7.34503 7.29986C7.34503 5.13765 8.633 4.34781 11.2193 4.53046V0.0283321C8.3692 -0.134574 6.20707 0.403509 4.78462 1.68207C3.35009 2.95899 2.63283 4.83159 2.63283 7.29986V8.06996H0V11.7674H2.63283V24.9085H7.34503V11.7674H11.2193V8.06996H7.34503V7.29986ZM17.2917 0.0282562H12.5225V24.9084H17.2917V0.0282562ZM37.025 16.487C37.025 11.4369 33.1559 7.70486 27.7919 7.70486C22.428 7.70486 18.5537 11.4764 18.5537 16.487C18.5537 21.4975 22.4797 25.2641 27.7919 25.2641C33.1042 25.2641 37.025 21.537 37.025 16.487ZM23.209 16.487C23.209 13.6781 25.1488 11.7923 27.7919 11.7923C30.4351 11.7923 32.3697 13.683 32.3697 16.487C32.3697 19.2909 30.4351 21.1767 27.7919 21.1767C25.1488 21.1767 23.209 19.2958 23.209 16.487ZM44.2457 20.6423L47.3493 8.05908H52.9356L55.9926 20.6423L59.2669 8.05908H63.9998L59.1582 24.9075H52.9977L50.1321 13.9582L47.2251 24.9075H41.0801L36.2386 8.05908H41.0077L44.2457 20.6423Z"}))))}}]),n}(h.Component);_.defaultProps={color:"light",className:null,height:"26",width:"64"},t.b=_},"p8Y+":function(e){e.exports=JSON.parse('{"cells":["Play","EpisodeHeard","EpisodeTitle","Explicit","EpisodeInformation","Share","Duration","EpisodeReleaseDate"],"toolbar":{"playAll":true,"favorite":true,"shareType":7},"infiniteScroll":true,"fillerHeight":true}')},pAc5:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Checkbox"],"header":{"contextMenu":true},"toolbar":{"playAll":true},"infiniteScroll":true,"fillerHeight":true,"trackIndex":true,"forcePlayerReloadTrack":true}')},pHhg:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return m}));var r,a,i,o,c,s,l,u=n("eHHa");!function(e){e[e.song=0]="song",e[e.album=1]="album",e[e.artist=2]="artist",e[e.playlist=3]="playlist",e[e.radio=4]="radio",e[e.smart_radio=6]="smart_radio",e[e.smartradio=6]="smartradio",e[e.sradio=6]="sradio",e[e.show=7]="show",e[e.episode=8]="episode"}(r||(r={})),function(e){e.track="track",e.album="album",e.playlist="playlist",e.artist="artist",e.talkShow="talk_show",e.talkEpisode="talk_episode",e.mix="mix",e.trackLyrics="track_lyrics"}(a||(a={})),function(e){e.instagram="instagram",e.snapchat="snapchat",e.whatsapp="whatsapp",e.messenger="messenger",e.sms="sms",e.twitter="twitter",e.facebook="facebook",e.clipboard="clipboard",e.system="system"}(i||(i={})),function(e){e.message="message",e.newsfeed="newsfeed",e.generic="generic"}(o||(o={})),function(e){e.directShareMasthead="direct_share_masthead",e.contextualMenu="contextual_menu"}(c||(c={})),function(e){e.deezerFollowers="deezer_followers",e.clipboard="clipboard"}(s||(s={})),function(e){e.SHARE_TO_ALL="all",e.SHARE_TO_FRIENDS="friends"}(l||(l={}));var d="SHARING",p=function(){return{track:{title:Object(u.a)("Partager ce titre"),confirmation:Object(u.a)("Titre partagé !"),type:0},album:{title:Object(u.a)("Partager cet album"),confirmation:Object(u.a)("Album partagé !"),type:1},artist:{title:Object(u.a)("Partager cette page artiste"),confirmation:Object(u.a)("Page artiste partagée !"),type:2},playlist:{title:Object(u.a)("Partager cette playlist"),confirmation:Object(u.a)("Playlist partagée !"),type:3},radio:{title:Object(u.a)("Partager ce mix"),confirmation:Object(u.a)("Mix partagé !"),type:4},sradio:{title:Object(u.a)("Partager ce mix"),confirmation:Object(u.a)("Mix partagé !"),type:6},show:{title:Object(u.a)("Partager ce podcast"),confirmation:Object(u.a)("Podcast partagé !"),type:7},episode:{title:Object(u.a)("Partager ce podcast"),confirmation:Object(u.a)("Épisode partagé !"),type:8}}},f=function(e,t){var n="";for(var r in e)({}).hasOwnProperty.call(e,r)&&e[r].type===t&&(n=r);return n},h=function(){return[{type:l.SHARE_TO_ALL,text:Object(u.a)("Tous mes followers")},{type:l.SHARE_TO_FRIENDS,text:Object(u.a)("Choisir des followers")}]},m=function(e){switch(e){case r.song:return a.track;case r.album:return a.album;case r.artist:return a.artist;case r.playlist:return a.playlist;case r.radio:case r.smart_radio:case r.smartradio:case r.sradio:return a.mix;case r.show:return a.talkShow;case r.episode:return a.talkEpisode;default:return a.track}}},pNuE:function(e,t,n){e.exports={root:"_2w2fh",badge:"_2tuOE",section:"WGCNl","section-title":"_1Q-9e",sectionTitle:"_1Q-9e",item:"zaQCl",name:"c68hX","is-active":"_3XJfZ",isActive:"_3XJfZ",selector:"_16ulR",label:"jX_1w","info-icon":"_2Hf1r",infoIcon:"_2Hf1r"}},pSVP:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("VTBJ"),a=n("Ff2n"),i=n("q1tI"),o=n("vOnD"),c=n("DQuG");const s=o.e.div.withConfig({componentId:"sk__sc-blc9xp-0"})(["align-items:center;border-radius:4px;color:",";display:flex;padding:8px 16px;",""],c.a.white,e=>(e=>{const{colors:t}=e.theme.tempo,n={primary:t.accent.main,secondary:t.neutral.strong,success:t.intent.success,warning:t.intent.warning,error:t.intent.error,brand:c.a.brand}[e.$color];return Object(o.d)(["background-color:",";"],n)})(e)),l=o.e.div.withConfig({componentId:"sk__sc-blc9xp-1"})(["flex:1;padding:4px 0;"]),u=o.e.div.withConfig({componentId:"sk__sc-blc9xp-2"})(["font-size:14px;& a{color:",";text-decoration:underline;}"],c.a.current),d=o.e.div.withConfig({componentId:"sk__sc-blc9xp-3"})(["font-size:14px;font-weight:",";"],({theme:e})=>e.tempo.fontWeights.bold),p=o.e.div.withConfig({componentId:"sk__sc-blc9xp-4"})(["align-items:center;display:flex;"]),f=o.e.div.withConfig({componentId:"sk__sc-blc9xp-5"})(["margin-left:12px;"]);var h=n("nKUr");const m=["action","children","color","title"],v=Object(i.forwardRef)((e,t)=>{let{action:n,children:o,color:c,title:v}=e,y=Object(a.a)(e,m);const g=Object(r.a)({ref:t,$color:c,role:"dialog"},y);return Object(h.jsxs)(s,Object(r.a)(Object(r.a)({},g),{},{children:[Object(h.jsxs)(l,{children:[v&&Object(h.jsx)(d,{children:v}),Object(h.jsx)(u,{children:o})]}),n&&Object(h.jsx)(p,{children:i.Children.map(n,e=>Object(h.jsx)(f,{children:e}))})]}))});v.displayName="Alert"},pk2W:function(e,t,n){"use strict";(function(e){n("SuFq"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("QWBl"),n("FZtP"),n("27RR"),n("HRxU"),n("eoL8");var r=n("lSNA"),a=n.n(r),i=n("QILm"),o=n.n(i),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),p=n.n(d),f=n("7W2i"),h=n.n(f),m=n("a1gu"),v=n.n(m),y=n("Nsbk"),g=n.n(y),b=(n("wLYn"),n("17x9"),n("q1tI")),_=n.n(b),E=n("iuhU"),k=n("EVdn"),O=n.n(k),S=n("UQbt"),T=["children","className","preventPageScrolling","disableResize","alwaysVisible","shadow","onScroll","onScrollTop","onScrollEnd"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var N=function(t){h()(r,t);var n=C(r);function r(e){var t;return s()(this,r),(t=n.call(this,e)).getScrollTop=t.getScrollTop.bind(p()(t)),t.getScrollHeight=t.getScrollHeight.bind(p()(t)),t.getClientHeight=t.getClientHeight.bind(p()(t)),t.scrollTop=t.scrollTop.bind(p()(t)),t.scrollBottom=t.scrollBottom.bind(p()(t)),t.scrollTo=t.scrollTo.bind(p()(t)),t.scrollToTop=t.scrollToTop.bind(p()(t)),t.scrollToBottom=t.scrollToBottom.bind(p()(t)),t.update=t.update.bind(p()(t)),t._scrollerRef=null,t._nanoRef=null,t._contentRef=null,t._onScrollTop=t._onScrollTop.bind(p()(t)),t._onScrollEnd=t._onScrollEnd.bind(p()(t)),t.state={hasShadowTop:!1,hasShadowBottom:!1},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this,n=this.props,r=n.preventPageScrolling,a=n.disableResize,i=n.alwaysVisible,o=n.shadow,c=n.onScroll,s=n.onScrollTop,l=n.onScrollEnd;("function"==typeof s||this._hasShadowTop())&&this._scrollerRef.on("scrolltop",this._onScrollTop),("function"==typeof l||this._hasShadowBottom())&&this._scrollerRef.on("scrollend",this._onScrollEnd),!1!==o&&this._scrollerRef.on("update",this.update),"function"==typeof c&&this._scrollerRef.on("update",(function(e){return c(e)})),e.nextTick((function(){t._scrollerRef.nanoScroller({preventPageScrolling:r,disableResize:a,alwaysVisible:i}),t.update()}))}},{key:"getSnapshotBeforeUpdate",value:function(){return{contentHeight:this.getContentHeight()}}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,a=r.preventPageScrolling,i=r.disableResize,o=r.alwaysVisible;n.contentHeight!==this.getContentHeight()&&(this._scrollerRef.nanoScroller({preventPageScrolling:a,disableResize:i,alwaysVisible:o}),this.update())}},{key:"componentWillUnmount",value:function(){this._scrollerRef.off("scrolltop scrollend update"),this._scrollerRef.nanoScroller({destroy:!0})}},{key:"getScrollTop",value:function(){return this._nanoRef?this._nanoRef.scrollTop:0}},{key:"getScrollHeight",value:function(){return this._nanoRef?this._nanoRef.scrollHeight:0}},{key:"getClientHeight",value:function(){return this._nanoRef?this._nanoRef.clientHeight:0}},{key:"getContentHeight",value:function(){return this._contentRef?this._contentRef.clientHeight:0}},{key:"scrollTop",value:function(e){this._scrollerRef.nanoScroller({scrollTop:e})}},{key:"scrollBottom",value:function(e){this._scrollerRef.nanoScroller({scrollBottom:e})}},{key:"scrollTo",value:function(e){this._scrollerRef.nanoScroller({scrollTo:e})}},{key:"scrollToTop",value:function(){this._scrollerRef.nanoScroller({scroll:"top"})}},{key:"scrollToBottom",value:function(){this._scrollerRef.nanoScroller({scroll:"bottom"})}},{key:"update",value:function(e,t){t||(t={position:this.getScrollTop(),maximum:this.getScrollHeight()-this.getClientHeight()}),t.maximum<0||this.setState({hasShadowBottom:this._hasShadowBottom()&&t.position<t.maximum,hasShadowTop:this._hasShadowTop()&&t.position>0})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.children,t.className),r=(t.preventPageScrolling,t.disableResize,t.alwaysVisible,t.shadow,t.onScroll,t.onScrollTop,t.onScrollEnd,o()(t,T)),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:Object(E.a)(n,"nano"),ref:function(t){return e._scrollerRef=O()(t)}},r);return _.a.createElement("div",i,this._renderShadowTop(),this._renderShadowBottom(),this._renderContent())}},{key:"_renderShadowTop",value:function(){var e=this.state.hasShadowTop,t=Object(E.a)("scroller-shadow-top",{"is-active":e});return _.a.createElement("div",{className:t})}},{key:"_renderContent",value:function(){var e=this,t=this.props.children;return _.a.createElement("div",{className:"nano-content",ref:function(t){return e._nanoRef=t}},_.a.createElement("div",{className:"nano-content-ref",ref:function(t){return e._contentRef=t}},t))}},{key:"_renderShadowBottom",value:function(){var e=this.state.hasShadowBottom,t=Object(E.a)("scroller-shadow-bottom",{"is-active":e});return _.a.createElement("div",{className:t})}},{key:"_onScrollTop",value:function(){var e=this.props.onScrollTop;"function"==typeof e&&e(),this._hasShadowTop()&&this.setState({hasShadowTop:!1})}},{key:"_onScrollEnd",value:function(){var e=this.props.onScrollEnd;"function"==typeof e&&e(),this._hasShadowBottom()&&this.setState({hasShadowBottom:!1})}},{key:"_hasShadowTop",value:function(){var e=this.props.shadow;return!0===e||e===S.b}},{key:"_hasShadowBottom",value:function(){var e=this.props.shadow;return!0===e||e===S.a}}]),r}(_.a.PureComponent);N.defaultProps={className:"",preventPageScrolling:!0,disableResize:!1,alwaysVisible:!1,shadow:!0,onScroll:void 0,onScrollTop:void 0,onScrollEnd:void 0},t.a=N}).call(this,n("8oxB"))},"q/tY":function(e){e.exports=JSON.parse('["cdn_metrics","curator_edito","curator_feature","curator_local","curator_partner","dark_mode","datagrid_refacto","deeztools","disable_change_email","disable_change_password","employee_feature","family_parental_control","family_profile_migration","gapless_playback","gcast_force_beta","gender_nonbinary","library_importer_tmm","livestream_page","metric.api","metric.dynamic_page_loading","metric.memoryusage","metric.playback_attempts","metric.remote_control","metric.timetoplay","privacy_and_transfer_data_needed","public_api_album","public_api_track","reactivation_desktop_notification","recaptcha_signup","recommendation_country","search_livestream","sentry","talk","triforce_queuelist_messages","triforce_queuelist_ui","unlimited_favorite_tracks","unlimited_favorite_tracks_parallel_fetch","use_media_service","use_url_generation","voicecallback","volume_normalization","webchat_desktop","webchat_mobile"]')},q0sp:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"info"},e),r||(r=c.a.createElement("path",{d:"M0 6a6 6 0 1 1 12 0A6 6 0 0 1 0 6zm6-5a5 5 0 1 0 0 10A5 5 0 0 0 6 1zm-.804 4.59c.068-.177-.02-.265-.097-.265-.36 0-.829.855-1.004.855-.068 0-.127-.069-.127-.128 0-.177.429-.59.556-.717.39-.373.897-.658 1.462-.658.42 0 .868.255.517 1.209L5.8 7.802c-.059.147-.166.393-.166.55 0 .07.039.138.117.138.292 0 .828-.835.965-.835.049 0 .116.059.116.147 0 .285-1.14 1.504-2.124 1.504-.351 0-.595-.167-.595-.54 0-.472.332-1.279.4-1.446l.682-1.73zM5.4 3.346c0-.493.426-.897.92-.897.448 0 .774.302.774.763 0 .516-.427.897-.931.897-.46 0-.763-.303-.763-.763z"})))}},qFqg:function(e,t,n){e.exports={root:"_3upuy",item:"_3mRdY",link:"pn8IH","is-active":"_2NAvz",isActive:"_2NAvz","tab-content":"_3U1p8",tabContent:"_3U1p8",placeholder:"_3y_C2"}},qNjv:function(e){e.exports=JSON.parse('{"availableOnly":true,"cells":["Play","Love","Title","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true},"toolbar":{"playAll":true,"favorite":true,"shareType":3,"contextMenu":true,"filter":true,"sorter":true},"infiniteScroll":true,"fillerHeight":true,"unseen":true,"sorterStorageKey":"playlist"}')},qTzj:function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),m=n.n(h),v=(n("wLYn"),n("sMBO"),n("q1tI")),y=n.n(v),g=n("/MKj"),b=n("bkRl"),_=n("cWlz"),E=n("CGCA"),k=n("zs5+"),O=n("SZ5K");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}!function(e){e.SMALL="small",e.LARGE="large",e.XL="xl"}(r||(r={}));var T=function(e){d()(n,e);var t=S(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(l()(r)),r}return c()(n,[{key:"handleClick",value:function(){var e=this.props,t=e.name,n=e.data,r=e.dispatchOpenModal,a=e.dispatchOpenScreen,i=e.isScreen,o=e.size;i?a({name:t,data:n}):r({name:t,props:n,size:o})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.label;return y.a.createElement(E.a,{handleClick:this.handleClick},y.a.createElement(k.a,null,t),y.a.createElement(O.a,{value:n}))}}]),n}(v.Component);T.defaultProps={data:{},isScreen:!1,size:r.LARGE};var R={dispatchOpenModal:b.c,dispatchOpenScreen:_.c};t.a=Object(g.c)(null,R)(T)},qbqq:function(e){e.exports=JSON.parse('{"default":{"center":false,"contextMenu":"on","dislike":"off","favorite":"on","play":"force","preview":"off"},"dynamic_page":{"center":true,"contextMenu":"off","favorite":"off","play":"on"},"episode_page":{"contextMenu":"off","favorite":"off"},"resume":{"center":true,"contextMenu":"off","favorite":"off","isNotAnimatedFromTrackListIndex":true,"play":"on"},"latest":{"center":true,"contextMenu":"off","favorite":"off","play":"on"},"topbar_popper_episode":{"play":"on"}}')},qfyx:function(e){e.exports=JSON.parse('{"availableOnly":false,"cells":["Play","Love","Title","AddToPlaylist","ContextMenu","Lyrics","Explicit","Artist","Album","Duration","Popularity","Checkbox"],"header":{"sorter":true,"add":true,"contextMenu":true},"toolbar":{"playAll":true,"favorite":true,"shareType":3,"contextMenu":true,"filter":true,"sorter":true,"download":true},"infiniteScroll":true,"trackIndex":true,"unseen":true,"sorterStorageKey":"playlist"}')},"r+fB":function(e,t,n){"use strict";var r,a=n("q1tI"),i=n.n(a),o=n("eHHa"),c=n("qTzj"),s=n("jwK1"),l=n("pHhg");t.a=function(e){var t=e.context,n=e.data,a=e.id,u=e.type;return i.a.createElement(c.a,{data:{componentType:l.d.contextualMenu,context:t,data:n,id:a,type:u},label:Object(o.a)("Partager"),name:l.a},r||(r=i.a.createElement(s.a,null)))}},rMz7:function(e,t,n){var r=n("I+eb"),a=n("ZOXb");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==a},{toISOString:a})},rmyn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={song:0,track:0,album:1,artist:2,playlist:3,collaborativePlaylist:3,radio:4,smart_radio:6,smartradio:6,sradio:6,show:7,episode:8};function a(e){return r[e]}},ru5m:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("GKVU"),n("q1tI")),h=n.n(f),m=(n("qePV"),n("shcr")),v=n("9z3s"),y=n("6Sps"),g=n("pHhg"),b=n("6pb3"),_=n("LQZe"),E=n("MihO"),k=n("asCL"),O=n("LvGN"),S=n("r+fB"),T=n("MwvU"),R=n("Ssqf");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var N=function(e){s()(n,e);var t=C(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"renderEditTags",value:function(){var e=this.props.id;return m.a.isAllowed("employee_feature")?h.a.createElement("li",null,h.a.createElement(E.a,{id:e,type:v.a.Artist})):null}},{key:"renderGiveFeedback",value:function(){var e=this.props.id;return h.a.createElement("li",null,h.a.createElement(k.a,{id:Number(e),type:v.a.Artist}))}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return n.SMARTRADIO?h.a.createElement("li",null,h.a.createElement(O.a,{action:_.a.PLAY_RADIO,context:t,ids:[r],type:v.a.Artist})):null}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return h.a.createElement("li",null,h.a.createElement(S.a,{context:t,data:n,id:r,type:g.b.artist}))}},{key:"renderToggleDislike",value:function(){var e=this.props,t=e.context,n=e.id;return h.a.createElement("li",null,h.a.createElement(T.a,{context:t,id:n,type:v.a.Artist}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id;return h.a.createElement("li",null,h.a.createElement(R.a,{context:t,id:n,type:v.a.Artist}))}},{key:"render",value:function(){return h.a.createElement(y.a,null,h.a.createElement("ul",null,this.renderPlay(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderShare(),this.renderGiveFeedback(),this.renderEditTags()))}}]),n}(f.Component),x=Object(b.a)(N),P=n("9mL2"),w=n("OuPr"),A=n("3lCq");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var j=function(e){s()(n,e);var t=I(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(P.c)(),r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return h.a.createElement(A.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[w.d,w.f],usePortal:!0};return h.a.createElement(x,c,n)}))}}]),n}(f.Component);j.defaultProps={placement:"left"};t.a=j},"sE8/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"add"},e),r||(r=c.a.createElement("path",{d:"M6 1.5v9M1.5 6h9",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})))}},tfB9:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("iuhU"),s=n("+NIV"),l=n.n(s);t.a=function(e){var t=e.children,n=e.isVisible,r=void 0!==n&&n,i=Object(c.a)(l.a.root,a()({},l.a.isOpened,r));return o.a.createElement("div",{className:i},t)}},ti5Q:function(e){e.exports=JSON.parse('{"cells":["Play","Love","Title","AddToPlaylist","Lyrics","Explicit","Artist","Album","Duration","AddDate","Checkbox"],"header":{"sorter":true,"contextMenu":true},"toolbar":{"playAll":true,"filter":true,"sorter":true},"infiniteScroll":true,"fillerHeight":true,"sorterStorageKey":"loved","trackIndex":true}')},twse:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("iuhU");t.a=function(e){var t=e.children;return a.a.cloneElement(t,{className:Object(i.a)(t.props.className,"animate-wobble")})}},u5VU:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"love"},e),r||(r=c.a.createElement("path",{d:"M6 2.5S5 1 3.25 1C1.667 1 0 2.25 0 4.5c0 3 6 7 6 7s6-4 6-7C12 2.25 10.334 1 8.75 1 7 1 6 2.5 6 2.5z"})))}},uL8W:function(e,t,n){n("I+eb")({target:"Object",stat:!0,sham:!n("g6v/")},{create:n("fHMY")})},uLqA:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("wLYn"),n("q1tI")),v=n.n(m),y=n("/MKj"),g=n("Ye2i"),b=n("nQb1"),_=n("UrDj"),E=n.n(_);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var O=function(e){u()(n,e);var t=k(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(s()(r)),r}return o()(n,[{key:"handleClick",value:function(){this.props.dispatchHidePopper()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=e.isExternal;return v.a.createElement(b.a,{className:E.a.root,to:n,onClick:this.handleClick,onKeyDown:this.handleClick,target:r?"_blank":void 0},t)}}]),n}(m.Component);O.defaultProps={isExternal:!1};var S={dispatchHidePopper:g.b};t.a=Object(y.c)(null,S)(O)},uVns:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("wLYn"),n("17x9"),n("q1tI")),v=n.n(m),y=n("/MKj"),g=n("eHHa"),b=n("rb98"),_=n("Nwl0"),E=n("H2c4"),k=n("aBrh");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(e){u()(n,e);var t=O(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onDislikeClick=r._onDislikeClick.bind(s()(r)),r}return o()(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.id!==e.id||this.props.isDisliked!==e.isDisliked}},{key:"render",value:function(){var e=this.props,t=e.isDisliked,n=e.className,r=e.tooltip,a=e.tooltipPosition,i=t?Object(g.a)("banartist_action_allowinmyrecommendations_web"):Object(g.a)("bantrack_action_dontrecommendthistrack_web"),o=v.a.createElement("button",{className:n,type:"button",onClick:this._onDislikeClick,"aria-label":i},v.a.createElement(k.a,{color:t?"primary":"inherit"}));return r?v.a.createElement(E.a,{text:i,position:a},o):o}},{key:"_onDislikeClick",value:function(e){e.stopPropagation();var t=this.props,n=t.type,r=t.id,a=t.isDisliked,i={id:r,type:n,context:t.context};a?_.a.remove(i):_.a.add(i)}}]),n}(m.Component);S.defaultProps={className:"",tooltip:!1,tooltipPosition:"top"};t.a=Object(y.c)((function(e,t){var n=e.feedbacks;return{isDisliked:Object(b.g)(n,t.id,t.type)}}),null)(S)},ulcf:function(e){e.exports=JSON.parse('{"contextMenu":true,"cover":true,"label":true,"like":true,"mute":true,"next":true,"play":true,"prev":true,"stop":true,"subTitle":{"url":"/artist/"},"title":{"id":"ALB_ID","url":"/album/"},"userFeedback":false,"volume":true}')},upGn:function(e){e.exports=JSON.parse('{"changeOrder":true,"cells":["Play","Love","Title","ContextMenu","Lyrics","Explicit","Artist","Duration","RemoveFromQueueList"],"multiArtist":true,"cover":"album","sorterStorageKey":"queuelist"}')},v0GO:function(e,t,n){"use strict";n("SuFq");var r,a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("7W2i"),l=n.n(s),u=n("a1gu"),d=n.n(u),p=n("Nsbk"),f=n.n(p),h=(n("GKVU"),n("q1tI")),m=n.n(h),v=n("9mL2"),y=(n("qePV"),n("/MKj")),g=n("shcr"),b=n("eHHa"),_=n("MST+"),E=n("9z3s"),k=n("rod9"),O=n("6Sps"),S=n("pHhg"),T=n("6pb3"),R=n("VCHN"),C=n("LQZe"),N=n("hEHE"),x=n("PJYZ"),P=n.n(x),w=(n("wLYn"),n("O397")),A=n("vEc0"),I=n("vRnm"),j=n("V0xF"),D=n("KwjQ"),L=n("bkRl"),M=n("CGCA"),F=n("zs5+"),B=n("SZ5K"),H=n("YV4S"),U=n("d3Ol");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var V,q=function(e){l()(n,e);var t=z(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(P()(r)),r.handleConfirm=r.handleConfirm.bind(P()(r)),r}return c()(n,[{key:"handleConfirm",value:function(e){var t=this;if(e){var n=this.props;(0,n.dispatchRemovePlaylist)({data:{id:n.id}}).then((function(){Object(D.a)({body:Object(b.a)("toastmessage_text_playlistXhasbeendeleted_web",{sprintf:[t.props.playlistName]})}),A.a.push(Object(j.c)("/profile/me/playlists"))}))}this.props.dispatchCloseModal()}},{key:"handleClick",value:function(){this.props.dispatchOpenModal({name:H.a.GENERIC_CONFIRM,props:{title:Object(b.a)("confirmationmessage_title_deleteXplaylist_web",{sprintf:[this.props.playlistName]}),body:Object(b.a)("confirmationmessage_text_actioncannotbeundone_web"),ctaConfirm:Object(b.a)("Supprimer"),callback:this.handleConfirm},size:"small"})}},{key:"render",value:function(){return m.a.createElement(M.a,{handleClick:this.handleClick},r||(r=m.a.createElement(F.a,null,m.a.createElement(U.a,null))),m.a.createElement(B.a,{value:Object(b.a)("Supprimer cette playlist")}))}}]),n}(h.Component),G={dispatchRemovePlaylist:w.g,dispatchOpenModal:L.c,dispatchCloseModal:L.a},Y=Object(y.c)((function(e,t){var n=e.entities,r=t.id;return{playlistName:Object(I.b)(n,{id:r}).TITLE}}),G)(q),W=n("ftm1"),Q=n("MihO"),K=n("uLqA"),J=n("LvGN"),X=n("r+fB"),Z=n("Ssqf"),$=n("I7q+");function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var te=1,ne=0,re=function(e){l()(n,e);var t=ee(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"getPlaylistStatus",value:function(){var e=this.props.data;return Number(e.STATUS)||ne}},{key:"isMyPlaylist",value:function(){var e=this.props,t=e.data,n=e.userID;return Number(t.PARENT_USER_ID)===n}},{key:"isPlayable",value:function(){var e=this.props,t=e.data,n=e.playerIsRadio,r=e.mediaType;return 0!==t.NB_SONG&&!n&&r===k.b.SONG&&(this.getPlaylistStatus()!==te||this.isMyPlaylist())}},{key:"renderAddToQueue",value:function(){var e=this.props,t=e.context,n=e.id;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(N.a,{context:t,ids:[n],type:E.a.Playlist})):null}},{key:"renderDownload",value:function(){var e=this.props,t=e.context,n=e.id;return e.userHasDownload?m.a.createElement("li",null,m.a.createElement(W.a,{context:t,id:n,type:E.a.Playlist})):null}},{key:"renderEditTags",value:function(){var e=this.props.id;return g.a.isAllowed("employee_feature")?m.a.createElement("li",null,m.a.createElement(Q.a,{id:e,type:E.a.Playlist})):null}},{key:"renderOwner",value:function(){var e=this.props.data;return this.isMyPlaylist()?null:m.a.createElement("li",null,m.a.createElement(K.a,{href:"/profile/".concat(e.PARENT_USER_ID||e.USER_ID),isExternal:!1},V||(V=m.a.createElement(F.a,null,m.a.createElement(R.a,null))),m.a.createElement(B.a,{value:Object(b.a)("Profil utilisateur")})))}},{key:"renderDelete",value:function(){var e=this.props,t=e.context,n=e.id;return this.isMyPlaylist()&&t&&t.TYPE===$.CONTEXT_PAGE_PLAYLIST?m.a.createElement("li",null,m.a.createElement(Y,{id:n})):null}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.id;return this.isPlayable()?m.a.createElement("li",null,m.a.createElement(J.a,{action:C.a.PLAY_NEXT,context:t,ids:[n],type:E.a.Playlist})):null}},{key:"renderShare",value:function(){var e=this.props,t=e.context,n=e.data,r=e.id;return this.getPlaylistStatus()===te?null:m.a.createElement("li",null,m.a.createElement(X.a,{context:t,data:n,id:r,type:S.b.playlist}))}},{key:"renderToggleFavorite",value:function(){var e=this.props,t=e.context,n=e.id;return this.isMyPlaylist()||this.getPlaylistStatus()===te?null:m.a.createElement("li",null,m.a.createElement(Z.a,{context:t,id:n,type:E.a.Playlist}))}},{key:"render",value:function(){return m.a.createElement(O.a,null,m.a.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderToggleFavorite(),this.renderDownload(),this.renderShare(),this.renderOwner(),this.renderDelete(),this.renderEditTags()))}}]),n}(h.Component),ae=Object(T.a)(Object(y.c)((function(e){var t=e.player,n=e.user;return{mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio,userHasDownload:Object(_.L)(n),userID:n.id}}))(re)),ie=n("OuPr"),oe=n("3lCq");function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var se=function(e){l()(n,e);var t=ce(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(v.c)(),r}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return m.a.createElement(oe.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[ie.d,ie.f],usePortal:!0};return m.a.createElement(ae,c,n)}))}}]),n}(h.Component);se.defaultProps={placement:"left"};t.a=se},voM9:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("lSNA"),a=n.n(r),i=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("q1tI")),o=n.n(i),c=n("YQcN"),s=(n("ma9I"),n("eHHa")),l=[{id:c.a.Remote,getName:function(){return Object(s.a)("labs_title_remotecontrol_web")},getDescription:function(){return"".concat(Object(s.a)("labs_text_remotecontroliOSdevices_web")," ").concat(Object(s.a)("generic_text_betatestersonly_web"))},picture:"remote",isPremium:!0}],u=(n("TeQF"),n("yq1k"),n("JTJg"),n("g48v"));var d=a()({},c.a.Remote,o.a.lazy((function(){return Promise.all([n.e(218),n.e(167)]).then(n.bind(null,"+Zuf"))})));function p(e){return d[e]}function f(e,t){return function(e,t,n){var r=e.filter((function(e){return!e.isPremium||t})),a=r.filter((function(e){return n&&void 0!==n[e.id]?n[e.id]:e.force})),i=r.filter((function(e){return!a.includes(e)})),o=r.filter((function(e){return e.browser&&!u.a.satisfies(e.browser)}));return{visibles:r,actives:a,inactives:i,incompatibles:o}}(l,e,t)}},w1He:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"sort-desc"},e),r||(r=c.a.createElement("path",{d:"M5.997 8.5L2.5 3.507l7-.007z"})))}},wHqY:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"on","preview":"on","favorite":"on","contextMenu":"on","dislike":"off"},"track_page":{"play":"force","favorite":"off","contextMenu":"off"},"profile_home":{"play":"force"},"topbar_popper_track":{"play":"on"}}')},wd0O:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(!(r instanceof t)){function a(){}a.prototype=t.prototype,n(r,a=new a),e.prototype=r=a}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var a={},i=a.ELEMENT_NODE=1,o=a.ATTRIBUTE_NODE=2,c=a.TEXT_NODE=3,s=a.CDATA_SECTION_NODE=4,l=a.ENTITY_REFERENCE_NODE=5,u=a.ENTITY_NODE=6,d=a.PROCESSING_INSTRUCTION_NODE=7,p=a.COMMENT_NODE=8,f=a.DOCUMENT_NODE=9,h=a.DOCUMENT_TYPE_NODE=10,m=a.DOCUMENT_FRAGMENT_NODE=11,v=a.NOTATION_NODE=12,y={},g={},b=(y.INDEX_SIZE_ERR=(g[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(g[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(g[3]="Hierarchy request error",3)),_=(y.WRONG_DOCUMENT_ERR=(g[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(g[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(g[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(g[7]="No modification allowed",7),y.NOT_FOUND_ERR=(g[8]="Not found",8)),E=(y.NOT_SUPPORTED_ERR=(g[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(g[10]="Attribute in use",10));y.INVALID_STATE_ERR=(g[11]="Invalid state",11),y.SYNTAX_ERR=(g[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(g[13]="Invalid modification",13),y.NAMESPACE_ERR=(g[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(g[15]="Invalid access",15);function k(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,g[e]),this.message=g[e],Error.captureStackTrace&&Error.captureStackTrace(this,k);return n.code=e,t&&(this.message=this.message+": "+t),n}function O(){}function S(e,t){this._node=e,this._refresh=t,T(this)}function T(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function R(){}function C(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function N(e,t,n,r){if(r?t[C(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&D(a,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function x(e,t,n){var r=C(t,n);if(!(r>=0))throw k(_,new Error(e.tagName+"@"+n));for(var a=t.length-1;r<a;)t[r]=t[++r];if(t.length=a,e){var i=e.ownerDocument;i&&(D(i,e,n),n.ownerElement=null)}}function P(e){if(this._features={},e)for(var t in e)this._features=e[t]}function w(){}function A(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function j(){}function D(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var a=t.firstChild,i=0;a;)r[i++]=a,a=a.nextSibling;r.length=i}}}function M(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function F(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var a=t.firstChild;if(null==a)return t;var i=t.lastChild}else a=i=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,i.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=i:n.previousSibling=i;do{a.parentNode=e}while(a!==i&&(a=a.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function B(){this._nsMap={}}function H(){}function U(){}function z(){}function V(){}function q(){}function G(){}function Y(){}function W(){}function Q(){}function K(){}function J(){}function X(){}function Z(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,a=r.prefix,i=r.namespaceURI;if(i&&null==a&&null==(a=r.lookupPrefix(i)))var o=[{namespace:i,prefix:null}];return ee(this,n,e,t,o),n.join("")}function $(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!r&&!a)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var i=n.length;i--;){var o=n[i];if(o.prefix==r)return o.namespace!=a}return!0}function ee(e,t,n,r,a){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case i:a||(a=[]);a.length;var u=e.attributes,v=u.length,y=e.firstChild,g=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",g);for(var b=0;b<v;b++){"xmlns"==(_=u.item(b)).prefix?a.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&a.push({prefix:"",namespace:_.value})}for(b=0;b<v;b++){var _;if($(_=u.item(b),0,a)){var E=_.prefix||"",k=_.namespaceURI,O=E?" xmlns:"+E:" xmlns";t.push(O,'="',k,'"'),a.push({prefix:E,namespace:k})}ee(_,t,n,r,a)}if($(e,0,a)){E=e.prefix||"",k=e.namespaceURI,O=E?" xmlns:"+E:" xmlns";t.push(O,'="',k,'"'),a.push({prefix:E,namespace:k})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(g)){if(t.push(">"),n&&/^script$/i.test(g))for(;y;)y.data?t.push(y.data):ee(y,t,n,r,a),y=y.nextSibling;else for(;y;)ee(y,t,n,r,a),y=y.nextSibling;t.push("</",g,">")}else t.push("/>");return;case f:case m:for(y=e.firstChild;y;)ee(y,t,n,r,a),y=y.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[&"]/g,A),'"');case c:return t.push(e.data.replace(/[<&]/g,A).replace(/]]>/g,"]]&gt;"));case s:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case h:var S=e.publicId,T=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(" PUBLIC ",S),T&&"."!=T&&t.push(" ",T),t.push(">");else if(T&&"."!=T)t.push(" SYSTEM ",T,">");else{var R=e.internalSubset;R&&t.push(" [",R,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}k.prototype=Error.prototype,n(y,k),O.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return T(this),this[e]},r(S,O),R.prototype={length:0,item:O.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new k(E);var n=this.getNamedItem(e.nodeName);return N(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new k(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),N(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return x(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return x(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},P.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new j;if(r.implementation=this,r.childNodes=new O,r.doctype=n,n&&r.appendChild(n),t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new G;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},w.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return F(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var a=new n.constructor;for(var c in n){var s=n[c];"object"!=typeof s&&s!=a[c]&&(a[c]=s)}n.childNodes&&(a.childNodes=new O);switch(a.ownerDocument=t,a.nodeType){case i:var l=n.attributes,u=a.attributes=new R,d=l.length;u._ownerElement=a;for(var p=0;p<d;p++)a.setAttributeNode(e(t,l.item(p),!0));break;case o:r=!0}if(r)for(var f=n.firstChild;f;)a.appendChild(e(t,f,r)),f=f.nextSibling;return a}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==c&&e.nodeType==c?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(a,w),n(a,w.prototype),j.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==i&&(this.documentElement=e),F(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return function e(t,n,r){var a;switch(n.nodeType){case i:(a=n.cloneNode(!1)).ownerDocument=t;case m:break;case o:r=!0}a||(a=n.cloneNode(!1));if(a.ownerDocument=t,a.parentNode=null,r)for(var c=n.firstChild;c;)a.appendChild(e(t,c,r)),c=c.nextSibling;return a}(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(n){if(n.nodeType==i&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new S(this,(function(e){var n=[];return I(e.documentElement,(function(r){r!==e&&r.nodeType==i&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new B;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new O,(t.attributes=new R)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new O,e},createTextNode:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new J;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Q;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new B,r=t.split(":"),a=n.attributes=new R;return n.childNodes=new O,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,a._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(j,w),B.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,(function(t){var n=[];return I(t,(function(r){r===t||r.nodeType!=i||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new S(this,(function(n){var r=[];return I(n,(function(a){a===n||a.nodeType!==i||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||r.push(a)})),r}))}},j.prototype.getElementsByTagName=B.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,r(B,w),H.prototype.nodeType=o,r(H,w),U.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(g[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(U,w),z.prototype={nodeName:"#text",nodeType:c,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(z,U),V.prototype={nodeName:"#comment",nodeType:p},r(V,U),q.prototype={nodeName:"#cdata-section",nodeType:s},r(q,U),G.prototype.nodeType=h,r(G,w),Y.prototype.nodeType=v,r(Y,w),W.prototype.nodeType=u,r(W,w),Q.prototype.nodeType=l,r(Q,w),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=m,r(K,w),J.prototype.nodeType=d,r(J,w),X.prototype.serializeToString=function(e,t,n){return Z.call(e,t,n)},w.prototype.toString=Z;try{if(Object.defineProperty){Object.defineProperty(S.prototype,"length",{get:function(){return T(this),this.$$length}}),Object.defineProperty(w.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case i:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case i:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.Node=w,t.DOMException=k,t.DOMImplementation=P,t.XMLSerializer=X},wlv8:function(e,t,n){!function(){"use strict";e.exports={inflate:n("IMPd"),deflate:n("3H5r")}}()},xKPd:function(e,t,n){"use strict";n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),p=n.n(d),f=(n("GKVU"),n("q1tI")),h=n.n(f),m=n("9mL2"),v=n("PJYZ"),y=n.n(v),g=(n("wLYn"),n("2B1R"),n("/MKj")),b=n("9z3s"),_=n("rod9"),E=n("6Sps"),k=n("6pb3"),O=n("LQZe"),S=n("GOkl"),T=n("hEHE"),R=n("LvGN"),C=n("Di+k"),N=n("tfB9"),x=n("INFm");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var w=function(e){s()(n,e);var t=P(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).updateCurrentPanel=r.updateCurrentPanel.bind(y()(r)),r.resetCurrentPanel=r.resetCurrentPanel.bind(y()(r)),r.state={currentPanel:null},r}return o()(n,[{key:"canModifyQueuelist",value:function(){var e=this.props,t=e.mediaType;return!e.playerIsRadio&&t===_.b.SONG}},{key:"getIds",value:function(){return(this.props.data.SONGS||[]).map((function(e){return e.SNG_ID}))}},{key:"renderMainPanel",value:function(){return h.a.createElement(C.a,{isVisible:null===this.state.currentPanel},h.a.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist()))}},{key:"renderPlaylistsPanel",value:function(){var e=this.props.context,t=this.state.currentPanel===x.a.panelName;return h.a.createElement(N.a,{isVisible:t},h.a.createElement(x.a,{isVisible:t,context:e,handleBackClick:this.resetCurrentPanel,ids:this.getIds()}))}},{key:"renderAddToPlaylist",value:function(){return h.a.createElement("li",null,h.a.createElement(S.a,{handleClick:this.updateCurrentPanel}))}},{key:"renderAddToQueue",value:function(){var e=this.props,t=e.context,n=e.id;return this.canModifyQueuelist()?h.a.createElement("li",null,h.a.createElement(T.a,{context:t,ids:[n],type:b.a.Smarttracklist})):null}},{key:"renderPlay",value:function(){var e=this.props,t=e.context,n=e.id;return this.canModifyQueuelist()?h.a.createElement("li",null,h.a.createElement(R.a,{action:O.a.PLAY_NEXT,context:t,ids:[n],type:b.a.Smarttracklist})):null}},{key:"resetCurrentPanel",value:function(){this.setState({currentPanel:null})}},{key:"updateCurrentPanel",value:function(e){e===x.a.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}},{key:"render",value:function(){return h.a.createElement(E.a,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}]),n}(f.Component),A=Object(k.a)(Object(g.c)((function(e){var t=e.player;return{mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio}}))(w)),I=n("OuPr"),j=n("3lCq");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var L=function(e){s()(n,e);var t=D(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).contextMenuId="",r.contextMenuId=Object(m.c)(),r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.context,a=t.data,i=t.id,o=t.placement;return h.a.createElement(j.a.Consumer,null,(function(t){var c={data:{context:r,data:a,id:i},hasArrow:!1,placement:o,popperId:t||e.contextMenuId,trigger:[I.d,I.f],usePortal:!0};return h.a.createElement(A,c,n)}))}}]),n}(f.Component);L.defaultProps={placement:"left"};t.a=L},xejk:function(e){e.exports=JSON.parse('{"default":{"center":false,"play":"force","preview":"off","favorite":"on","contextMenu":"on","dislike":"off"},"show_page":{"favorite":"off","contextMenu":"off"},"episodes_page":{"play":"off","favorite":"off","contextMenu":"off"},"topbar_popper_show":{"play":"on"}}')},y85T:function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return x}));n("SuFq");var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),m=(n("wLYn"),n("17x9"),n("q1tI")),v=n.n(m),y=n("iuhU"),g=n("+JhM"),b=n("KnFE");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var E=function(e){u()(n,e);var t=_(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isDisabled,r=Object(y.a)("dropdown-item",{hidden:n});return v.a.createElement("li",{className:r},t)}}]),n}(m.Component);E.defaultProps={isDisabled:!1};var k,O=E;function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var T="sm",R="md",C="lg",N="left",x="right",P=function(e){u()(n,e);var t=S(n);function n(e){var r;return a()(this,n),(r=t.call(this,e))._onToggle=r._onToggle.bind(s()(r)),r._onClose=r._onClose.bind(s()(r)),r.state={label:e.children[e.selected].props.label||e.label,isOpen:!1},r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.align,r=e.size,a=e.overflow,i=this.state,o=i.label,c=i.isOpen,s=Object(y.a)("dropdown",{"dropdown-active":this.state.isOpen}),l=Object(y.a)("dropdown-menu",{"is-right":n===x,"is-overflow":a}),u={size:r,iconRight:k||(k=v.a.createElement(b.a,null)),onClick:this._onToggle,variant:"outlined"};return v.a.createElement("span",{className:s},v.a.createElement(g.a,u,o),v.a.createElement("ul",{className:l,"aria-hidden":c},c?t:null))}},{key:"_onClose",value:function(){var e=this;this.setState({isOpen:!1},(function(){document.removeEventListener("click",e._onClose)}))}},{key:"_onToggle",value:function(e){var t=this;e&&e.stopPropagation();var n=!this.state.isOpen;this.setState({isOpen:n},(function(){n&&document.addEventListener("click",t._onClose)}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{label:e.children[e.selected].props.label||e.label}}}]),n}(m.Component);P.defaultProps={label:null,size:T,align:N,className:null,selected:0,overflow:!1},P.Item=O;t.f=P},yyme:function(e,t,n){var r=n("I+eb"),a=n("gdVl"),i=n("RNIs");r({target:"Array",proto:!0},{fill:a}),i("fill")},"z+rs":function(e){e.exports=JSON.parse('{"chromecast":true,"cover":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"seek":true,"skipBackwards":true,"skipForwards":true,"subTitle":{"id":"SHOW_ID","url":"/show/"},"timer":true,"title":{"id":"SHOW_ID","url":"/show/"},"userFeedback":false,"volume":true}')},zCn5:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("pVnL"),i=n.n(a),o=n("q1tI"),c=n.n(o),s=n("VPTF");function l(e){return c.a.createElement(s.a,i()({name:"download"},e),r||(r=c.a.createElement("path",{d:"M4.512 5H1.5L6 10l4.5-5h-3V0H4.512v5zM1 11.5c0-.276.228-.5.51-.5h8.98a.51.51 0 0 1 .51.5c0 .276-.228.5-.51.5H1.51a.51.51 0 0 1-.51-.5z"})))}},zdGh:function(e){e.exports=JSON.parse('{"chromecast":true,"contextMenu":true,"cover":true,"label":true,"like":true,"lyrics":true,"mute":true,"next":true,"pause":true,"play":true,"prev":true,"queuelist":true,"repeat":true,"seek":true,"shuffle":true,"subTitle":{"url":"/artist/"},"stop":false,"timer":true,"title":{"id":"ALB_ID","url":"/album/"},"userFeedback":true,"volume":true}')},"zs5+":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("iuhU"),s=n("IITy"),l=n.n(s);t.a=function(e){var t,n=e.children,r=e.isActive,s=void 0!==r&&r,u=e.isOnRight,d=void 0!==u&&u,p=e.isSmall,f=void 0!==p&&p,h=Object(i.cloneElement)(n,{size:f?"16":"24"}),m=Object(c.a)(l.a.root,(t={},a()(t,l.a.isActive,s),a()(t,l.a.isRight,d),a()(t,l.a.isSmall,f),t));return o.a.createElement("span",{className:m},h)}}}]);
//# sourceMappingURL=https://files.deezer.com/cache/js/route-naboo.a6f12a45563cf5c35b68.js.map.json
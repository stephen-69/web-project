(window.webpackJsonpDeezer=window.webpackJsonpDeezer||[]).push([[164],{"+Zht":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("lwsE"),a=r.n(n),i=r("W8MJ"),o=r.n(i),s=(r("4mDm"),r("rOQg"),r("07d7"),r("XMab"),r("moxL"),r("qXVe"),r("c162"),r("waxf"),r("0TkE"),r("Onu3"),r("1dYe"),r("gvgV"),r("6R/c"),r("YL0P"),r("X5Zq"),r("MoCz"),r("P8wP"),r("ypFw"),r("JaFt"),r("zSZm"),r("PF2M"),r("KVSy"),r("ZJ55"),r("IZzc"),r("Fwt+"),r("s5qe"),r("cvf0"),r("oVuX"),r("2B1R"),r("+2oP"),r("pjDv"),r("PKPk"),r("TZCg"),r("DQNa"),r("JfAA"),r("Yqki")),u=r("DLNI"),c=r("zztU");var f=function(){function e(t,r){var n=t.format.codec;a()(this,e),this._callback=void 0,this._codec=void 0,this._callback=r,this._codec=n}return o()(e,[{key:"TransformStream",get:function(){var e=this._callback,t=this._codec;return new s.b({transform:function(r,n){var a,i="buffer"in r?r.buffer:r,o=i.absoluteOffset,s=new Uint8Array(i);if(0===o&&t===u.Codec.MP3&&!(73===(a=s)[0]&&68===a[1]&&51===a[2]||255===a[0]&&a[1]>=224&&1!=(a[1]>>3&3))){var f=Array.from(s).slice(0,8).map((function(e){return e.toString(16).padStart(2,"0").toUpperCase()})).join(" ");"00 00 00 00"===f.substr(0,11)?e(new c.f(f)):e(new c.a(f))}n.enqueue(r)}})}}]),e}()},"15ee":function(e,t,r){"use strict";r.r(t);r("tkto"),r("pNMO"),r("5DmW"),r("QWBl"),r("FZtP"),r("27RR"),r("HRxU"),r("eoL8"),r("pjDv"),r("PKPk"),r("4Brf"),r("0oug"),r("4mDm"),r("3bBZ");var n=r("J4zp"),a=r.n(n),i=r("yXPU"),o=r.n(i),s=r("lwsE"),u=r.n(s),c=r("W8MJ"),f=r.n(c),l=r("QILm"),d=r.n(l),h=r("RIqP"),b=r.n(h),p=r("lSNA"),m=r.n(p),v=r("o0o1"),y=r.n(v),g=(r("sMBO"),r("U3f4"),r("wLYn"),r("fbCW"),r("07d7"),r("5s+n"),r("8AyJ"),r("qePV"),r("kSko"),r("E9XD"),r("2B1R"),r("TeQF"),r("T63A"),r("LKBx"),r("ma9I"),r("yq1k"),r("JTJg"),r("+2oP"),r("yXV3"),r("J30X"),r("rB9j"),r("UxlC"),r("L65Z")),w=r("ihv3"),_=r("Ly2M"),k=r("zztU"),O=r("nXFM"),P=r("WxCf"),S=r.n(P),E=r("AbCW"),x=r.n(E),T=(r("rOQg"),r("XMab"),r("moxL"),r("qXVe"),r("c162"),r("waxf"),r("0TkE"),r("Onu3"),r("1dYe"),r("gvgV"),r("6R/c"),r("YL0P"),r("X5Zq"),r("MoCz"),r("P8wP"),r("ypFw"),r("JaFt"),r("zSZm"),r("PF2M"),r("KVSy"),r("ZJ55"),r("IZzc"),r("Fwt+"),r("s5qe"),r("cvf0"),r("lPux")),M=r("Mry7"),L=function(){function e(t){u()(this,e),this._track=t}return f()(e,[{key:"TransformStream",get:function(){return new T.TransformStream(new M.a(this._track))}}]),e}();L.block=2048,L.chunk=3*L.block,L.min=10*L.chunk;var R=r("+Zht"),A=(r("oVuX"),r("DQNa"),r("JfAA"),r("xAet")),j=r("5vA9"),I=r("DLNI"),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,e);var n=t.format||{},a=n.codec,i=void 0===a?I.Codec.MP3:a;Object.defineProperty(this,"codec",{value:i}),Object.defineProperty(this,"metadata",{value:r}),Object.defineProperty(this,"track",{value:t})}return f()(e,[{key:"TransformStream",get:function(){var e=this.codec,t=this.metadata,n=this.track,a=new A.a;return new T.TransformStream({transform:function(i,s){return o()(y.a.mark((function o(){var u,c,f,l,d,h;return y.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r("ilPp")("./".concat(e,"Parser"));case 2:u=o.sent,c=u.default,f=a.merge(i),l=c.frames(f,t),d=l.reduce((function(e,t){return e+t.size}),0),a.save(f.buffer,d?l[0].offset+d:0),d?(f.buffer.frames=l,s.enqueue(new Uint8Array(f.buffer,l[0].offset,d))):f.buffer.last&&(h={length:f.byteLength,offset:f.buffer.absoluteOffset,start:Array.from(f.slice(0,16)).map((function(e){return e.toString(16).toUpperCase()})).join()},j.a.log(new Error("Could not parse the end of this ".concat(e," file. Chunk: {length: ").concat(h.byteLength,", offset: ").concat(h.offset,", start: ").concat(h.start,"}.")),n),s.enqueue(new Uint8Array(f.buffer,0,0)));case 9:case"end":return o.stop()}}),o)})))()}})}}]),e}(),U=r("TmBO"),C=r("8VJL"),D=r("6hMn"),q=r("i02G"),F=r("cDf5"),z=r.n(F),V=r("g+KV"),W={},B={};if(V.a.HTML5Renderer){var Z=document.head.appendChild(document.createElement("iframe"));B={Array:{forEach:Z.contentWindow.Array.prototype.forEach},Function:{toString:Z.contentWindow.Function.prototype.toString},Object:{defineProperty:Z.contentWindow.Object.defineProperty,freeze:Z.contentWindow.Object.freeze,getOwnPropertyDescriptor:Z.contentWindow.Object.getOwnPropertyDescriptor,getOwnPropertyNames:Z.contentWindow.Object.getOwnPropertyNames,setPrototypeOf:Z.contentWindow.Object.setPrototypeOf,toString:Z.contentWindow.Object.prototype.toString},URL:{createObjectURL:Z.contentWindow.URL.createObjectURL}},self.URL.createObjectURL&&(B.URL.createObjectURL=B.Function.toString.call(self.URL.createObjectURL)===Z.contentWindow.URL.createObjectURL.toString()?self.URL.createObjectURL:B.URL.createObjectURL,B.Object.freeze(self.URL),B.Object.defineProperty(self,"URL",{configurable:!1,writable:!1})),B.Array.forEach.call(["MediaSource","ArrayBuffer","ReadableStream","SourceBuffer","TransformStream","Worker","WritableStream"],(function(e){if(self[e]=self[e]||function(){},["MediaSource","SourceBuffer"].indexOf(e)>-1&&Z.contentWindow[e]){var t=B["function"==typeof self[e]?"Function":"Object"].toString.call(self[e])===Z.contentWindow[e].toString()&&function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={get:1,set:1,value:1},a=B.Object.getOwnPropertyNames(t);e=a.shift();){var i=B.Object.getOwnPropertyDescriptor(t,e),o=B.Object.getOwnPropertyDescriptor(r,e);for(var s in n)if({}.hasOwnProperty.call(n,s)&&s in i&&(z()(o[s])!==z()(i[s])||"function"==typeof o[s]&&B.Function.toString.call(i[s])!==o[s].toString()))return!1}return!0}(self[e].prototype,Z.contentWindow[e].prototype);W[e]=t?self[e]:Z.contentWindow[e],t||"MediaSource"===e||(W.MediaSource=Z.contentWindow.MediaSource)}B.Object.freeze(self[e].prototype),B.Object.freeze(self[e]),B.Object.defineProperty(self,e,{configurable:!1,writable:!1})})),document.head.removeChild(Z)}var X=r("Purp"),G=r("8Ftv");function J(e){var t=this;return this.queue=this.queue||Promise.resolve(),this.queue=this.queue.then((function(r){return new Promise((function(n){function a(){t.removeEventListener("updateend",a),n(e(r))}t.updating?t.addEventListener("updateend",a):a()}))})),this}var H=function(){function e(t){var n=this;u()(this,e),this.isCached=!1;var a=this;Object.defineProperty(this,"codec",{value:t.format.codec}),Object.defineProperty(this,"duration",{value:t.duration}),Object.defineProperty(this,"size",{value:t.size}),this._track=t,this._decrypter=t.encrypted?new L(t):void 0,this._source=new W.MediaSource,this._streamer=new U.a(t,q.default.get.bind(q.default)),this._activeCues=[],this._cues=[];var i=function(){var e=o()(y.a.mark((function e(){var a,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._streamer.ready();case 2:return n.isCached=n._streamer.fromCache,e.next=5,n.metadata;case 5:if(n._metadata=e.sent,n._parser=new N(t,n._metadata),n._mp3Checker=new R.a(t,(function(e){return(n.onError||X.a)(e)})),n.codec===I.Codec.MP3&&new W.MediaSource&&W.MediaSource.isTypeSupported(G.a.MP3)){e.next=14;break}return e.next=11,r.e(166).then(r.bind(null,"cHeG"));case 11:a=e.sent,i=a.default,n._muxer=new i(t,n._metadata);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.ready=Promise.all([i(),new Promise((function(e,t){n._onSourceOpen=function(){function r(e){var t=a._source.addSourceBuffer(e);return W.SourceBuffer&&W.SourceBuffer!==self.SourceBuffer&&B.Object.setPrototypeOf(t,W.SourceBuffer.prototype),t.enqueue=J,t}new W.MediaSource,"open"===a._source.readyState&&isNaN(a._source.duration)&&(a._source.duration=a.duration,a.codec===I.Codec.FLAC&&(W.MediaSource.isTypeSupported(G.a.FLAC_IN_MP4)?(a._buffer=r(G.a.FLAC_IN_MP4),e()):t(new Error("No decoder available."))),a.codec===I.Codec.MP3&&(W.MediaSource.isTypeSupported(G.a.MP3)?(a._buffer=r(G.a.MP3),e()):W.MediaSource.isTypeSupported(G.a.MP3_IN_MP4)?(a._buffer=r(G.a.MP3_IN_MP4),e()):t(new Error("No decoder available."))))},a._source.addEventListener("sourceopen",n._onSourceOpen)}))])}var t;return f()(e,[{key:"load",value:(t=o()(y.a.mark((function e(){var t,r,n,a,i,o,s=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:Math.floor(((this._metadata||{}).size||0)/L.chunk)*L.chunk,e.next=3,this._streamer.abort();case 3:return r={TransformStream:new T.TransformStream},n=(this._decrypter||r).TransformStream,a=(this._muxer||r).TransformStream,i=this._parser.TransformStream,o=this._mp3Checker.TransformStream,e.abrupt("return",this.ReadableStream(t).pipeThrough(n,{reject:X.a}).pipeThrough(i,{reject:X.a}).pipeThrough(o,{reject:X.a}).pipeThrough(a,{reject:X.a}).pipeTo(this.WritableStream).catch(X.a));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"metadata",get:function(){var e=this;return o()(y.a.mark((function t(){var n,a,i,s,u,c,f,l,d,h,b,p;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=function(){return(l=x()(y.a.mark((function e(){var t,r,a,i,s,c,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.ceil(n.size/L.min),a=new A.a,i=1;case 3:if(!(i<r)){e.next=23;break}return s=n._streamer.fetch({size:t||i*L.min}).getReader(),e.next=7,S()(s.read().then(function(){var e=o()(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.done,n=t.value,e.t0=r,r){e.next=8;break}return e.next=5,u({value:n});case 5:e.t1=e.sent,e.next=9;break;case 8:e.t1=void 0;case 9:return e.t2=e.t1,e.abrupt("return",{done:e.t0,value:e.t2});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:c=e.sent;case 8:if(c.done){e.next=20;break}if(!c.value){e.next=15;break}return f=a.merge(c.value),e.next=13,f;case 13:t=e.sent,a.save(f);case 15:return e.next=17,S()(s.read().then(function(){var e=o()(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.done,n=t.value,e.t0=r,r){e.next=8;break}return e.next=5,u({value:n});case 5:e.t1=e.sent,e.next=9;break;case 8:e.t1=void 0;case 9:return e.t2=e.t1,e.abrupt("return",{done:e.t0,value:e.t2});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:c=e.sent,e.next=8;break;case 20:i++,e.next=3;break;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},f=function(){return l.apply(this,arguments)},c=function(){return(c=o()(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,e.next=3,s.transform(r,{enqueue:function(e){n=e}});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return c.apply(this,arguments)},!e._metadata){t.next=6;break}return t.abrupt("return",e._metadata);case 6:if(e.codec===I.Codec.FLAC){t.next=8;break}return t.abrupt("return",{});case 8:return n=e,t.next=11,r("ilPp")("./".concat(e.codec,"Parser"));case 11:return a=t.sent,i=a.default,s=new M.a(e._track),d=function(e){return{done:!0,error:e instanceof C.a?e:new g.e}},h=f(),t.next=18,h.next().catch(d);case 18:b=t.sent;case 19:if(b.done||p){t.next=34;break}t.prev=20,p=i.metadata(b.value),t.next=32;break;case 24:if(t.prev=24,t.t0=t.catch(20),!(t.t0 instanceof k.c)){t.next=31;break}return t.next=29,h.next(t.t0.needed).catch(d);case 29:return b=t.sent,t.abrupt("continue",19);case 31:throw t.t0;case 32:t.next=19;break;case 34:if(!b.error){t.next=36;break}throw b.error;case 36:return t.abrupt("return",p);case 37:case"end":return t.stop()}}),t,null,[[20,24]])})))()}},{key:"release",value:function(){URL.revokeObjectURL(this._url),this._source.removeEventListener("sourceopen",this._onSourceOpen)}},{key:"seek",value:function(e){for(var t=this._buffer.buffered.length,r=this.duration*e,n=0;n<t;n++)if(r>this._buffer.buffered.start(n)&&r<this._buffer.buffered.end(n))return;delete this._readable,delete this._writable;var a=this,i=Math.floor(this.size*e/L.chunk)*L.chunk;if(this._metadata.seektable&&this._metadata.seektable.length){var o=this._metadata.streaminfo.samples||this.duration*this._metadata.streaminfo.sampling,s=Math.floor(o*e),u=this._metadata.seektable.table.reduce((function(e,t){return t.number>s?e:t})),c=this._metadata.seektable.table[this._metadata.seektable.table.indexOf(u)+1]||{number:o,offset:this.size-this._metadata.size},f=Math.floor((c.offset-u.offset)/(c.number-u.number)*(s-u.number));i=this._metadata.size+u.offset+f,i=Math.floor(i/L.chunk)*L.chunk}this._buffer.enqueue((function(){return a._buffer.remove(0,Math.max(a.duration,a._buffer.buffered.length?a._buffer.buffered.end(0):0))})).enqueue((function(){return a._buffer.timestampOffset=r})).enqueue((function(){a.load(i)}))}},{key:"stop",value:function(){return this._streamer?this._streamer.abort():Promise.resolve()}},{key:"loaded",get:function(){return this._streamer.progress}},{key:"url",get:function(){return this._url=this._url||B.URL.createObjectURL(this._source)}},{key:"ReadableStream",value:function(t){var r=new Uint8Array(0);function n(t){var n=Math.min(e.bytes,t.byteLength),a=new Uint8Array(t.buffer,t.byteOffset,n);return r=new Uint8Array(a.buffer,a.byteOffset+n,t.byteLength-a.byteLength),a}var a=this,i=this._readable=new D.a({type:"bytes",start:function(){this.reader=a._streamer.fetch({offset:t}).getReader()},pull:function(e){return a._readable!==i?(e.close(),Promise.reject(new Error("This ReadableStream has been detached."))):r.byteLength?(e.enqueue(n(r)),Promise.resolve()):this.reader.read().then((function(t){return t.done?t.done:e.enqueue(n(t.value))})).catch((function(e){return(a.onError||X.a)(e)}))}});return i}},{key:"WritableStream",get:function(){var t=this,r=this._writable=new T.WritableStream({write:function n(a){return new Promise((function(i,o){return t._writable!==r?o(new Error("This WritableStream has been detached.")):t._buffer.enqueue((function(){try{t._muxer&&t._buffer.buffered.length&&(t._buffer.timestampOffset=t._buffer.buffered.end(0))}catch(e){if("QuotaExceededError"!==e.name&&"InvalidStateError"!==e.name)throw e}})).enqueue((function(){try{return t._buffer.appendBuffer(a)}catch(e){if("QuotaExceededError"!==e.name&&"InvalidStateError"!==e.name)throw e;return e}})).enqueue((function(r){if(t._cues=[],t._activeCues=[],(a.buffer||a).last)return t._source.endOfStream(),i();try{var s=t._buffer.buffered;if(!s.length)return i();var u=s.start(0),c=s.end(0);return r&&"QuotaExceededError"===r.name?(t._cues.push({start:c-(c-u)/2,end:c,onenter:function(){var e=this;t._buffer.enqueue((function(){return t._buffer.remove(t._buffer.buffered.start(0),e.start-1)})).enqueue((function(){n(a).then(i).catch(o)}))}}),null):c-u<e.seconds?i():(t._cues.push({start:Math.max(c-e.seconds/2,0),end:c,onenter:function(){var e=this;t._buffer.enqueue((function(){return t._buffer.remove(t._buffer.buffered.start(0),e.start-1)})).enqueue(i)}}),null)}catch(e){return o(new Error("Cannot continue to flush, the player is errored."))}}))}))}});return r}}]),e}();H.bytes=10240,H.listeners={timeupdate:function(e){if(this._cues.length){var t=this;this._activeCues=this._activeCues.filter((function(t){return e>=t.start&&e<=t.end})),this._cues.forEach((function(r){-1===t._activeCues.indexOf(r)&&e>=r.start&&e<=r.end&&(t._activeCues.push(r),r.onenter())}))}}},H.seconds=30;var K=r("a21b"),Q=r("v9NM"),Y=r("qOMa"),$=r("oTIo"),ee=r("l4nf"),te=r("aMzX"),re=r("vVa8"),ne=r("MST+"),ae=r("rod9"),ie=["ID"];function oe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e){var t=e.audio_qualities||{};return ce(ce({},e),{},{audio_qualities:{mobile_download:b()(t.mobile_download||[]),mobile_streaming:b()(t.mobile_streaming||[]),wifi_download:b()(t.wifi_download||[]),wifi_streaming:b()(t.wifi_streaming||[])}})}function le(e,t){var r=ce(ce({},e.getContext()),{},{id:t.id,format:t.format.name,type:e.getMediaType()});r.ID;return d()(r,ie)}var de=function(){function e(t){var r=this;u()(this,e),this._autoskip=0;var n=Object(te.a)(this),a=this;for(var i in this.bridge=t,this.element=document.createElement("audio"),this.flags={},n.settings={},this.settings={get normalized(){return Boolean(n.settings.normalized)},set normalized(t){n.settings.normalized=Boolean(t),a.gain=n.settings.normalized&&a.track?Math.min(e.dBtoLUFS(a.track.gain),1):1}},e.listeners)({}).hasOwnProperty.call(e.listeners,i)&&this.element.addEventListener(i,e.listeners[i].bind(this));this.ready=O.a.singleton.post({token:re.a.getState().user.PLAYER_TOKEN||""}).then((function(e){Object(te.a)(r).license=e,r.bridge.setPropValue("user_status",fe(e)),r.quality=r.quality,r.bridge.setPropValue("playerLoaded",!0)}))}return f()(e,[{key:"load",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.retry,i=void 0===a?0:a;if(this.track=t,this.gain=this.settings.normalized?Math.min(e.dBtoLUFS(t.gain),1):1,this.source&&(this.source.stop().catch(X.a),this.source.release(),this.bridge.setPropValue("playing",!1),this.bridge.setPropValue("paused",!1)),e.listeners.quality.call(this,Object(Y.f)(t.format)),!t.encrypted)return delete this.source,this.flags.seeking=t.offset,this.element.src=t.url,void this.element.load();this.bridge.setLogQuality(t.format.name);var s=t.offset/t.duration,u=this.source=new H(t);this.element.src=this.source.url,u.onError=function(){var n=o()(y.a.mark((function n(a){var o,c,f,l,d,h,b,p;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a instanceof g.a)){n.next=2;break}return n.abrupt("return");case 2:if((Object(k.g)(a)||a instanceof k.f)&&j.a.log(a,ce(ce({},t),{},{sources:u._streamer._urls,containerType:le(r.bridge,r.track).TYPE})),!(a instanceof k.e)){n.next=6;break}return r.load(ce(ce({},t),{},{media:a.media,offset:s}),{retry:i}),n.abrupt("return");case 6:if(!(a instanceof k.d)){n.next=9;break}return r.load(ce(ce({},t),{},{buffer:a.buffer,offset:s}),{retry:i}),n.abrupt("return");case 9:if(!(a instanceof K.d||a instanceof K.g||a instanceof K.n||a instanceof K.z)){n.next=24;break}if(!(i<1)){n.next=22;break}return n.prev=11,n.next=14,r.bridge.renewLicense();case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(11),r.load(ce(ce({},t),{},{media:new K.v("Failed to renew the license token",{error:n.t0,track:t})})),n.abrupt("return");case 20:return r.load(t,{retry:i+1}),n.abrupt("return");case 22:return r.load(ce(ce({},t),{},{media:new K.v("Got a expired/invalid license token error after retry",{error:a,track:t})})),n.abrupt("return");case 24:if(!(a instanceof K.e||a instanceof K.i||a instanceof K.q||a instanceof K.A)){n.next=39;break}if(!(i<1)){n.next=37;break}return n.prev=26,n.next=29,t.renewToken();case 29:n.next=35;break;case 31:return n.prev=31,n.t1=n.catch(26),r.load(ce(ce({},t),{},{media:new K.v("Failed to renew the track token",{error:n.t1,track:t})})),n.abrupt("return");case 35:return r.load(t,{retry:i+1}),n.abrupt("return");case 37:return r.load(ce(ce({},t),{},{media:new K.v("Got a expired/invalid track token error after retry",{error:a,track:t})})),n.abrupt("return");case 39:if(!(a instanceof K.f)){n.next=45;break}if(!(i<1)){n.next=43;break}return r.load(t,{retry:i+1}),n.abrupt("return");case 43:return r.load(ce(ce({},t),{},{media:new K.v("Got an expired URL after retry",{error:a,track:t})})),n.abrupt("return");case 45:if(!(a instanceof k.b)){n.next=53;break}if(o=Object(Y.d)(a.received),!(c=t.sources.find((function(e){return e.format===o})))){n.next=51;break}return r.load(ce(ce({},t),{},{format:o,offset:s,media:a.media,size:c.size}),{retry:i}),n.abrupt("return");case 51:return r.load(ce(ce({},t),{},{media:new K.v("Could not find a substitution source after FormatMistmatch",{error:a,track:t})})),n.abrupt("return");case 53:if(!(a instanceof g.e||a instanceof K.k||a instanceof g.b||a instanceof K.u)){n.next=70;break}if(!(i<1)){n.next=57;break}return r.load(ce(ce({},t),{},{media:new K.v("Could not reach the media file server",{error:a,track:t})}),{retry:i+1}),n.abrupt("return");case 57:if(f=re.a.getState(),l=f.cache,d=(l[t.type]||{})[t.id]||(l[t.type]||{})[t.idOrigin],h=Boolean((d||{}).downloaded),!d||!h||"persisted"in t){n.next=65;break}return b=Object(Y.c)(d.format)||Q.c,p=t.sources.find((function(e){return e.format===b})),r.load(ce(ce({},t),{},{fallback:d.fallback?ce(ce({},d.fallback),{},{size:p.size}):void 0,format:b,size:p.size})),n.abrupt("return");case 65:if(a.status){n.next=70;break}if(!(r._autoskip<3)){n.next=70;break}return r._autoskip++,e.listeners.ended.call(r),n.abrupt("return");case 70:if(a instanceof g.b&&j.a.log(a,t),!(a instanceof K.w)){n.next=74;break}return r.load(ce(ce({},t),{},{media:new K.v(a.message,{error:a,track:t})})),n.abrupt("return");case 74:e.listeners.error.call(r,a instanceof K.v?a.details.error:a);case 75:case"end":return n.stop()}}),n,null,[[11,16],[26,31]])})));return function(e){return n.apply(this,arguments)}}(),this.source.ready.then((function(){r.bridge.setLogCacheStatus(r.source.isCached),s?(r.flags.seeking=t.offset,u.seek(s)):u.load()})).catch(u.onError)}},{key:"pause",value:function(){return this.element.pause()||Promise.resolve()}},{key:"play",value:function(){return this.element.play()||Promise.resolve()}},{key:"seek",value:function(e){if(this.element.error)return this.track.offset=e*this.track.duration,void this.load(this.track);var t=this.limited?Math.min(Y.b,this.element.duration):this.element.duration;Number.isFinite(t)&&(this.flags.wasPlaying="wasPlaying"in this.flags?this.flags.wasPlaying:!this.element.paused,this.element.pause(),this.element.currentTime=e*t)}},{key:"stop",value:function(){return this.pause(),this.element.src="",this.source?this.source.stop():Promise.resolve()}},{key:"gain",get:function(){var e=Object(te.a)(this).gain;return void 0!==e?e:1},set:function(e){var t=Object(te.a)(this);e=Number(e),t.gain=Number.isNaN(e)?1:e,this.volume=void 0!==t.volume?t.volume:this.element.volume}},{key:"limited",get:function(){return Boolean((Object(te.a)(this).license||{}).limited)&&!(this.bridge.isRadio()&&this.bridge.isWidget())},set:function(e){(Object(te.a)(this).license||{}).limited=Boolean(e)}},{key:"muted",get:function(){return this.element.muted},set:function(e){this.element.muted=Boolean(e)}},{key:"mute",get:function(){return this.muted},set:function(e){this.muted=e}},{key:"quality",get:function(){return Object(te.a)(this).quality||G.b.STANDARD},set:function(e){var t=Object(te.a)(this).license||{},r=Object.entries(t.audio_qualities||{}).filter((function(e){return!a()(e,1)[0].startsWith("connected_device")})).map((function(e){return a()(e,2)[1]})).reduce((function(e,t){return[].concat(b()(e),b()(t))}),[]);e!==G.b.LOSSLESS||r.includes(G.b.LOSSLESS)||(e=G.b.HIGH),e!==G.b.HIGH||r.includes(G.b.HIGH)||(e=G.b.STANDARD),Object(te.a)(this).quality=e}},{key:"volume",get:function(){var e=Object(te.a)(this).volume;return void 0!==e?e:this.element.volume/this.gain},set:function(e){e=Number(e);var t=Object(te.a)(this).volume=Number.isNaN(e)?1:e;this.element.volume=t*this.gain}}],[{key:"dBtoLUFS",value:function(t){return t="number"!=typeof t||Number.isNaN(t)?e.TARGET:t,Math.pow(10,(e.TARGET-t)/20)}},{key:"noop",value:function(){}},{key:"LUFStodB",value:function(t){return t="number"!=typeof t||Number.isNaN(t)?1:t,e.TARGET-Math.log(t)*Math.LOG10E*20}}]),e}();de.legacy={audioPlayer_pause:de.prototype.pause,audioPlayer_seek:de.prototype.seek,audioPlayer_play:function(){this.play().catch((function(){}))},audioPlayer_playTracks:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.bridge.setPropValue("position",0),this.bridge.setPropValue("prcPosition",0),this.bridge.setPropValue("pourcentLoaded",100),this.bridge.setPropValue("loading",!1),this.element.autoplay=Boolean(r);var i=e[0];if(void 0!==i){var o=0,s=Q.g,u=0;this.quality===G.b.HIGH?s=[Q.f].concat(b()(Q.g.slice(Q.g.indexOf(Q.d)))):this.quality===G.b.STANDARD?s=[Q.f].concat(b()(Q.g.slice(Q.g.indexOf(Q.c)))):this.quality===G.b.LOW&&(s=[Q.f].concat(b()(Q.g.slice(Q.g.indexOf(Q.e)))));var c,f=oe(s);try{for(f.s();!(c=f.n()).done&&(o=c.value,!(u=Number(i["FILESIZE_".concat(o.name)]))););}catch(e){f.e(e)}finally{f.f()}u||(u=Number(i.FILESIZE),o=Q.c);var l={duration:Number(i.DURATION)||Math.round(8*u/(1e3*o.bitrate)),encrypted:!0,format:o,gain:Number(i.GAIN),id:"".concat(i.id||i.SNG_ID||i.EPISODE_ID),idOrigin:i.SNG_ID_ORIGIN,md5:i.MD5_ORIGIN||"",offset:Number(a.offset||i.OFFSET)||0,size:u,sources:ee.d.parser.sources(i),token:new $.a(i.TRACK_TOKEN,{expire:i.TRACK_TOKEN_EXPIRE}),type:ee.d.parser.type(i),version:Number(i.MEDIA_VERSION),renewToken:function(){return n.bridge.renewToken(l)},legacy:i},d={encrypted:!1,gain:Number(i.GAIN),url:(i.MEDIA||[]).filter((function(e){return"preview"===e.TYPE})).map((function(e){return Array.isArray(e.HREF)?e.HREF[0]:e.HREF})).shift()};if(Number(i.SHOW_IS_DIRECT_STREAM)&&i.EPISODE_DIRECT_STREAM_URL&&i.EPISODE_DIRECT_STREAM_URL.length)return _.b.mark(_.a.FETCH_REQUEST),this.load({encrypted:!1,format:Q.a,id:i.EPISODE_ID,containerId:i.SHOW_ID,offset:this.limited?0:l.offset,url:i.EPISODE_DIRECT_STREAM_URL});if(Number(i.LIVE_STREAM)||Number(i.EXTERNAL))return this.load({encrypted:!1,format:Q.a,url:l.md5});if(l.md5||d.url)return i.TOKEN&&0===re.a.getState().user.id?O.a.singleton.post({id:i.REPLACED_SNG_ID||l.id,timestamp:Object(ne.g)(re.a.getState().user),token:i.TOKEN}).then((function(e){return n.load(e&&l.md5?l:d)})):this.limited?this.bridge.getMediaType()===ae.b.EPISODE?null:this.load(d):this.load(l)}},audioPlayer_mute:function(e){this.muted=Boolean(e)},audioPlayer_setToken:function(e){var t=this;O.a.singleton.post({token:e}).then((function(e){Object(te.a)(t).license=e,t.bridge.setPropValue("user_status",fe(e)),t.quality=t.quality}))},audioPlayer_setVolume:function(e){this.volume=Number(e)},audioPlayer_stop:function(e){e?this.pause():(this.stop(),this.bridge.setPropValue("playing",!1),this.bridge.setPropValue("paused",!1))}},de.listeners={durationchange:function(){Number.isFinite(this.element.duration)&&this.bridge.setPropValue("duration",this.element.duration)},ended:function(){var e="finish";e+="ads"===this.bridge.getPlayerType()?"Ads":"",this.bridge.setPropValue(e,!0)},error:function(e){this.track&&(this.track.containerId&&(_.b.mark(_.a.FETCH_RESPONSE),_.b.log({podcastId:String(this.track.containerId),episodeId:String(this.track.id),url:this.element.src,response:this.element.error})),this.element.error&&this.element.error.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&this.element.src===window.location.href.replace(window.location.hash,"")||(this.element.error&&j.a.log(this.element.error,this.track),this.bridge.setPropValue("onError",e)))},loadedmetadata:function(){this.track.containerId&&(_.b.mark(_.a.FETCH_RESPONSE),_.b.log({podcastId:String(this.track.containerId),episodeId:String(this.track.id),url:this.element.src,response:206})),this.flags.seeking&&(this.element.currentTime=this.flags.seeking)},pause:function(){if(this.track.format){var e=le(this.bridge,this.track);w.b.measure(w.b.TIME_TO_PAUSE,e)}this.bridge.setPropValue("playing",!1),this.bridge.setPropValue("paused",!0)},playing:function(){if(this._autoskip=0,this.track.format){var e=le(this.bridge,this.track);w.b.measure(w.b.TIME_TO_NEXT,e),w.b.measure(w.b.TIME_TO_PLAY,e),w.b.measure(w.b.TIME_TO_PREVIOUS,e),w.b.measure(w.b.TIME_TO_RESUME,e)}this.bridge.setPropValue("playing",!0),this.bridge.setPropValue("paused",!1)},quality:function(e){this.bridge.setPropValue("qualityChanged",e)},seeked:function(){if(this.track.format){var e=le(this.bridge,this.track);w.b.measure(w.b.TIME_TO_SEEK,e)}this.bridge.setPropValue("seekCompleted",this.element.currentTime),(this.flags.wasPlaying||this.element.autoplay)&&this.element.play(),delete this.flags.seeking,delete this.flags.wasPlaying},seeking:function(){this.source&&!this.flags.seeking&&this.source.seek(this.element.currentTime/this.element.duration)},timeupdate:function(){var e=this.element.currentTime;this.bridge.setPropValue("position",e),this.bridge.setPropValue("prcPosition",e/this.element.duration),e>=Y.b&&this.limited?de.listeners.ended.call(this):this.source&&H.listeners.timeupdate.call(this.source,e)}},de.TARGET=-15;t.default=de},AbCW:function(e,t,r){var n=r("sP1I");e.exports=function(e){return function(){return new n(e.apply(this,arguments))}},e.exports.default=e.exports,e.exports.__esModule=!0},Mry7:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("lwsE"),a=r.n(n),i=r("W8MJ"),o=r.n(i),s=(r("wZ/5"),r("rOQg"),r("07d7"),r("4mDm"),r("XMab"),r("moxL"),r("qXVe"),r("c162"),r("waxf"),r("0TkE"),r("Onu3"),r("1dYe"),r("gvgV"),r("6R/c"),r("YL0P"),r("X5Zq"),r("MoCz"),r("P8wP"),r("ypFw"),r("JaFt"),r("zSZm"),r("PF2M"),r("KVSy"),r("ZJ55"),r("IZzc"),r("Fwt+"),r("s5qe"),r("cvf0"),r("5s+n"),r("orQ7")),u=r("wynh"),c=r("nXFM"),f=r("xAet"),l=function(){function e(t){var r=t.id;a()(this,e),this._id=void 0,this._retainer=new f.a;var n=Object(s.b)({itemType:u.b.FEATURE,itemName:"ForceDecryptionError"});this._id=!0===n?"0":r}return o()(e,[{key:"transform",value:function(e,t){var r=this._retainer.merge(e),n=r.byteOffset+r.length===r.buffer.byteLength,a=n?r.length:61440*Math.floor(r.length/61440);if(this._retainer.save(r.buffer,r.byteOffset+a,r.length-a),a){var i=new ArrayBuffer(a);return new Uint8Array(i).set(new Uint8Array(r.buffer,r.byteOffset,a)),c.a.singleton.post({id:this._id,buffer:i},[i]).then((function(e){e.absoluteOffset=r.byteOffset,e.last=n,t.enqueue(e)}))}return Promise.resolve()}}]),e}()},U3f4:function(e,t,r){var n=r("g6v/"),a=r("m/L8"),i=r("rW0t"),o=r("0Dky");n&&o((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&a.f(RegExp.prototype,"flags",{configurable:!0,get:i})},WxCf:function(e,t,r){var n=r("gxEx");e.exports=function(e){return new n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},gxEx:function(e,t){e.exports=function(e){this.wrapped=e},e.exports.default=e.exports,e.exports.__esModule=!0},ilPp:function(e,t,r){var n={"./FLACParser":["asrY",163],"./MP3Parser":["zwG+",165]};function a(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((function(){return r(a)}))}a.keys=function(){return Object.keys(n)},a.id="ilPp",e.exports=a},sP1I:function(e,t,r){var n=r("gxEx");function a(e){var t,r;function a(t,r){try{var o=e[t](r),s=o.value,u=s instanceof n;Promise.resolve(u?s.wrapped:s).then((function(e){u?a("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){i("throw",e)}}function i(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(i,o){var s={key:e,arg:n,resolve:i,reject:o,next:null};r?r=r.next=s:(t=r=s,a(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}a.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)},e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},xAet:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("lwsE"),a=r.n(n),i=r("W8MJ"),o=r.n(i),s=(r("4mDm"),r("rOQg"),r("07d7"),r("XMab"),r("moxL"),r("qXVe"),r("c162"),r("waxf"),r("0TkE"),r("Onu3"),r("1dYe"),r("gvgV"),r("6R/c"),r("YL0P"),r("X5Zq"),r("MoCz"),r("P8wP"),r("ypFw"),r("JaFt"),r("zSZm"),r("PF2M"),r("KVSy"),r("ZJ55"),r("IZzc"),r("Fwt+"),r("s5qe"),r("cvf0"),r("wZ/5"),function(){function e(){a()(this,e),this.absoluteOffset=0,this.view=new Uint8Array(0)}return o()(e,[{key:"merge",value:function(e){if(e instanceof ArrayBuffer){if(this.view.length&&this.absoluteOffset+this.view.length===e.absoluteOffset){var t=new Uint8Array(this.view.length+e.byteLength);return t.set(this.view),t.set(new Uint8Array(e),this.view.length),t.buffer.absoluteOffset=e.absoluteOffset-this.view.length,t.buffer.last=e.last,t}return new Uint8Array(e)}return this.view.length&&this.view.byteOffset+this.view.length===e.byteOffset?new Uint8Array(e.buffer,this.view.byteOffset,this.view.length+e.length):new Uint8Array(e.buffer,e.byteOffset,e.length)}},{key:"save",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-t;this.view=new Uint8Array(e,t,r),"absoluteOffset"in e&&(this.absoluteOffset=e.absoluteOffset+t)}}]),e}())}}]);
//# sourceMappingURL=https://files.deezer.com/cache/js/player-HTML5Renderer.4155a14c944682e26ff1.js.map.json